function $6(a,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in a)){const l=Object.getOwnPropertyDescriptor(n,r);l&&Object.defineProperty(a,r,l.get?l:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();var rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jm(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Xp={exports:{}},dd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb;function tx(){if(sb)return dd;sb=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,l){var h=null;if(l!==void 0&&(h=""+l),r.key!==void 0&&(h=""+r.key),"key"in r){l={};for(var f in r)f!=="key"&&(l[f]=r[f])}else l=r;return r=l.ref,{$$typeof:a,type:n,key:h,ref:r!==void 0?r:null,props:l}}return dd.Fragment=t,dd.jsx=e,dd.jsxs=e,dd}var ob;function ex(){return ob||(ob=1,Xp.exports=tx()),Xp.exports}var $=ex(),qp={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function nx(){if(lb)return te;lb=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function A(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function M(q,tt,mt){this.props=q,this.context=tt,this.refs=w,this.updater=mt||S}M.prototype.isReactComponent={},M.prototype.setState=function(q,tt){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,tt,"setState")},M.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function D(){}D.prototype=M.prototype;function T(q,tt,mt){this.props=q,this.context=tt,this.refs=w,this.updater=mt||S}var O=T.prototype=new D;O.constructor=T,x(O,M.prototype),O.isPureReactComponent=!0;var R=Array.isArray,z={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function V(q,tt,mt,lt,dt,Tt){return mt=Tt.ref,{$$typeof:a,type:q,key:tt,ref:mt!==void 0?mt:null,props:Tt}}function P(q,tt){return V(q.type,tt,void 0,void 0,void 0,q.props)}function K(q){return typeof q=="object"&&q!==null&&q.$$typeof===a}function B(q){var tt={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(mt){return tt[mt]})}var Y=/\/+/g;function Z(q,tt){return typeof q=="object"&&q!==null&&q.key!=null?B(""+q.key):tt.toString(36)}function j(){}function U(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(j,j):(q.status="pending",q.then(function(tt){q.status==="pending"&&(q.status="fulfilled",q.value=tt)},function(tt){q.status==="pending"&&(q.status="rejected",q.reason=tt)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function G(q,tt,mt,lt,dt){var Tt=typeof q;(Tt==="undefined"||Tt==="boolean")&&(q=null);var Ct=!1;if(q===null)Ct=!0;else switch(Tt){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(q.$$typeof){case a:case t:Ct=!0;break;case v:return Ct=q._init,G(Ct(q._payload),tt,mt,lt,dt)}}if(Ct)return dt=dt(q),Ct=lt===""?"."+Z(q,0):lt,R(dt)?(mt="",Ct!=null&&(mt=Ct.replace(Y,"$&/")+"/"),G(dt,tt,mt,"",function(_t){return _t})):dt!=null&&(K(dt)&&(dt=P(dt,mt+(dt.key==null||q&&q.key===dt.key?"":(""+dt.key).replace(Y,"$&/")+"/")+Ct)),tt.push(dt)),1;Ct=0;var et=lt===""?".":lt+":";if(R(q))for(var rt=0;rt<q.length;rt++)lt=q[rt],Tt=et+Z(lt,rt),Ct+=G(lt,tt,mt,Tt,dt);else if(rt=A(q),typeof rt=="function")for(q=rt.call(q),rt=0;!(lt=q.next()).done;)lt=lt.value,Tt=et+Z(lt,rt++),Ct+=G(lt,tt,mt,Tt,dt);else if(Tt==="object"){if(typeof q.then=="function")return G(U(q),tt,mt,lt,dt);throw tt=String(q),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function k(q,tt,mt){if(q==null)return q;var lt=[],dt=0;return G(q,lt,"","",function(Tt){return tt.call(mt,Tt,dt++)}),lt}function X(q){if(q._status===-1){var tt=q._result;tt=tt(),tt.then(function(mt){(q._status===0||q._status===-1)&&(q._status=1,q._result=mt)},function(mt){(q._status===0||q._status===-1)&&(q._status=2,q._result=mt)}),q._status===-1&&(q._status=0,q._result=tt)}if(q._status===1)return q._result.default;throw q._result}var I=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function it(){}return te.Children={map:k,forEach:function(q,tt,mt){k(q,function(){tt.apply(this,arguments)},mt)},count:function(q){var tt=0;return k(q,function(){tt++}),tt},toArray:function(q){return k(q,function(tt){return tt})||[]},only:function(q){if(!K(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},te.Component=M,te.Fragment=e,te.Profiler=r,te.PureComponent=T,te.StrictMode=n,te.Suspense=d,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,te.act=function(){throw Error("act(...) is not supported in production builds of React.")},te.cache=function(q){return function(){return q.apply(null,arguments)}},te.cloneElement=function(q,tt,mt){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var lt=x({},q.props),dt=q.key,Tt=void 0;if(tt!=null)for(Ct in tt.ref!==void 0&&(Tt=void 0),tt.key!==void 0&&(dt=""+tt.key),tt)!H.call(tt,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&tt.ref===void 0||(lt[Ct]=tt[Ct]);var Ct=arguments.length-2;if(Ct===1)lt.children=mt;else if(1<Ct){for(var et=Array(Ct),rt=0;rt<Ct;rt++)et[rt]=arguments[rt+2];lt.children=et}return V(q.type,dt,void 0,void 0,Tt,lt)},te.createContext=function(q){return q={$$typeof:h,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},te.createElement=function(q,tt,mt){var lt,dt={},Tt=null;if(tt!=null)for(lt in tt.key!==void 0&&(Tt=""+tt.key),tt)H.call(tt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(dt[lt]=tt[lt]);var Ct=arguments.length-2;if(Ct===1)dt.children=mt;else if(1<Ct){for(var et=Array(Ct),rt=0;rt<Ct;rt++)et[rt]=arguments[rt+2];dt.children=et}if(q&&q.defaultProps)for(lt in Ct=q.defaultProps,Ct)dt[lt]===void 0&&(dt[lt]=Ct[lt]);return V(q,Tt,void 0,void 0,null,dt)},te.createRef=function(){return{current:null}},te.forwardRef=function(q){return{$$typeof:f,render:q}},te.isValidElement=K,te.lazy=function(q){return{$$typeof:v,_payload:{_status:-1,_result:q},_init:X}},te.memo=function(q,tt){return{$$typeof:p,type:q,compare:tt===void 0?null:tt}},te.startTransition=function(q){var tt=z.T,mt={};z.T=mt;try{var lt=q(),dt=z.S;dt!==null&&dt(mt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(it,I)}catch(Tt){I(Tt)}finally{z.T=tt}},te.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},te.use=function(q){return z.H.use(q)},te.useActionState=function(q,tt,mt){return z.H.useActionState(q,tt,mt)},te.useCallback=function(q,tt){return z.H.useCallback(q,tt)},te.useContext=function(q){return z.H.useContext(q)},te.useDebugValue=function(){},te.useDeferredValue=function(q,tt){return z.H.useDeferredValue(q,tt)},te.useEffect=function(q,tt){return z.H.useEffect(q,tt)},te.useId=function(){return z.H.useId()},te.useImperativeHandle=function(q,tt,mt){return z.H.useImperativeHandle(q,tt,mt)},te.useInsertionEffect=function(q,tt){return z.H.useInsertionEffect(q,tt)},te.useLayoutEffect=function(q,tt){return z.H.useLayoutEffect(q,tt)},te.useMemo=function(q,tt){return z.H.useMemo(q,tt)},te.useOptimistic=function(q,tt){return z.H.useOptimistic(q,tt)},te.useReducer=function(q,tt,mt){return z.H.useReducer(q,tt,mt)},te.useRef=function(q){return z.H.useRef(q)},te.useState=function(q){return z.H.useState(q)},te.useSyncExternalStore=function(q,tt,mt){return z.H.useSyncExternalStore(q,tt,mt)},te.useTransition=function(){return z.H.useTransition()},te.version="19.0.0",te}var cb;function C0(){return cb||(cb=1,qp.exports=nx()),qp.exports}var F=C0();const dn=jm(F),g_=$6({__proto__:null,default:dn},[F]);var Kp={exports:{}},gd={},Qp={exports:{}},Wp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function ix(){return ub||(ub=1,function(a){function t(k,X){var I=k.length;k.push(X);t:for(;0<I;){var it=I-1>>>1,q=k[it];if(0<r(q,X))k[it]=X,k[I]=q,I=it;else break t}}function e(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var X=k[0],I=k.pop();if(I!==X){k[0]=I;t:for(var it=0,q=k.length,tt=q>>>1;it<tt;){var mt=2*(it+1)-1,lt=k[mt],dt=mt+1,Tt=k[dt];if(0>r(lt,I))dt<q&&0>r(Tt,lt)?(k[it]=Tt,k[dt]=I,it=dt):(k[it]=lt,k[mt]=I,it=mt);else if(dt<q&&0>r(Tt,I))k[it]=Tt,k[dt]=I,it=dt;else break t}}return X}function r(k,X){var I=k.sortIndex-X.sortIndex;return I!==0?I:k.id-X.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();a.unstable_now=function(){return h.now()-f}}var d=[],p=[],v=1,b=null,A=3,S=!1,x=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function O(k){for(var X=e(p);X!==null;){if(X.callback===null)n(p);else if(X.startTime<=k)n(p),X.sortIndex=X.expirationTime,t(d,X);else break;X=e(p)}}function R(k){if(w=!1,O(k),!x)if(e(d)!==null)x=!0,U();else{var X=e(p);X!==null&&G(R,X.startTime-k)}}var z=!1,H=-1,V=5,P=-1;function K(){return!(a.unstable_now()-P<V)}function B(){if(z){var k=a.unstable_now();P=k;var X=!0;try{t:{x=!1,w&&(w=!1,D(H),H=-1),S=!0;var I=A;try{e:{for(O(k),b=e(d);b!==null&&!(b.expirationTime>k&&K());){var it=b.callback;if(typeof it=="function"){b.callback=null,A=b.priorityLevel;var q=it(b.expirationTime<=k);if(k=a.unstable_now(),typeof q=="function"){b.callback=q,O(k),X=!0;break e}b===e(d)&&n(d),O(k)}else n(d);b=e(d)}if(b!==null)X=!0;else{var tt=e(p);tt!==null&&G(R,tt.startTime-k),X=!1}}break t}finally{b=null,A=I,S=!1}X=void 0}}finally{X?Y():z=!1}}}var Y;if(typeof T=="function")Y=function(){T(B)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,j=Z.port2;Z.port1.onmessage=B,Y=function(){j.postMessage(null)}}else Y=function(){M(B,0)};function U(){z||(z=!0,Y())}function G(k,X){H=M(function(){k(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(k){k.callback=null},a.unstable_continueExecution=function(){x||S||(x=!0,U())},a.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<k?Math.floor(1e3/k):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_getFirstCallbackNode=function(){return e(d)},a.unstable_next=function(k){switch(A){case 1:case 2:case 3:var X=3;break;default:X=A}var I=A;A=X;try{return k()}finally{A=I}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(k,X){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var I=A;A=k;try{return X()}finally{A=I}},a.unstable_scheduleCallback=function(k,X,I){var it=a.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?it+I:it):I=it,k){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=I+q,k={id:v++,callback:X,priorityLevel:k,startTime:I,expirationTime:q,sortIndex:-1},I>it?(k.sortIndex=I,t(p,k),e(d)===null&&k===e(p)&&(w?(D(H),H=-1):w=!0,G(R,I-it))):(k.sortIndex=q,t(d,k),x||S||(x=!0,U())),k},a.unstable_shouldYield=K,a.unstable_wrapCallback=function(k){var X=A;return function(){var I=A;A=X;try{return k.apply(this,arguments)}finally{A=I}}}}(Wp)),Wp}var hb;function xv(){return hb||(hb=1,Qp.exports=ix()),Qp.exports}var Zp={exports:{}},Oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function ax(){if(fb)return Oi;fb=1;var a=C0();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(d,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:d,containerInfo:p,implementation:v}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Oi.createPortal=function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(d,p,null,v)},Oi.flushSync=function(d){var p=h.T,v=n.p;try{if(h.T=null,n.p=2,d)return d()}finally{h.T=p,n.p=v,n.d.f()}},Oi.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(d,p))},Oi.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Oi.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?n.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:S}):v==="script"&&n.d.X(d,{crossOrigin:b,integrity:A,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Oi.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);n.d.M(d,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(d)},Oi.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin);n.d.L(d,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Oi.preloadModule=function(d,p){if(typeof d=="string")if(p){var v=f(p.as,p.crossOrigin);n.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(d)},Oi.requestFormReset=function(d){n.d.r(d)},Oi.unstable_batchedUpdates=function(d,p){return d(p)},Oi.useFormState=function(d,p,v){return h.H.useFormState(d,p,v)},Oi.useFormStatus=function(){return h.H.useHostTransitionStatus()},Oi.version="19.0.0",Oi}var db;function m_(){if(db)return Zp.exports;db=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Zp.exports=ax(),Zp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function rx(){if(gb)return gd;gb=1;var a=xv(),t=C0(),e=m_();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),S=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),R=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function P(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case f:return"Portal";case v:return"Profiler";case p:return"StrictMode";case w:return"Suspense";case M:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case S:return(i.displayName||"Context")+".Provider";case A:return(i._context.displayName||"Context")+".Consumer";case x:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return s=i.displayName||null,s!==null?s:P(i.type)||"Memo";case T:s=i._payload,i=i._init;try{return P(i(s))}catch{}}return null}var K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=Object.assign,Y,Z;function j(i){if(Y===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Y=s&&s[1]||"",Z=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y+i+Z}var U=!1;function G(i,s){if(!i||U)return"";U=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(s){var Ot=function(){throw Error()};if(Object.defineProperty(Ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ot,[])}catch(St){var vt=St}Reflect.construct(i,[],Ot)}else{try{Ot.call()}catch(St){vt=St}i.call(Ot.prototype)}}else{try{throw Error()}catch(St){vt=St}(Ot=i())&&typeof Ot.catch=="function"&&Ot.catch(function(){})}}catch(St){if(St&&vt&&typeof St.stack=="string")return[St.stack,vt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=g.DetermineComponentFrameRoot(),L=C[0],Q=C[1];if(L&&Q){var J=L.split(`
`),ct=Q.split(`
`);for(y=g=0;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;for(;y<ct.length&&!ct[y].includes("DetermineComponentFrameRoot");)y++;if(g===J.length||y===ct.length)for(g=J.length-1,y=ct.length-1;1<=g&&0<=y&&J[g]!==ct[y];)y--;for(;1<=g&&0<=y;g--,y--)if(J[g]!==ct[y]){if(g!==1||y!==1)do if(g--,y--,0>y||J[g]!==ct[y]){var xt=`
`+J[g].replace(" at new "," at ");return i.displayName&&xt.includes("<anonymous>")&&(xt=xt.replace("<anonymous>",i.displayName)),xt}while(1<=g&&0<=y);break}}}finally{U=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?j(u):""}function k(i){switch(i.tag){case 26:case 27:case 5:return j(i.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 15:return i=G(i.type,!1),i;case 11:return i=G(i.type.render,!1),i;case 1:return i=G(i.type,!0),i;default:return""}}function X(i){try{var s="";do s+=k(i),i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function I(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function it(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function q(i){if(I(i)!==i)throw Error(n(188))}function tt(i){var s=i.alternate;if(!s){if(s=I(i),s===null)throw Error(n(188));return s!==i?null:i}for(var u=i,g=s;;){var y=u.return;if(y===null)break;var C=y.alternate;if(C===null){if(g=y.return,g!==null){u=g;continue}break}if(y.child===C.child){for(C=y.child;C;){if(C===u)return q(y),i;if(C===g)return q(y),s;C=C.sibling}throw Error(n(188))}if(u.return!==g.return)u=y,g=C;else{for(var L=!1,Q=y.child;Q;){if(Q===u){L=!0,u=y,g=C;break}if(Q===g){L=!0,g=y,u=C;break}Q=Q.sibling}if(!L){for(Q=C.child;Q;){if(Q===u){L=!0,u=C,g=y;break}if(Q===g){L=!0,g=C,u=y;break}Q=Q.sibling}if(!L)throw Error(n(189))}}if(u.alternate!==g)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:s}function mt(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=mt(i),s!==null)return s;i=i.sibling}return null}var lt=Array.isArray,dt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},Ct=[],et=-1;function rt(i){return{current:i}}function _t(i){0>et||(i.current=Ct[et],Ct[et]=null,et--)}function wt(i,s){et++,Ct[et]=i.current,i.current=s}var Nt=rt(null),Bt=rt(null),Xt=rt(null),It=rt(null);function Pt(i,s){switch(wt(Xt,s),wt(Bt,i),wt(Nt,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?zy(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=zy(i),s=By(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}_t(Nt),wt(Nt,s)}function Ne(){_t(Nt),_t(Bt),_t(Xt)}function Wt(i){i.memoizedState!==null&&wt(It,i);var s=Nt.current,u=By(s,i.type);s!==u&&(wt(Bt,i),wt(Nt,u))}function Ee(i){Bt.current===i&&(_t(Nt),_t(Bt)),It.current===i&&(_t(It),ld._currentValue=Tt)}var Nn=Object.prototype.hasOwnProperty,He=a.unstable_scheduleCallback,Xn=a.unstable_cancelCallback,ri=a.unstable_shouldYield,Qe=a.unstable_requestPaint,tn=a.unstable_now,si=a.unstable_getCurrentPriorityLevel,Yi=a.unstable_ImmediatePriority,en=a.unstable_UserBlockingPriority,qn=a.unstable_NormalPriority,ma=a.unstable_LowPriority,Di=a.unstable_IdlePriority,Ba=a.log,Qh=a.unstable_setDisableYieldValue,mn=null,xe=null;function Xi(i){if(xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(mn,i,void 0,(i.current.flags&128)===128)}catch{}}function qi(i){if(typeof Ba=="function"&&Qh(i),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(mn,i)}catch{}}var Gn=Math.clz32?Math.clz32:j0,tc=Math.log,N0=Math.LN2;function j0(i){return i>>>=0,i===0?32:31-(tc(i)/N0|0)|0}var Xs=128,ec=4194304;function La(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function nc(i,s){var u=i.pendingLanes;if(u===0)return 0;var g=0,y=i.suspendedLanes,C=i.pingedLanes,L=i.warmLanes;i=i.finishedLanes!==0;var Q=u&134217727;return Q!==0?(u=Q&~y,u!==0?g=La(u):(C&=Q,C!==0?g=La(C):i||(L=Q&~L,L!==0&&(g=La(L))))):(Q=u&~y,Q!==0?g=La(Q):C!==0?g=La(C):i||(L=u&~L,L!==0&&(g=La(L)))),g===0?0:s!==0&&s!==g&&!(s&y)&&(y=g&-g,L=s&-s,y>=L||y===32&&(L&4194176)!==0)?s:g}function Xo(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function gu(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(){var i=Xs;return Xs<<=1,!(Xs&4194176)&&(Xs=128),i}function ic(){var i=ec;return ec<<=1,!(ec&62914560)&&(ec=4194304),i}function mu(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Ko(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function z0(i,s,u,g,y,C){var L=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var Q=i.entanglements,J=i.expirationTimes,ct=i.hiddenUpdates;for(u=L&~u;0<u;){var xt=31-Gn(u),Ot=1<<xt;Q[xt]=0,J[xt]=-1;var vt=ct[xt];if(vt!==null)for(ct[xt]=null,xt=0;xt<vt.length;xt++){var St=vt[xt];St!==null&&(St.lane&=-536870913)}u&=~Ot}g!==0&&pu(i,g,0),C!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=C&~(L&~s))}function pu(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var g=31-Gn(s);i.entangledLanes|=s,i.entanglements[g]=i.entanglements[g]|1073741824|u&4194218}function vu(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var g=31-Gn(u),y=1<<g;y&s|i[g]&s&&(i[g]|=s),u&=~y}}function rr(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function Wh(){var i=dt.p;return i!==0?i:(i=window.event,i===void 0?32:$y(i.type))}function Jr(i,s){var u=dt.p;try{return dt.p=i,s()}finally{dt.p=u}}var Kn=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Kn,de="__reactProps$"+Kn,$r="__reactContainer$"+Kn,ac="__reactEvents$"+Kn,B0="__reactListeners$"+Kn,L0="__reactHandles$"+Kn,U0="__reactResources$"+Kn,qs="__reactMarker$"+Kn;function rc(i){delete i[Tn],delete i[de],delete i[ac],delete i[B0],delete i[L0]}function sr(i){var s=i[Tn];if(s)return s;for(var u=i.parentNode;u;){if(s=u[$r]||u[Tn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=Gy(i);i!==null;){if(u=i[Tn])return u;i=Gy(i)}return s}i=u,u=i.parentNode}return null}function En(i){if(i=i[Tn]||i[$r]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Ve(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function Ua(i){var s=i[U0];return s||(s=i[U0]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function nn(i){i[qs]=!0}var yu=new Set,Ga={};function Ha(i,s){ts(i,s),ts(i+"Capture",s)}function ts(i,s){for(Ga[i]=s,i=0;i<s.length;i++)yu.add(s[i])}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),G0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zh={},Ih={};function H0(i){return Nn.call(Ih,i)?!0:Nn.call(Zh,i)?!1:G0.test(i)?Ih[i]=!0:(Zh[i]=!0,!1)}function sc(i,s,u){if(H0(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var g=s.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function oc(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function va(i,s,u,g){if(g===null)i.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+g)}}function Ri(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function k0(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function P0(i){var s=k0(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),g=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,C=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return y.call(this)},set:function(L){g=""+L,C.call(this,L)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(L){g=""+L},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function lc(i){i._valueTracker||(i._valueTracker=P0(i))}function Jh(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),g="";return i&&(g=k0(i)?i.checked?"true":"false":i.value),i=g,i!==u?(s.setValue(i),!0):!1}function Qo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var F0=/[\n"\\]/g;function Ni(i){return i.replace(F0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function bu(i,s,u,g,y,C,L,Q){i.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.type=L:i.removeAttribute("type"),s!=null?L==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Ri(s)):i.value!==""+Ri(s)&&(i.value=""+Ri(s)):L!=="submit"&&L!=="reset"||i.removeAttribute("value"),s!=null?_u(i,L,Ri(s)):u!=null?_u(i,L,Ri(u)):g!=null&&i.removeAttribute("value"),y==null&&C!=null&&(i.defaultChecked=!!C),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?i.name=""+Ri(Q):i.removeAttribute("name")}function $h(i,s,u,g,y,C,L,Q){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.type=C),s!=null||u!=null){if(!(C!=="submit"&&C!=="reset"||s!=null))return;u=u!=null?""+Ri(u):"",s=s!=null?""+Ri(s):u,Q||s===i.value||(i.value=s),i.defaultValue=s}g=g??y,g=typeof g!="function"&&typeof g!="symbol"&&!!g,i.checked=Q?i.checked:!!g,i.defaultChecked=!!g,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(i.name=L)}function _u(i,s,u){s==="number"&&Qo(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Wo(i,s,u,g){if(i=i.options,s){s={};for(var y=0;y<u.length;y++)s["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=s.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&g&&(i[u].defaultSelected=!0)}else{for(u=""+Ri(u),s=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,g&&(i[y].defaultSelected=!0);return}s!==null||i[y].disabled||(s=i[y])}s!==null&&(s.selected=!0)}}function tf(i,s,u){if(s!=null&&(s=""+Ri(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+Ri(u):""}function Ks(i,s,u,g){if(s==null){if(g!=null){if(u!=null)throw Error(n(92));if(lt(g)){if(1<g.length)throw Error(n(93));g=g[0]}u=g}u==null&&(u=""),s=u}u=Ri(s),i.defaultValue=u,g=i.textContent,g===u&&g!==""&&g!==null&&(i.value=g)}function Qs(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cc(i,s,u){var g=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?g?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":g?i.setProperty(s,u):typeof u!="number"||u===0||Su.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function ef(i,s,u){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,u!=null){for(var g in u)!u.hasOwnProperty(g)||s!=null&&s.hasOwnProperty(g)||(g.indexOf("--")===0?i.setProperty(g,""):g==="float"?i.cssFloat="":i[g]="");for(var y in s)g=s[y],s.hasOwnProperty(y)&&u[y]!==g&&cc(i,y,g)}else for(var C in s)s.hasOwnProperty(C)&&cc(i,C,s[C])}function uc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hc(i){return Y0.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Au=null;function fc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ws=null,Zs=null;function xu(i){var s=En(i);if(s&&(i=s.stateNode)){var u=i[de]||null;t:switch(i=s.stateNode,s.type){case"input":if(bu(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ni(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var g=u[s];if(g!==i&&g.form===i.form){var y=g[de]||null;if(!y)throw Error(n(90));bu(g,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<u.length;s++)g=u[s],g.form===i.form&&Jh(g)}break t;case"textarea":tf(i,u.value,u.defaultValue);break t;case"select":s=u.value,s!=null&&Wo(i,!!u.multiple,s,!1)}}}var Cu=!1;function nf(i,s,u){if(Cu)return i(s,u);Cu=!0;try{var g=i(s);return g}finally{if(Cu=!1,(Ws!==null||Zs!==null)&&(bo(),Ws&&(s=Ws,i=Zs,Zs=Ws=null,xu(s),i)))for(s=0;s<i.length;s++)xu(i[s])}}function Zo(i,s){var u=i.stateNode;if(u===null)return null;var g=u[de]||null;if(g===null)return null;u=g[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break t;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var dc=!1;if(pa)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){dc=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{dc=!1}var or=null,af=null,Tu=null;function rf(){if(Tu)return Tu;var i,s=af,u=s.length,g,y="value"in or?or.value:or.textContent,C=y.length;for(i=0;i<u&&s[i]===y[i];i++);var L=u-i;for(g=1;g<=L&&s[u-g]===y[C-g];g++);return Tu=y.slice(i,1<g?1-g:void 0)}function es(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Jo(){return!0}function gc(){return!1}function oi(i){function s(u,g,y,C,L){this._reactName=u,this._targetInst=y,this.type=g,this.nativeEvent=C,this.target=L,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(u=i[Q],this[Q]=u?u(C):C[Q]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Jo:gc,this.isPropagationStopped=gc,this}return B(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),s}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$o=oi(ns),tl=B({},ns,{view:0,detail:0}),X0=oi(tl),lr,el,nl,il=B({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==nl&&(nl&&i.type==="mousemove"?(lr=i.screenX-nl.screenX,el=i.screenY-nl.screenY):el=lr=0,nl=i),lr)},movementY:function(i){return"movementY"in i?i.movementY:el}}),sf=oi(il),q0=B({},il,{dataTransfer:0}),up=oi(q0),Hn=B({},tl,{relatedTarget:0}),Eu=oi(Hn),K0=B({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Q0=oi(K0),W0=B({},ns,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Z0=oi(W0),mc=B({},ns,{data:0}),wu=oi(mc),I0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function of(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=$0[i])?!!s[i]:!1}function pc(){return of}var tg=B({},tl,{key:function(i){if(i.key){var s=I0[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=es(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?J0[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pc,charCode:function(i){return i.type==="keypress"?es(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?es(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),lf=oi(tg),cf=B({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ou=oi(cf),eg=B({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pc}),uf=oi(eg),ng=B({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),cr=oi(ng),hf=B({},il,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),hp=oi(hf),ig=B({},ns,{newState:0,oldState:0}),is=oi(ig),ur=[9,13,27,32],vc=pa&&"CompositionEvent"in window,Is=null;pa&&"documentMode"in document&&(Is=document.documentMode);var yc=pa&&"TextEvent"in window&&!Is,bc=pa&&(!vc||Is&&8<Is&&11>=Is),as=" ",kn=!1;function _c(i,s){switch(i){case"keyup":return ur.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ff(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var rs=!1;function Sc(i,s){switch(i){case"compositionend":return ff(s);case"keypress":return s.which!==32?null:(kn=!0,as);case"textInput":return i=s.data,i===as&&kn?null:i;default:return null}}function df(i,s){if(rs)return i==="compositionend"||!vc&&_c(i,s)?(i=rf(),Tu=af=or=null,rs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return bc&&s.locale!=="ko"?null:s.data;default:return null}}var Mu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Mu[i.type]:s==="textarea"}function yi(i,s,u,g){Ws?Zs?Zs.push(g):Zs=[g]:Ws=g,s=i1(s,"onChange"),0<s.length&&(u=new $o("onChange","change",null,u,g),i.push({event:u,listeners:s}))}var al=null,Js=null;function ag(i){My(i,0)}function Ac(i){var s=Ve(i);if(Jh(s))return i}function Du(i,s){if(i==="change")return s}var Ru=!1;if(pa){var Nu;if(pa){var rl="oninput"in document;if(!rl){var sl=document.createElement("div");sl.setAttribute("oninput","return;"),rl=typeof sl.oninput=="function"}Nu=rl}else Nu=!1;Ru=Nu&&(!document.documentMode||9<document.documentMode)}function Ye(){al&&(al.detachEvent("onpropertychange",rg),Js=al=null)}function rg(i){if(i.propertyName==="value"&&Ac(Js)){var s=[];yi(s,Js,i,fc(i)),nf(ag,s)}}function fp(i,s,u){i==="focusin"?(Ye(),al=s,Js=u,al.attachEvent("onpropertychange",rg)):i==="focusout"&&Ye()}function sg(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ac(Js)}function xc(i,s){if(i==="click")return Ac(s)}function ss(i,s){if(i==="input"||i==="change")return Ac(s)}function og(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var bi=typeof Object.is=="function"?Object.is:og;function ya(i,s){if(bi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),g=Object.keys(s);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var y=u[g];if(!Nn.call(s,y)||!bi(i[y],s[y]))return!1}return!0}function _i(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function mf(i,s){var u=_i(i);i=0;for(var g;u;){if(u.nodeType===3){if(g=i+u.textContent.length,i<=s&&g>=s)return{node:u,offset:s-i};i=g}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=_i(u)}}function pf(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?pf(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function vf(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Qo(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Qo(i.document)}return s}function Cc(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function yf(i,s){var u=vf(s);s=i.focusedElem;var g=i.selectionRange;if(u!==s&&s&&s.ownerDocument&&pf(s.ownerDocument.documentElement,s)){if(g!==null&&Cc(s)){if(i=g.start,u=g.end,u===void 0&&(u=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(u,s.value.length);else if(u=(i=s.ownerDocument||document)&&i.defaultView||window,u.getSelection){u=u.getSelection();var y=s.textContent.length,C=Math.min(g.start,y);g=g.end===void 0?C:Math.min(g.end,y),!u.extend&&C>g&&(y=g,g=C,C=y),y=mf(s,C);var L=mf(s,g);y&&L&&(u.rangeCount!==1||u.anchorNode!==y.node||u.anchorOffset!==y.offset||u.focusNode!==L.node||u.focusOffset!==L.offset)&&(i=i.createRange(),i.setStart(y.node,y.offset),u.removeAllRanges(),C>g?(u.addRange(i),u.extend(L.node,L.offset)):(i.setEnd(L.node,L.offset),u.addRange(i)))}}for(i=[],u=s;u=u.parentNode;)u.nodeType===1&&i.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)u=i[s],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var ju=pa&&"documentMode"in document&&11>=document.documentMode,$s=null,bf=null,ol=null,zu=!1;function Ki(i,s,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;zu||$s==null||$s!==Qo(g)||(g=$s,"selectionStart"in g&&Cc(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),ol&&ya(ol,g)||(ol=g,g=i1(bf,"onSelect"),0<g.length&&(s=new $o("onSelect","select",null,s,u),i.push({event:s,listeners:g}),s.target=$s)))}function hr(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var to={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},_f={},Bu={};pa&&(Bu=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function pn(i){if(_f[i])return _f[i];if(!to[i])return i;var s=to[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Bu)return _f[i]=s[u];return i}var Sf=pn("animationend"),Si=pn("animationiteration"),Af=pn("animationstart"),fr=pn("transitionrun"),ll=pn("transitionstart"),os=pn("transitioncancel"),Lu=pn("transitionend"),Uu=new Map,dr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qi(i,s){Uu.set(i,s),Ha(s,[i])}var Pn=[],ka=0,gr=0;function Tc(){for(var i=ka,s=gr=ka=0;s<i;){var u=Pn[s];Pn[s++]=null;var g=Pn[s];Pn[s++]=null;var y=Pn[s];Pn[s++]=null;var C=Pn[s];if(Pn[s++]=null,g!==null&&y!==null){var L=g.pending;L===null?y.next=y:(y.next=L.next,L.next=y),g.pending=y}C!==0&&wc(u,y,C)}}function Ec(i,s,u,g){Pn[ka++]=i,Pn[ka++]=s,Pn[ka++]=u,Pn[ka++]=g,gr|=g,i.lanes|=g,i=i.alternate,i!==null&&(i.lanes|=g)}function eo(i,s,u,g){return Ec(i,s,u,g),Oc(i)}function mr(i,s){return Ec(i,null,null,s),Oc(i)}function wc(i,s,u){i.lanes|=u;var g=i.alternate;g!==null&&(g.lanes|=u);for(var y=!1,C=i.return;C!==null;)C.childLanes|=u,g=C.alternate,g!==null&&(g.childLanes|=u),C.tag===22&&(i=C.stateNode,i===null||i._visibility&1||(y=!0)),i=C,C=C.return;y&&s!==null&&i.tag===3&&(C=i.stateNode,y=31-Gn(u),C=C.hiddenUpdates,i=C[y],i===null?C[y]=[s]:i.push(s),s.lane=u|536870912)}function Oc(i){if(50<aa)throw aa=0,Lr=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ls={},Gu=new WeakMap;function Ai(i,s){if(typeof i=="object"&&i!==null){var u=Gu.get(i);return u!==void 0?u:(s={value:i,source:s,stack:X(s)},Gu.set(i,s),s)}return{value:i,source:s,stack:X(s)}}var no=[],cs=0,Qn=null,Mc=0,Le=[],ji=0,pr=null,Pa=1,vr="";function li(i,s){no[cs++]=Mc,no[cs++]=Qn,Qn=i,Mc=s}function xf(i,s,u){Le[ji++]=Pa,Le[ji++]=vr,Le[ji++]=pr,pr=i;var g=Pa;i=vr;var y=32-Gn(g)-1;g&=~(1<<y),u+=1;var C=32-Gn(s)+y;if(30<C){var L=y-y%5;C=(g&(1<<L)-1).toString(32),g>>=L,y-=L,Pa=1<<32-Gn(s)+y|u<<y|g,vr=C+i}else Pa=1<<C|u<<y|g,vr=i}function Dc(i){i.return!==null&&(li(i,1),xf(i,1,0))}function us(i){for(;i===Qn;)Qn=no[--cs],no[cs]=null,Mc=no[--cs],no[cs]=null;for(;i===pr;)pr=Le[--ji],Le[ji]=null,vr=Le[--ji],Le[ji]=null,Pa=Le[--ji],Le[ji]=null}var Wn=null,jn=null,me=!1,Wi=null,Zi=!1,Rc=Error(n(519));function io(i){var s=Error(n(418,""));throw Fa(Ai(s,i)),Rc}function lg(i){var s=i.stateNode,u=i.type,g=i.memoizedProps;switch(s[Tn]=i,s[de]=g,u){case"dialog":ve("cancel",s),ve("close",s);break;case"iframe":case"object":case"embed":ve("load",s);break;case"video":case"audio":for(u=0;u<id.length;u++)ve(id[u],s);break;case"source":ve("error",s);break;case"img":case"image":case"link":ve("error",s),ve("load",s);break;case"details":ve("toggle",s);break;case"input":ve("invalid",s),$h(s,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),lc(s);break;case"select":ve("invalid",s);break;case"textarea":ve("invalid",s),Ks(s,g.value,g.defaultValue,g.children),lc(s)}u=g.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||g.suppressHydrationWarning===!0||jy(s.textContent,u)?(g.popover!=null&&(ve("beforetoggle",s),ve("toggle",s)),g.onScroll!=null&&ve("scroll",s),g.onScrollEnd!=null&&ve("scrollend",s),g.onClick!=null&&(s.onclick=a1),s=!0):s=!1,s||io(i)}function cg(i){for(Wn=i.return;Wn;)switch(Wn.tag){case 3:case 27:Zi=!0;return;case 5:case 13:Zi=!1;return;default:Wn=Wn.return}}function cl(i){if(i!==Wn)return!1;if(!me)return cg(i),me=!0,!1;var s=!1,u;if((u=i.tag!==3&&i.tag!==27)&&((u=i.tag===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Np(i.type,i.memoizedProps)),u=!u),u&&(s=!0),s&&jn&&io(i),cg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(s===0){jn=Gr(i.nextSibling);break t}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;i=i.nextSibling}jn=null}}else jn=Wn?Gr(i.stateNode.nextSibling):null;return!0}function ul(){jn=Wn=null,me=!1}function Fa(i){Wi===null?Wi=[i]:Wi.push(i)}var hs=Error(n(460)),Cf=Error(n(474)),Hu={then:function(){}};function ug(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Nc(){}function fs(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(Nc,Nc),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===hs?Error(n(483)):i;default:if(typeof s.status=="string")s.then(Nc,Nc);else{if(i=Oe,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(g){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=g}},function(g){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=g}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===hs?Error(n(483)):i}throw hl=s,hs}}var hl=null;function Se(){if(hl===null)throw Error(n(459));var i=hl;return hl=null,i}var ds=null,jc=0;function zc(i){var s=jc;return jc+=1,ds===null&&(ds=[]),fs(ds,i,s)}function Bc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ku(i,s){throw s.$$typeof===l?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function hg(i){var s=i._init;return s(i._payload)}function fg(i){function s(ht,ot){if(i){var gt=ht.deletions;gt===null?(ht.deletions=[ot],ht.flags|=16):gt.push(ot)}}function u(ht,ot){if(!i)return null;for(;ot!==null;)s(ht,ot),ot=ot.sibling;return null}function g(ht){for(var ot=new Map;ht!==null;)ht.key!==null?ot.set(ht.key,ht):ot.set(ht.index,ht),ht=ht.sibling;return ot}function y(ht,ot){return ht=fi(ht,ot),ht.index=0,ht.sibling=null,ht}function C(ht,ot,gt){return ht.index=gt,i?(gt=ht.alternate,gt!==null?(gt=gt.index,gt<ot?(ht.flags|=33554434,ot):gt):(ht.flags|=33554434,ot)):(ht.flags|=1048576,ot)}function L(ht){return i&&ht.alternate===null&&(ht.flags|=33554434),ht}function Q(ht,ot,gt,Et){return ot===null||ot.tag!==6?(ot=_n(gt,ht.mode,Et),ot.return=ht,ot):(ot=y(ot,gt),ot.return=ht,ot)}function J(ht,ot,gt,Et){var Lt=gt.type;return Lt===d?xt(ht,ot,gt.props.children,Et,gt.key):ot!==null&&(ot.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===T&&hg(Lt)===ot.type)?(ot=y(ot,gt.props),Bc(ot,gt),ot.return=ht,ot):(ot=El(gt.type,gt.key,gt.props,null,ht.mode,Et),Bc(ot,gt),ot.return=ht,ot)}function ct(ht,ot,gt,Et){return ot===null||ot.tag!==4||ot.stateNode.containerInfo!==gt.containerInfo||ot.stateNode.implementation!==gt.implementation?(ot=Kc(gt,ht.mode,Et),ot.return=ht,ot):(ot=y(ot,gt.children||[]),ot.return=ht,ot)}function xt(ht,ot,gt,Et,Lt){return ot===null||ot.tag!==7?(ot=Ns(gt,ht.mode,Et,Lt),ot.return=ht,ot):(ot=y(ot,gt),ot.return=ht,ot)}function Ot(ht,ot,gt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return ot=_n(""+ot,ht.mode,gt),ot.return=ht,ot;if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case h:return gt=El(ot.type,ot.key,ot.props,null,ht.mode,gt),Bc(gt,ot),gt.return=ht,gt;case f:return ot=Kc(ot,ht.mode,gt),ot.return=ht,ot;case T:var Et=ot._init;return ot=Et(ot._payload),Ot(ht,ot,gt)}if(lt(ot)||H(ot))return ot=Ns(ot,ht.mode,gt,null),ot.return=ht,ot;if(typeof ot.then=="function")return Ot(ht,zc(ot),gt);if(ot.$$typeof===S)return Ot(ht,ih(ht,ot),gt);ku(ht,ot)}return null}function vt(ht,ot,gt,Et){var Lt=ot!==null?ot.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return Lt!==null?null:Q(ht,ot,""+gt,Et);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case h:return gt.key===Lt?J(ht,ot,gt,Et):null;case f:return gt.key===Lt?ct(ht,ot,gt,Et):null;case T:return Lt=gt._init,gt=Lt(gt._payload),vt(ht,ot,gt,Et)}if(lt(gt)||H(gt))return Lt!==null?null:xt(ht,ot,gt,Et,null);if(typeof gt.then=="function")return vt(ht,ot,zc(gt),Et);if(gt.$$typeof===S)return vt(ht,ot,ih(ht,gt),Et);ku(ht,gt)}return null}function St(ht,ot,gt,Et,Lt){if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return ht=ht.get(gt)||null,Q(ot,ht,""+Et,Lt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case h:return ht=ht.get(Et.key===null?gt:Et.key)||null,J(ot,ht,Et,Lt);case f:return ht=ht.get(Et.key===null?gt:Et.key)||null,ct(ot,ht,Et,Lt);case T:var ue=Et._init;return Et=ue(Et._payload),St(ht,ot,gt,Et,Lt)}if(lt(Et)||H(Et))return ht=ht.get(gt)||null,xt(ot,ht,Et,Lt,null);if(typeof Et.then=="function")return St(ht,ot,gt,zc(Et),Lt);if(Et.$$typeof===S)return St(ht,ot,gt,ih(ot,Et),Lt);ku(ot,Et)}return null}function Gt(ht,ot,gt,Et){for(var Lt=null,ue=null,Ht=ot,Yt=ot=0,ni=null;Ht!==null&&Yt<gt.length;Yt++){Ht.index>Yt?(ni=Ht,Ht=null):ni=Ht.sibling;var Ae=vt(ht,Ht,gt[Yt],Et);if(Ae===null){Ht===null&&(Ht=ni);break}i&&Ht&&Ae.alternate===null&&s(ht,Ht),ot=C(Ae,ot,Yt),ue===null?Lt=Ae:ue.sibling=Ae,ue=Ae,Ht=ni}if(Yt===gt.length)return u(ht,Ht),me&&li(ht,Yt),Lt;if(Ht===null){for(;Yt<gt.length;Yt++)Ht=Ot(ht,gt[Yt],Et),Ht!==null&&(ot=C(Ht,ot,Yt),ue===null?Lt=Ht:ue.sibling=Ht,ue=Ht);return me&&li(ht,Yt),Lt}for(Ht=g(Ht);Yt<gt.length;Yt++)ni=St(Ht,ht,Yt,gt[Yt],Et),ni!==null&&(i&&ni.alternate!==null&&Ht.delete(ni.key===null?Yt:ni.key),ot=C(ni,ot,Yt),ue===null?Lt=ni:ue.sibling=ni,ue=ni);return i&&Ht.forEach(function(Bl){return s(ht,Bl)}),me&&li(ht,Yt),Lt}function Zt(ht,ot,gt,Et){if(gt==null)throw Error(n(151));for(var Lt=null,ue=null,Ht=ot,Yt=ot=0,ni=null,Ae=gt.next();Ht!==null&&!Ae.done;Yt++,Ae=gt.next()){Ht.index>Yt?(ni=Ht,Ht=null):ni=Ht.sibling;var Bl=vt(ht,Ht,Ae.value,Et);if(Bl===null){Ht===null&&(Ht=ni);break}i&&Ht&&Bl.alternate===null&&s(ht,Ht),ot=C(Bl,ot,Yt),ue===null?Lt=Bl:ue.sibling=Bl,ue=Bl,Ht=ni}if(Ae.done)return u(ht,Ht),me&&li(ht,Yt),Lt;if(Ht===null){for(;!Ae.done;Yt++,Ae=gt.next())Ae=Ot(ht,Ae.value,Et),Ae!==null&&(ot=C(Ae,ot,Yt),ue===null?Lt=Ae:ue.sibling=Ae,ue=Ae);return me&&li(ht,Yt),Lt}for(Ht=g(Ht);!Ae.done;Yt++,Ae=gt.next())Ae=St(Ht,ht,Yt,Ae.value,Et),Ae!==null&&(i&&Ae.alternate!==null&&Ht.delete(Ae.key===null?Yt:Ae.key),ot=C(Ae,ot,Yt),ue===null?Lt=Ae:ue.sibling=Ae,ue=Ae);return i&&Ht.forEach(function(J6){return s(ht,J6)}),me&&li(ht,Yt),Lt}function xn(ht,ot,gt,Et){if(typeof gt=="object"&&gt!==null&&gt.type===d&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case h:t:{for(var Lt=gt.key;ot!==null;){if(ot.key===Lt){if(Lt=gt.type,Lt===d){if(ot.tag===7){u(ht,ot.sibling),Et=y(ot,gt.props.children),Et.return=ht,ht=Et;break t}}else if(ot.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===T&&hg(Lt)===ot.type){u(ht,ot.sibling),Et=y(ot,gt.props),Bc(Et,gt),Et.return=ht,ht=Et;break t}u(ht,ot);break}else s(ht,ot);ot=ot.sibling}gt.type===d?(Et=Ns(gt.props.children,ht.mode,Et,gt.key),Et.return=ht,ht=Et):(Et=El(gt.type,gt.key,gt.props,null,ht.mode,Et),Bc(Et,gt),Et.return=ht,ht=Et)}return L(ht);case f:t:{for(Lt=gt.key;ot!==null;){if(ot.key===Lt)if(ot.tag===4&&ot.stateNode.containerInfo===gt.containerInfo&&ot.stateNode.implementation===gt.implementation){u(ht,ot.sibling),Et=y(ot,gt.children||[]),Et.return=ht,ht=Et;break t}else{u(ht,ot);break}else s(ht,ot);ot=ot.sibling}Et=Kc(gt,ht.mode,Et),Et.return=ht,ht=Et}return L(ht);case T:return Lt=gt._init,gt=Lt(gt._payload),xn(ht,ot,gt,Et)}if(lt(gt))return Gt(ht,ot,gt,Et);if(H(gt)){if(Lt=H(gt),typeof Lt!="function")throw Error(n(150));return gt=Lt.call(gt),Zt(ht,ot,gt,Et)}if(typeof gt.then=="function")return xn(ht,ot,zc(gt),Et);if(gt.$$typeof===S)return xn(ht,ot,ih(ht,gt),Et);ku(ht,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint"?(gt=""+gt,ot!==null&&ot.tag===6?(u(ht,ot.sibling),Et=y(ot,gt),Et.return=ht,ht=Et):(u(ht,ot),Et=_n(gt,ht.mode,Et),Et.return=ht,ht=Et),L(ht)):u(ht,ot)}return function(ht,ot,gt,Et){try{jc=0;var Lt=xn(ht,ot,gt,Et);return ds=null,Lt}catch(Ht){if(Ht===hs)throw Ht;var ue=un(29,Ht,null,ht.mode);return ue.lanes=Et,ue.return=ht,ue}finally{}}}var yr=fg(!0),br=fg(!1),ao=rt(null),ro=rt(0);function gs(i,s){i=Br,wt(ro,i),wt(ao,s),Br=i|s.baseLanes}function Pu(){wt(ro,Br),wt(ao,ao.current)}function Lc(){Br=ro.current,_t(ao),_t(ro)}var xi=rt(null),Va=null;function _r(i){var s=i.alternate;wt(vn,vn.current&1),wt(xi,i),Va===null&&(s===null||ao.current!==null||s.memoizedState!==null)&&(Va=i)}function Tf(i){if(i.tag===22){if(wt(vn,vn.current),wt(xi,i),Va===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Va=i)}}else Sr()}function Sr(){wt(vn,vn.current),wt(xi,xi.current)}function Ya(i){_t(xi),Va===i&&(Va=null),_t(vn)}var vn=rt(0);function fl(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ae=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,g){i.push(g)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},dp=a.unstable_scheduleCallback,zi=a.unstable_NormalPriority,an={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new ae,data:new Map,refCount:0}}function ms(i){i.refCount--,i.refCount===0&&dp(zi,function(){i.controller.abort()})}var Xa=null,ps=0,so=0,vs=null;function gp(i,s){if(Xa===null){var u=Xa=[];ps=0,so=xp(),vs={status:"pending",value:void 0,then:function(g){u.push(g)}}}return ps++,s.then(wf,wf),s}function wf(){if(--ps===0&&Xa!==null){vs!==null&&(vs.status="fulfilled");var i=Xa;Xa=null,so=0,vs=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function ys(i,s){var u=[],g={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return i.then(function(){g.status="fulfilled",g.value=s;for(var y=0;y<u.length;y++)(0,u[y])(s)},function(y){for(g.status="rejected",g.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),g}var Fu=K.S;K.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&gp(i,s),Fu!==null&&Fu(i,s)};var Ar=rt(null);function Uc(){var i=Ar.current;return i!==null?i:Oe.pooledCache}function dl(i,s){s===null?wt(Ar,Ar.current):wt(Ar,s.pool)}function xr(){var i=Uc();return i===null?null:{parent:an._currentValue,pool:i}}var Cr=0,Jt=null,Ce=null,yn=null,Vt=!1,bs=!1,_s=!1,gl=0,Ss=0,ml=null,mp=0;function Ie(){throw Error(n(321))}function oo(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!bi(i[u],s[u]))return!1;return!0}function Of(i,s,u,g,y,C){return Cr=C,Jt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=i===null||i.memoizedState===null?xs:Er,_s=!1,C=u(g,y),_s=!1,bs&&(C=gg(s,u,g,y)),dg(i),C}function dg(i){K.H=Ka;var s=Ce!==null&&Ce.next!==null;if(Cr=0,yn=Ce=Jt=null,Vt=!1,Ss=0,ml=null,s)throw Error(n(300));i===null||wn||(i=i.dependencies,i!==null&&_l(i)&&(wn=!0))}function gg(i,s,u,g){Jt=i;var y=0;do{if(bs&&(ml=null),Ss=0,bs=!1,25<=y)throw Error(n(301));if(y+=1,yn=Ce=null,i.updateQueue!=null){var C=i.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}K.H=uo,C=s(u,g)}while(bs);return C}function pp(){var i=K.H,s=i.useState()[0];return s=typeof s.then=="function"?Hc(s):s,i=i.useState()[0],(Ce!==null?Ce.memoizedState:null)!==i&&(Jt.flags|=1024),s}function Mf(){var i=gl!==0;return gl=0,i}function Gc(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function Vu(i){if(Vt){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Vt=!1}Cr=0,yn=Ce=Jt=null,bs=!1,Ss=gl=0,ml=null}function Fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Jt.memoizedState=yn=i:yn=yn.next=i,yn}function rn(){if(Ce===null){var i=Jt.alternate;i=i!==null?i.memoizedState:null}else i=Ce.next;var s=yn===null?Jt.memoizedState:yn.next;if(s!==null)yn=s,Ce=i;else{if(i===null)throw Jt.alternate===null?Error(n(467)):Error(n(310));Ce=i,i={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},yn===null?Jt.memoizedState=yn=i:yn=yn.next=i}return yn}var Yu;Yu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Hc(i){var s=Ss;return Ss+=1,ml===null&&(ml=[]),i=fs(ml,i,s),s=Jt,(yn===null?s.memoizedState:yn.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?xs:Er),i}function pl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Hc(i);if(i.$$typeof===S)return Zn(i)}throw Error(n(438,String(i)))}function ba(i){var s=null,u=Jt.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var g=Jt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(s={data:g.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Yu(),Jt.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),g=0;g<i;g++)u[g]=R;return s.index++,u}function Xe(i,s){return typeof s=="function"?s(i):s}function _a(i){var s=rn();return Ci(s,Ce,i)}function Ci(i,s,u){var g=i.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var y=i.baseQueue,C=g.pending;if(C!==null){if(y!==null){var L=y.next;y.next=C.next,C.next=L}s.baseQueue=y=C,g.pending=null}if(C=i.baseState,y===null)i.memoizedState=C;else{s=y.next;var Q=L=null,J=null,ct=s,xt=!1;do{var Ot=ct.lane&-536870913;if(Ot!==ct.lane?(kt&Ot)===Ot:(Cr&Ot)===Ot){var vt=ct.revertLane;if(vt===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),Ot===so&&(xt=!0);else if((Cr&vt)===vt){ct=ct.next,vt===so&&(xt=!0);continue}else Ot={lane:0,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},J===null?(Q=J=Ot,L=C):J=J.next=Ot,Jt.lanes|=vt,wa|=vt;Ot=ct.action,_s&&u(C,Ot),C=ct.hasEagerState?ct.eagerState:u(C,Ot)}else vt={lane:Ot,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},J===null?(Q=J=vt,L=C):J=J.next=vt,Jt.lanes|=Ot,wa|=Ot;ct=ct.next}while(ct!==null&&ct!==s);if(J===null?L=C:J.next=Q,!bi(C,i.memoizedState)&&(wn=!0,xt&&(u=vs,u!==null)))throw u;i.memoizedState=C,i.baseState=L,i.baseQueue=J,g.lastRenderedState=C}return y===null&&(g.lanes=0),[i.memoizedState,g.dispatch]}function Xu(i){var s=rn(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var g=u.dispatch,y=u.pending,C=s.memoizedState;if(y!==null){u.pending=null;var L=y=y.next;do C=i(C,L.action),L=L.next;while(L!==y);bi(C,s.memoizedState)||(wn=!0),s.memoizedState=C,s.baseQueue===null&&(s.baseState=C),u.lastRenderedState=C}return[C,g]}function mg(i,s,u){var g=Jt,y=rn(),C=me;if(C){if(u===void 0)throw Error(n(407));u=u()}else u=s();var L=!bi((Ce||y).memoizedState,u);if(L&&(y.memoizedState=u,wn=!0),y=y.queue,jf(pg.bind(null,g,y,i),[i]),y.getSnapshot!==s||L||yn!==null&&yn.memoizedState.tag&1){if(g.flags|=2048,qa(9,As.bind(null,g,y,u,s),{destroy:void 0},null),Oe===null)throw Error(n(349));C||Cr&60||ci(g,s,u)}return u}function ci(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Jt.updateQueue,s===null?(s=Yu(),Jt.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function As(i,s,u,g){s.value=u,s.getSnapshot=g,vg(s)&&yg(i)}function pg(i,s,u){return u(function(){vg(s)&&yg(i)})}function vg(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!bi(i,u)}catch{return!0}}function yg(i){var s=mr(i,2);s!==null&&An(s,i,2)}function Df(i){var s=Fn();if(typeof i=="function"){var u=i;if(i=u(),_s){qi(!0);try{u()}finally{qi(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:i},s}function Rf(i,s,u,g){return i.baseState=u,Ci(i,Ce,typeof g=="function"?g:Xe)}function vp(i,s,u,g,y){if(Zu(i))throw Error(n(485));if(i=s.action,i!==null){var C={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){C.listeners.push(L)}};K.T!==null?u(!0):C.isTransition=!1,g(C),u=s.pending,u===null?(C.next=s.pending=C,Nf(s,C)):(C.next=u.next,s.pending=u.next=C)}}function Nf(i,s){var u=s.action,g=s.payload,y=i.state;if(s.isTransition){var C=K.T,L={};K.T=L;try{var Q=u(y,g),J=K.S;J!==null&&J(L,Q),bg(i,s,Q)}catch(ct){Tr(i,s,ct)}finally{K.T=C}}else try{C=u(y,g),bg(i,s,C)}catch(ct){Tr(i,s,ct)}}function bg(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(g){lo(i,s,g)},function(g){return Tr(i,s,g)}):lo(i,s,u)}function lo(i,s,u){s.status="fulfilled",s.value=u,_g(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,Nf(i,u)))}function Tr(i,s,u){var g=i.pending;if(i.pending=null,g!==null){g=g.next;do s.status="rejected",s.reason=u,_g(s),s=s.next;while(s!==g)}i.action=null}function _g(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Sg(i,s){return s}function Ag(i,s){if(me){var u=Oe.formState;if(u!==null){t:{var g=Jt;if(me){if(jn){e:{for(var y=jn,C=Zi;y.nodeType!==8;){if(!C){y=null;break e}if(y=Gr(y.nextSibling),y===null){y=null;break e}}C=y.data,y=C==="F!"||C==="F"?y:null}if(y){jn=Gr(y.nextSibling),g=y.data==="F!";break t}}io(g)}g=!1}g&&(s=u[0])}}return u=Fn(),u.memoizedState=u.baseState=s,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sg,lastRenderedState:s},u.queue=g,u=Uf.bind(null,Jt,g),g.dispatch=u,g=Df(!1),C=kc.bind(null,Jt,!1,g.queue),g=Fn(),y={state:s,dispatch:null,action:i,pending:null},g.queue=y,u=vp.bind(null,Jt,y,C,u),y.dispatch=u,g.memoizedState=i,[s,u,!1]}function vl(i){var s=rn();return xg(s,Ce,i)}function xg(i,s,u){s=Ci(i,s,Sg)[0],i=_a(Xe)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Hc(s):s;var g=rn(),y=g.queue,C=y.dispatch;return u!==g.memoizedState&&(Jt.flags|=2048,qa(9,yp.bind(null,y,u),{destroy:void 0},null)),[s,C,i]}function yp(i,s){i.action=s}function Cg(i){var s=rn(),u=Ce;if(u!==null)return xg(s,u,i);rn(),s=s.memoizedState,u=rn();var g=u.queue.dispatch;return u.memoizedState=i,[s,g,!1]}function qa(i,s,u,g){return i={tag:i,create:s,inst:u,deps:g,next:null},s=Jt.updateQueue,s===null&&(s=Yu(),Jt.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(g=u.next,u.next=i,i.next=g,s.lastEffect=i),i}function Tg(){return rn().memoizedState}function qu(i,s,u,g){var y=Fn();Jt.flags|=i,y.memoizedState=qa(1|s,u,{destroy:void 0},g===void 0?null:g)}function Ku(i,s,u,g){var y=rn();g=g===void 0?null:g;var C=y.memoizedState.inst;Ce!==null&&g!==null&&oo(g,Ce.memoizedState.deps)?y.memoizedState=qa(s,u,C,g):(Jt.flags|=i,y.memoizedState=qa(1|s,u,C,g))}function Eg(i,s){qu(8390656,8,i,s)}function jf(i,s){Ku(2048,8,i,s)}function wg(i,s){return Ku(4,2,i,s)}function Og(i,s){return Ku(4,4,i,s)}function Mg(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Dg(i,s,u){u=u!=null?u.concat([i]):null,Ku(4,4,Mg.bind(null,s,i),u)}function zf(){}function Rg(i,s){var u=rn();s=s===void 0?null:s;var g=u.memoizedState;return s!==null&&oo(s,g[1])?g[0]:(u.memoizedState=[i,s],i)}function Ng(i,s){var u=rn();s=s===void 0?null:s;var g=u.memoizedState;if(s!==null&&oo(s,g[1]))return g[0];if(g=i(),_s){qi(!0);try{i()}finally{qi(!1)}}return u.memoizedState=[g,s],g}function Qu(i,s,u){return u===void 0||Cr&1073741824?i.memoizedState=s:(i.memoizedState=u,i=Hi(),Jt.lanes|=i,wa|=i,u)}function jg(i,s,u,g){return bi(u,s)?u:ao.current!==null?(i=Qu(i,u,g),bi(i,s)||(wn=!0),i):Cr&42?(i=Hi(),Jt.lanes|=i,wa|=i,s):(wn=!0,i.memoizedState=u)}function zg(i,s,u,g,y){var C=dt.p;dt.p=C!==0&&8>C?C:8;var L=K.T,Q={};K.T=Q,kc(i,!1,s,u);try{var J=y(),ct=K.S;if(ct!==null&&ct(Q,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var xt=ys(J,g);co(i,s,xt,gi(i))}else co(i,s,g,gi(i))}catch(Ot){co(i,s,{then:function(){},status:"rejected",reason:Ot},gi())}finally{dt.p=C,K.T=L}}function bp(){}function Bf(i,s,u,g){if(i.tag!==5)throw Error(n(476));var y=Bg(i).queue;zg(i,y,s,Tt,u===null?bp:function(){return Lg(i),u(g)})}function Bg(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:Tt},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Lg(i){var s=Bg(i).next.queue;co(i,s,{},gi())}function Wu(){return Zn(ld)}function Lf(){return rn().memoizedState}function Ug(){return rn().memoizedState}function Gg(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=gi();i=Ui(u);var g=Gi(s,i,u);g!==null&&(An(g,s,u),Es(g,s,u)),s={cache:Ef()},i.payload=s;return}s=s.return}}function Hg(i,s,u){var g=gi();u={lane:g,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Zu(i)?kg(s,u):(u=eo(i,s,u,g),u!==null&&(An(u,i,g),Pg(u,s,g)))}function Uf(i,s,u){var g=gi();co(i,s,u,g)}function co(i,s,u,g){var y={lane:g,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Zu(i))kg(s,y);else{var C=i.alternate;if(i.lanes===0&&(C===null||C.lanes===0)&&(C=s.lastRenderedReducer,C!==null))try{var L=s.lastRenderedState,Q=C(L,u);if(y.hasEagerState=!0,y.eagerState=Q,bi(Q,L))return Ec(i,s,y,0),Oe===null&&Tc(),!1}catch{}finally{}if(u=eo(i,s,y,g),u!==null)return An(u,i,g),Pg(u,s,g),!0}return!1}function kc(i,s,u,g){if(g={lane:2,revertLane:xp(),action:g,hasEagerState:!1,eagerState:null,next:null},Zu(i)){if(s)throw Error(n(479))}else s=eo(i,u,g,2),s!==null&&An(s,i,2)}function Zu(i){var s=i.alternate;return i===Jt||s!==null&&s===Jt}function kg(i,s){bs=Vt=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Pg(i,s,u){if(u&4194176){var g=s.lanes;g&=i.pendingLanes,u|=g,s.lanes=u,vu(i,u)}}var Ka={readContext:Zn,use:pl,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie};Ka.useCacheRefresh=Ie,Ka.useMemoCache=Ie,Ka.useHostTransitionStatus=Ie,Ka.useFormState=Ie,Ka.useActionState=Ie,Ka.useOptimistic=Ie;var xs={readContext:Zn,use:pl,useCallback:function(i,s){return Fn().memoizedState=[i,s===void 0?null:s],i},useContext:Zn,useEffect:Eg,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,qu(4194308,4,Mg.bind(null,s,i),u)},useLayoutEffect:function(i,s){return qu(4194308,4,i,s)},useInsertionEffect:function(i,s){qu(4,2,i,s)},useMemo:function(i,s){var u=Fn();s=s===void 0?null:s;var g=i();if(_s){qi(!0);try{i()}finally{qi(!1)}}return u.memoizedState=[g,s],g},useReducer:function(i,s,u){var g=Fn();if(u!==void 0){var y=u(s);if(_s){qi(!0);try{u(s)}finally{qi(!1)}}}else y=s;return g.memoizedState=g.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},g.queue=i,i=i.dispatch=Hg.bind(null,Jt,i),[g.memoizedState,i]},useRef:function(i){var s=Fn();return i={current:i},s.memoizedState=i},useState:function(i){i=Df(i);var s=i.queue,u=Uf.bind(null,Jt,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:zf,useDeferredValue:function(i,s){var u=Fn();return Qu(u,i,s)},useTransition:function(){var i=Df(!1);return i=zg.bind(null,Jt,i.queue,!0,!1),Fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var g=Jt,y=Fn();if(me){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),Oe===null)throw Error(n(349));kt&60||ci(g,s,u)}y.memoizedState=u;var C={value:u,getSnapshot:s};return y.queue=C,Eg(pg.bind(null,g,C,i),[i]),g.flags|=2048,qa(9,As.bind(null,g,C,u,s),{destroy:void 0},null),u},useId:function(){var i=Fn(),s=Oe.identifierPrefix;if(me){var u=vr,g=Pa;u=(g&~(1<<32-Gn(g)-1)).toString(32)+u,s=":"+s+"R"+u,u=gl++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=mp++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return Fn().memoizedState=Gg.bind(null,Jt)}};xs.useMemoCache=ba,xs.useHostTransitionStatus=Wu,xs.useFormState=Ag,xs.useActionState=Ag,xs.useOptimistic=function(i){var s=Fn();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=kc.bind(null,Jt,!0,u),u.dispatch=s,[i,s]};var Er={readContext:Zn,use:pl,useCallback:Rg,useContext:Zn,useEffect:jf,useImperativeHandle:Dg,useInsertionEffect:wg,useLayoutEffect:Og,useMemo:Ng,useReducer:_a,useRef:Tg,useState:function(){return _a(Xe)},useDebugValue:zf,useDeferredValue:function(i,s){var u=rn();return jg(u,Ce.memoizedState,i,s)},useTransition:function(){var i=_a(Xe)[0],s=rn().memoizedState;return[typeof i=="boolean"?i:Hc(i),s]},useSyncExternalStore:mg,useId:Lf};Er.useCacheRefresh=Ug,Er.useMemoCache=ba,Er.useHostTransitionStatus=Wu,Er.useFormState=vl,Er.useActionState=vl,Er.useOptimistic=function(i,s){var u=rn();return Rf(u,Ce,i,s)};var uo={readContext:Zn,use:pl,useCallback:Rg,useContext:Zn,useEffect:jf,useImperativeHandle:Dg,useInsertionEffect:wg,useLayoutEffect:Og,useMemo:Ng,useReducer:Xu,useRef:Tg,useState:function(){return Xu(Xe)},useDebugValue:zf,useDeferredValue:function(i,s){var u=rn();return Ce===null?Qu(u,i,s):jg(u,Ce.memoizedState,i,s)},useTransition:function(){var i=Xu(Xe)[0],s=rn().memoizedState;return[typeof i=="boolean"?i:Hc(i),s]},useSyncExternalStore:mg,useId:Lf};uo.useCacheRefresh=Ug,uo.useMemoCache=ba,uo.useHostTransitionStatus=Wu,uo.useFormState=Cg,uo.useActionState=Cg,uo.useOptimistic=function(i,s){var u=rn();return Ce!==null?Rf(u,Ce,i,s):(u.baseState=i,[i,u.queue.dispatch])};function Gf(i,s,u,g){s=i.memoizedState,u=u(g,s),u=u==null?s:B({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Hf={isMounted:function(i){return(i=i._reactInternals)?I(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var g=gi(),y=Ui(g);y.payload=s,u!=null&&(y.callback=u),s=Gi(i,y,g),s!==null&&(An(s,i,g),Es(s,i,g))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var g=gi(),y=Ui(g);y.tag=1,y.payload=s,u!=null&&(y.callback=u),s=Gi(i,y,g),s!==null&&(An(s,i,g),Es(s,i,g))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=gi(),g=Ui(u);g.tag=2,s!=null&&(g.callback=s),s=Gi(i,g,u),s!==null&&(An(s,i,u),Es(s,i,u))}};function Fg(i,s,u,g,y,C,L){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,C,L):s.prototype&&s.prototype.isPureReactComponent?!ya(u,g)||!ya(y,C):!0}function Vg(i,s,u,g){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,g),s.state!==i&&Hf.enqueueReplaceState(s,s.state,null)}function ho(i,s){var u=s;if("ref"in s){u={};for(var g in s)g!=="ref"&&(u[g]=s[g])}if(i=i.defaultProps){u===s&&(u=B({},u));for(var y in i)u[y]===void 0&&(u[y]=i[y])}return u}var Iu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Yg(i){Iu(i)}function Xg(i){console.error(i)}function qg(i){Iu(i)}function Ju(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(g){setTimeout(function(){throw g})}}function Kg(i,s,u){try{var g=i.onCaughtError;g(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function kf(i,s,u){return u=Ui(u),u.tag=3,u.payload={element:null},u.callback=function(){Ju(i,s)},u}function Pf(i){return i=Ui(i),i.tag=3,i}function Qg(i,s,u,g){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var C=g.value;i.payload=function(){return y(C)},i.callback=function(){Kg(s,u,g)}}var L=u.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(i.callback=function(){Kg(s,u,g),typeof y!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var Q=g.stack;this.componentDidCatch(g.value,{componentStack:Q!==null?Q:""})})}function _p(i,s,u,g,y){if(u.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(s=u.alternate,s!==null&&Fc(s,u,y,!0),u=xi.current,u!==null){switch(u.tag){case 13:return Va===null?Zc():u.alternate===null&&Fe===0&&(Fe=3),u.flags&=-257,u.flags|=65536,u.lanes=y,g===Hu?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([g]):s.add(g),Qt(i,g,y)),!1;case 22:return u.flags|=65536,g===Hu?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([g])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([g]):u.add(g)),Qt(i,g,y)),!1}throw Error(n(435,u.tag))}return Qt(i,g,y),Zc(),!1}if(me)return s=xi.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=y,g!==Rc&&(i=Error(n(422),{cause:g}),Fa(Ai(i,u)))):(g!==Rc&&(s=Error(n(423),{cause:g}),Fa(Ai(s,u))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,g=Ai(g,u),y=kf(i.stateNode,g,y),Al(i,y),Fe!==4&&(Fe=2)),!1;var C=Error(n(520),{cause:g});if(C=Ai(C,u),Wc===null?Wc=[C]:Wc.push(C),Fe!==4&&(Fe=2),s===null)return!0;g=Ai(g,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=y&-y,u.lanes|=i,i=kf(u.stateNode,g,i),Al(u,i),!1;case 1:if(s=u.type,C=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Sn===null||!Sn.has(C))))return u.flags|=65536,y&=-y,u.lanes|=y,y=Pf(y),Qg(y,i,u,g),Al(u,y),!1}u=u.return}while(u!==null);return!1}var Bi=Error(n(461)),wn=!1;function On(i,s,u,g){s.child=i===null?br(s,null,u,g):yr(s,i.child,u,g)}function Ff(i,s,u,g,y){u=u.render;var C=s.ref;if("ref"in g){var L={};for(var Q in g)Q!=="ref"&&(L[Q]=g[Q])}else L=g;return go(s),g=Of(i,s,u,L,C,y),Q=Mf(),i!==null&&!wn?(Gc(i,s,y),sn(i,s,y)):(me&&Q&&Dc(s),s.flags|=1,On(i,s,g,y),s.child)}function Vf(i,s,u,g,y){if(i===null){var C=u.type;return typeof C=="function"&&!jr(C)&&C.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=C,Yf(i,s,C,g,y)):(i=El(u.type,null,g,s,s.mode,y),i.ref=s.ref,i.return=s,s.child=i)}if(C=i.child,!If(i,y)){var L=C.memoizedProps;if(u=u.compare,u=u!==null?u:ya,u(L,g)&&i.ref===s.ref)return sn(i,s,y)}return s.flags|=1,i=fi(C,g),i.ref=s.ref,i.return=s,s.child=i}function Yf(i,s,u,g,y){if(i!==null){var C=i.memoizedProps;if(ya(C,g)&&i.ref===s.ref)if(wn=!1,s.pendingProps=g=C,If(i,y))i.flags&131072&&(wn=!0);else return s.lanes=i.lanes,sn(i,s,y)}return qf(i,s,u,g,y)}function Wg(i,s,u){var g=s.pendingProps,y=g.children,C=(s.stateNode._pendingVisibility&2)!==0,L=i!==null?i.memoizedState:null;if(yl(i,s),g.mode==="hidden"||C){if(s.flags&128){if(g=L!==null?L.baseLanes|u:u,i!==null){for(y=s.child=i.child,C=0;y!==null;)C=C|y.lanes|y.childLanes,y=y.sibling;s.childLanes=C&~g}else s.childLanes=0,s.child=null;return Xf(i,s,g,u)}if(u&536870912)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&dl(s,L!==null?L.cachePool:null),L!==null?gs(s,L):Pu(),Tf(s);else return s.lanes=s.childLanes=536870912,Xf(i,s,L!==null?L.baseLanes|u:u,u)}else L!==null?(dl(s,L.cachePool),gs(s,L),Sr(),s.memoizedState=null):(i!==null&&dl(s,null),Pu(),Sr());return On(i,s,y,u),s.child}function Xf(i,s,u,g){var y=Uc();return y=y===null?null:{parent:an._currentValue,pool:y},s.memoizedState={baseLanes:u,cachePool:y},i!==null&&dl(s,null),Pu(),Tf(s),i!==null&&Fc(i,s,g,!0),null}function yl(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(s.flags|=2097664)}}function qf(i,s,u,g,y){return go(s),u=Of(i,s,u,g,void 0,y),g=Mf(),i!==null&&!wn?(Gc(i,s,y),sn(i,s,y)):(me&&g&&Dc(s),s.flags|=1,On(i,s,u,y),s.child)}function Zg(i,s,u,g,y,C){return go(s),s.updateQueue=null,u=gg(s,g,u,y),dg(i),g=Mf(),i!==null&&!wn?(Gc(i,s,C),sn(i,s,C)):(me&&g&&Dc(s),s.flags|=1,On(i,s,u,C),s.child)}function Ig(i,s,u,g,y){if(go(s),s.stateNode===null){var C=ls,L=u.contextType;typeof L=="object"&&L!==null&&(C=Zn(L)),C=new u(g,C),s.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Hf,s.stateNode=C,C._reactInternals=s,C=s.stateNode,C.props=g,C.state=s.memoizedState,C.refs={},ui(s),L=u.contextType,C.context=typeof L=="object"&&L!==null?Zn(L):ls,C.state=s.memoizedState,L=u.getDerivedStateFromProps,typeof L=="function"&&(Gf(s,u,L,g),C.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(L=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),L!==C.state&&Hf.enqueueReplaceState(C,C.state,null),Aa(s,g,C,y),In(),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308),g=!0}else if(i===null){C=s.stateNode;var Q=s.memoizedProps,J=ho(u,Q);C.props=J;var ct=C.context,xt=u.contextType;L=ls,typeof xt=="object"&&xt!==null&&(L=Zn(xt));var Ot=u.getDerivedStateFromProps;xt=typeof Ot=="function"||typeof C.getSnapshotBeforeUpdate=="function",Q=s.pendingProps!==Q,xt||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Q||ct!==L)&&Vg(s,C,g,L),bn=!1;var vt=s.memoizedState;C.state=vt,Aa(s,g,C,y),In(),ct=s.memoizedState,Q||vt!==ct||bn?(typeof Ot=="function"&&(Gf(s,u,Ot,g),ct=s.memoizedState),(J=bn||Fg(s,u,J,g,vt,ct,L))?(xt||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(s.flags|=4194308)):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=ct),C.props=g,C.state=ct,C.context=L,g=J):(typeof C.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{C=s.stateNode,ah(i,s),L=s.memoizedProps,xt=ho(u,L),C.props=xt,Ot=s.pendingProps,vt=C.context,ct=u.contextType,J=ls,typeof ct=="object"&&ct!==null&&(J=Zn(ct)),Q=u.getDerivedStateFromProps,(ct=typeof Q=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(L!==Ot||vt!==J)&&Vg(s,C,g,J),bn=!1,vt=s.memoizedState,C.state=vt,Aa(s,g,C,y),In();var St=s.memoizedState;L!==Ot||vt!==St||bn||i!==null&&i.dependencies!==null&&_l(i.dependencies)?(typeof Q=="function"&&(Gf(s,u,Q,g),St=s.memoizedState),(xt=bn||Fg(s,u,xt,g,vt,St,J)||i!==null&&i.dependencies!==null&&_l(i.dependencies))?(ct||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,St,J),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,St,J)),typeof C.componentDidUpdate=="function"&&(s.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof C.componentDidUpdate!="function"||L===i.memoizedProps&&vt===i.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&vt===i.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=St),C.props=g,C.state=St,C.context=J,g=xt):(typeof C.componentDidUpdate!="function"||L===i.memoizedProps&&vt===i.memoizedState||(s.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&vt===i.memoizedState||(s.flags|=1024),g=!1)}return C=g,yl(i,s),g=(s.flags&128)!==0,C||g?(C=s.stateNode,u=g&&typeof u.getDerivedStateFromError!="function"?null:C.render(),s.flags|=1,i!==null&&g?(s.child=yr(s,i.child,null,y),s.child=yr(s,null,u,y)):On(i,s,u,y),s.memoizedState=C.state,i=s.child):i=sn(i,s,y),i}function Kf(i,s,u,g){return ul(),s.flags|=256,On(i,s,u,g),s.child}var Qf={dehydrated:null,treeContext:null,retryLane:0};function zn(i){return{baseLanes:i,cachePool:xr()}}function $u(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=di),i}function Jg(i,s,u){var g=s.pendingProps,y=!1,C=(s.flags&128)!==0,L;if((L=C)||(L=i!==null&&i.memoizedState===null?!1:(vn.current&2)!==0),L&&(y=!0,s.flags&=-129),L=(s.flags&32)!==0,s.flags&=-33,i===null){if(me){if(y?_r(s):Sr(),me){var Q=jn,J;if(J=Q){t:{for(J=Q,Q=Zi;J.nodeType!==8;){if(!Q){Q=null;break t}if(J=Gr(J.nextSibling),J===null){Q=null;break t}}Q=J}Q!==null?(s.memoizedState={dehydrated:Q,treeContext:pr!==null?{id:Pa,overflow:vr}:null,retryLane:536870912},J=un(18,null,null,0),J.stateNode=Q,J.return=s,s.child=J,Wn=s,jn=null,J=!0):J=!1}J||io(s)}if(Q=s.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return Q.data==="$!"?s.lanes=16:s.lanes=536870912,null;Ya(s)}return Q=g.children,g=g.fallback,y?(Sr(),y=s.mode,Q=Zf({mode:"hidden",children:Q},y),g=Ns(g,y,u,null),Q.return=s,g.return=s,Q.sibling=g,s.child=Q,y=s.child,y.memoizedState=zn(u),y.childLanes=$u(i,L,u),s.memoizedState=Qf,g):(_r(s),Wf(s,Q))}if(J=i.memoizedState,J!==null&&(Q=J.dehydrated,Q!==null)){if(C)s.flags&256?(_r(s),s.flags&=-257,s=th(i,s,u)):s.memoizedState!==null?(Sr(),s.child=i.child,s.flags|=128,s=null):(Sr(),y=g.fallback,Q=s.mode,g=Zf({mode:"visible",children:g.children},Q),y=Ns(y,Q,u,null),y.flags|=2,g.return=s,y.return=s,g.sibling=y,s.child=g,yr(s,i.child,null,u),g=s.child,g.memoizedState=zn(u),g.childLanes=$u(i,L,u),s.memoizedState=Qf,s=y);else if(_r(s),Q.data==="$!"){if(L=Q.nextSibling&&Q.nextSibling.dataset,L)var ct=L.dgst;L=ct,g=Error(n(419)),g.stack="",g.digest=L,Fa({value:g,source:null,stack:null}),s=th(i,s,u)}else if(wn||Fc(i,s,u,!1),L=(u&i.childLanes)!==0,wn||L){if(L=Oe,L!==null){if(g=u&-u,g&42)g=1;else switch(g){case 2:g=1;break;case 8:g=4;break;case 32:g=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:g=64;break;case 268435456:g=134217728;break;default:g=0}if(g=g&(L.suspendedLanes|u)?0:g,g!==0&&g!==J.retryLane)throw J.retryLane=g,mr(i,g),An(L,i,g),Bi}Q.data==="$?"||Zc(),s=th(i,s,u)}else Q.data==="$?"?(s.flags|=128,s.child=i.child,s=So.bind(null,i),Q._reactRetry=s,s=null):(i=J.treeContext,jn=Gr(Q.nextSibling),Wn=s,me=!0,Wi=null,Zi=!1,i!==null&&(Le[ji++]=Pa,Le[ji++]=vr,Le[ji++]=pr,Pa=i.id,vr=i.overflow,pr=s),s=Wf(s,g.children),s.flags|=4096);return s}return y?(Sr(),y=g.fallback,Q=s.mode,J=i.child,ct=J.sibling,g=fi(J,{mode:"hidden",children:g.children}),g.subtreeFlags=J.subtreeFlags&31457280,ct!==null?y=fi(ct,y):(y=Ns(y,Q,u,null),y.flags|=2),y.return=s,g.return=s,g.sibling=y,s.child=g,g=y,y=s.child,Q=i.child.memoizedState,Q===null?Q=zn(u):(J=Q.cachePool,J!==null?(ct=an._currentValue,J=J.parent!==ct?{parent:ct,pool:ct}:J):J=xr(),Q={baseLanes:Q.baseLanes|u,cachePool:J}),y.memoizedState=Q,y.childLanes=$u(i,L,u),s.memoizedState=Qf,g):(_r(s),u=i.child,i=u.sibling,u=fi(u,{mode:"visible",children:g.children}),u.return=s,u.sibling=null,i!==null&&(L=s.deletions,L===null?(s.deletions=[i],s.flags|=16):L.push(i)),s.child=u,s.memoizedState=null,u)}function Wf(i,s){return s=Zf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Zf(i,s){return $f(i,s,0,null)}function th(i,s,u){return yr(s,i.child,null,u),i=Wf(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function eh(i,s,u){i.lanes|=s;var g=i.alternate;g!==null&&(g.lanes|=s),Li(i.return,s,u)}function Cs(i,s,u,g,y){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:y}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=g,C.tail=u,C.tailMode=y)}function fo(i,s,u){var g=s.pendingProps,y=g.revealOrder,C=g.tail;if(On(i,s,g.children,u),g=vn.current,g&2)g=g&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&eh(i,u,s);else if(i.tag===19)eh(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}switch(wt(vn,g),y){case"forwards":for(u=s.child,y=null;u!==null;)i=u.alternate,i!==null&&fl(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=s.child,s.child=null):(y=u.sibling,u.sibling=null),Cs(s,!1,y,u,C);break;case"backwards":for(u=null,y=s.child,s.child=null;y!==null;){if(i=y.alternate,i!==null&&fl(i)===null){s.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}Cs(s,!0,u,null,C);break;case"together":Cs(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function sn(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),wa|=s.lanes,!(u&s.childLanes))if(i!==null){if(Fc(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,u=fi(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=fi(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function If(i,s){return i.lanes&s?!0:(i=i.dependencies,!!(i!==null&&_l(i)))}function Sp(i,s,u){switch(s.tag){case 3:Pt(s,s.stateNode.containerInfo),Ts(s,an,i.memoizedState.cache),ul();break;case 27:case 5:Wt(s);break;case 4:Pt(s,s.stateNode.containerInfo);break;case 10:Ts(s,s.type,s.memoizedProps.value);break;case 13:var g=s.memoizedState;if(g!==null)return g.dehydrated!==null?(_r(s),s.flags|=128,null):u&s.child.childLanes?Jg(i,s,u):(_r(s),i=sn(i,s,u),i!==null?i.sibling:null);_r(s);break;case 19:var y=(i.flags&128)!==0;if(g=(u&s.childLanes)!==0,g||(Fc(i,s,u,!1),g=(u&s.childLanes)!==0),y){if(g)return fo(i,s,u);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),wt(vn,vn.current),g)break;return null;case 22:case 23:return s.lanes=0,Wg(i,s,u);case 24:Ts(s,an,i.memoizedState.cache)}return sn(i,s,u)}function Pc(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)wn=!0;else{if(!If(i,u)&&!(s.flags&128))return wn=!1,Sp(i,s,u);wn=!!(i.flags&131072)}else wn=!1,me&&s.flags&1048576&&xf(s,Mc,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var g=s.elementType,y=g._init;if(g=y(g._payload),s.type=g,typeof g=="function")jr(g)?(i=ho(g,i),s.tag=1,s=Ig(null,s,g,i,u)):(s.tag=0,s=qf(null,s,g,i,u));else{if(g!=null){if(y=g.$$typeof,y===x){s.tag=11,s=Ff(null,s,g,i,u);break t}else if(y===D){s.tag=14,s=Vf(null,s,g,i,u);break t}}throw s=P(g)||g,Error(n(306,s,""))}}return s;case 0:return qf(i,s,s.type,s.pendingProps,u);case 1:return g=s.type,y=ho(g,s.pendingProps),Ig(i,s,g,y,u);case 3:t:{if(Pt(s,s.stateNode.containerInfo),i===null)throw Error(n(387));var C=s.pendingProps;y=s.memoizedState,g=y.element,ah(i,s),Aa(s,C,null,u);var L=s.memoizedState;if(C=L.cache,Ts(s,an,C),C!==y.cache&&nh(s,[an],u,!0),In(),C=L.element,y.isDehydrated)if(y={element:C,isDehydrated:!1,cache:L.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Kf(i,s,C,u);break t}else if(C!==g){g=Ai(Error(n(424)),s),Fa(g),s=Kf(i,s,C,u);break t}else for(jn=Gr(s.stateNode.containerInfo.firstChild),Wn=s,me=!0,Wi=null,Zi=!0,u=br(s,null,C,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ul(),C===g){s=sn(i,s,u);break t}On(i,s,C,u)}s=s.child}return s;case 26:return yl(i,s),i===null?(u=Fy(s.type,null,s.pendingProps,null))?s.memoizedState=u:me||(u=s.type,i=s.pendingProps,g=r1(Xt.current).createElement(u),g[Tn]=s,g[de]=i,mi(g,u,i),nn(g),s.stateNode=g):s.memoizedState=Fy(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Wt(s),i===null&&me&&(g=s.stateNode=Hy(s.type,s.pendingProps,Xt.current),Wn=s,Zi=!0,jn=Gr(g.firstChild)),g=s.pendingProps.children,i!==null||me?On(i,s,g,u):s.child=yr(s,null,g,u),yl(i,s),s.child;case 5:return i===null&&me&&((y=g=jn)&&(g=O6(g,s.type,s.pendingProps,Zi),g!==null?(s.stateNode=g,Wn=s,jn=Gr(g.firstChild),Zi=!1,y=!0):y=!1),y||io(s)),Wt(s),y=s.type,C=s.pendingProps,L=i!==null?i.memoizedProps:null,g=C.children,Np(y,C)?g=null:L!==null&&Np(y,L)&&(s.flags|=32),s.memoizedState!==null&&(y=Of(i,s,pp,null,null,u),ld._currentValue=y),yl(i,s),On(i,s,g,u),s.child;case 6:return i===null&&me&&((i=u=jn)&&(u=M6(u,s.pendingProps,Zi),u!==null?(s.stateNode=u,Wn=s,jn=null,i=!0):i=!1),i||io(s)),null;case 13:return Jg(i,s,u);case 4:return Pt(s,s.stateNode.containerInfo),g=s.pendingProps,i===null?s.child=yr(s,null,g,u):On(i,s,g,u),s.child;case 11:return Ff(i,s,s.type,s.pendingProps,u);case 7:return On(i,s,s.pendingProps,u),s.child;case 8:return On(i,s,s.pendingProps.children,u),s.child;case 12:return On(i,s,s.pendingProps.children,u),s.child;case 10:return g=s.pendingProps,Ts(s,s.type,g.value),On(i,s,g.children,u),s.child;case 9:return y=s.type._context,g=s.pendingProps.children,go(s),y=Zn(y),g=g(y),s.flags|=1,On(i,s,g,u),s.child;case 14:return Vf(i,s,s.type,s.pendingProps,u);case 15:return Yf(i,s,s.type,s.pendingProps,u);case 19:return fo(i,s,u);case 22:return Wg(i,s,u);case 24:return go(s),g=Zn(an),i===null?(y=Uc(),y===null&&(y=Oe,C=Ef(),y.pooledCache=C,C.refCount++,C!==null&&(y.pooledCacheLanes|=u),y=C),s.memoizedState={parent:g,cache:y},ui(s),Ts(s,an,y)):(i.lanes&u&&(ah(i,s),Aa(s,null,null,u),In()),y=i.memoizedState,C=s.memoizedState,y.parent!==g?(y={parent:g,cache:g},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Ts(s,an,g)):(g=C.cache,Ts(s,an,g),g!==y.cache&&nh(s,[an],u,!0))),On(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}var bl=rt(null),Qa=null,Sa=null;function Ts(i,s,u){wt(bl,s._currentValue),s._currentValue=u}function wr(i){i._currentValue=bl.current,_t(bl)}function Li(i,s,u){for(;i!==null;){var g=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),i===u)break;i=i.return}}function nh(i,s,u,g){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var C=y.dependencies;if(C!==null){var L=y.child;C=C.firstContext;t:for(;C!==null;){var Q=C;C=y;for(var J=0;J<s.length;J++)if(Q.context===s[J]){C.lanes|=u,Q=C.alternate,Q!==null&&(Q.lanes|=u),Li(C.return,u,i),g||(L=null);break t}C=Q.next}}else if(y.tag===18){if(L=y.return,L===null)throw Error(n(341));L.lanes|=u,C=L.alternate,C!==null&&(C.lanes|=u),Li(L,u,i),L=null}else L=y.child;if(L!==null)L.return=y;else for(L=y;L!==null;){if(L===i){L=null;break}if(y=L.sibling,y!==null){y.return=L.return,L=y;break}L=L.return}y=L}}function Fc(i,s,u,g){i=null;for(var y=s,C=!1;y!==null;){if(!C){if(y.flags&524288)C=!0;else if(y.flags&262144)break}if(y.tag===10){var L=y.alternate;if(L===null)throw Error(n(387));if(L=L.memoizedProps,L!==null){var Q=y.type;bi(y.pendingProps.value,L.value)||(i!==null?i.push(Q):i=[Q])}}else if(y===It.current){if(L=y.alternate,L===null)throw Error(n(387));L.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(ld):i=[ld])}y=y.return}i!==null&&nh(s,i,u,g),s.flags|=262144}function _l(i){for(i=i.firstContext;i!==null;){if(!bi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function go(i){Qa=i,Sa=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zn(i){return Sl(Qa,i)}function ih(i,s){return Qa===null&&go(i),Sl(i,s)}function Sl(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Sa===null){if(i===null)throw Error(n(308));Sa=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Sa=Sa.next=s;return u}var bn=!1;function ui(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ah(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ui(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Gi(i,s,u){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,Kt&2){var y=g.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),g.pending=s,s=Oc(i),wc(i,null,u),s}return Ec(i,g,s,u),Oc(i)}function Es(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194176)!==0)){var g=s.lanes;g&=i.pendingLanes,u|=g,s.lanes=u,vu(i,u)}}function Al(i,s){var u=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var y=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var L={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};C===null?y=C=L:C=C.next=L,u=u.next}while(u!==null);C===null?y=C=s:C=C.next=s}else y=C=s;u={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:C,shared:g.shared,callbacks:g.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var Ti=!1;function In(){if(Ti){var i=vs;if(i!==null)throw i}}function Aa(i,s,u,g){Ti=!1;var y=i.updateQueue;bn=!1;var C=y.firstBaseUpdate,L=y.lastBaseUpdate,Q=y.shared.pending;if(Q!==null){y.shared.pending=null;var J=Q,ct=J.next;J.next=null,L===null?C=ct:L.next=ct,L=J;var xt=i.alternate;xt!==null&&(xt=xt.updateQueue,Q=xt.lastBaseUpdate,Q!==L&&(Q===null?xt.firstBaseUpdate=ct:Q.next=ct,xt.lastBaseUpdate=J))}if(C!==null){var Ot=y.baseState;L=0,xt=ct=J=null,Q=C;do{var vt=Q.lane&-536870913,St=vt!==Q.lane;if(St?(kt&vt)===vt:(g&vt)===vt){vt!==0&&vt===so&&(Ti=!0),xt!==null&&(xt=xt.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});t:{var Gt=i,Zt=Q;vt=s;var xn=u;switch(Zt.tag){case 1:if(Gt=Zt.payload,typeof Gt=="function"){Ot=Gt.call(xn,Ot,vt);break t}Ot=Gt;break t;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=Zt.payload,vt=typeof Gt=="function"?Gt.call(xn,Ot,vt):Gt,vt==null)break t;Ot=B({},Ot,vt);break t;case 2:bn=!0}}vt=Q.callback,vt!==null&&(i.flags|=64,St&&(i.flags|=8192),St=y.callbacks,St===null?y.callbacks=[vt]:St.push(vt))}else St={lane:vt,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},xt===null?(ct=xt=St,J=Ot):xt=xt.next=St,L|=vt;if(Q=Q.next,Q===null){if(Q=y.shared.pending,Q===null)break;St=Q,Q=St.next,St.next=null,y.lastBaseUpdate=St,y.shared.pending=null}}while(!0);xt===null&&(J=Ot),y.baseState=J,y.firstBaseUpdate=ct,y.lastBaseUpdate=xt,C===null&&(y.shared.lanes=0),wa|=L,i.lanes=L,i.memoizedState=Ot}}function Wa(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function Za(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Wa(u[i],s)}function on(i,s){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&i)===i){g=void 0;var C=u.create,L=u.inst;g=C(),L.destroy=g}u=u.next}while(u!==y)}}catch(Q){Dt(s,s.return,Q)}}function Ii(i,s,u){try{var g=s.updateQueue,y=g!==null?g.lastEffect:null;if(y!==null){var C=y.next;g=C;do{if((g.tag&i)===i){var L=g.inst,Q=L.destroy;if(Q!==void 0){L.destroy=void 0,y=s;var J=u;try{Q()}catch(ct){Dt(y,J,ct)}}}g=g.next}while(g!==C)}}catch(ct){Dt(s,s.return,ct)}}function Or(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{Za(s,u)}catch(g){Dt(i,i.return,g)}}}function Vc(i,s,u){u.props=ho(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(g){Dt(i,s,g)}}function ln(i,s){try{var u=i.ref;if(u!==null){var g=i.stateNode;switch(i.tag){case 26:case 27:case 5:var y=g;break;default:y=g}typeof u=="function"?i.refCleanup=u(y):u.current=y}}catch(C){Dt(i,s,C)}}function we(i,s){var u=i.ref,g=i.refCleanup;if(u!==null)if(typeof g=="function")try{g()}catch(y){Dt(i,s,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Dt(i,s,y)}else u.current=null}function pe(i){var s=i.type,u=i.memoizedProps,g=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&g.focus();break t;case"img":u.src?g.src=u.src:u.srcSet&&(g.srcset=u.srcSet)}}catch(y){Dt(i,i.return,y)}}function Ji(i,s,u){try{var g=i.stateNode;x6(g,i.type,u,s),g[de]=s}catch(y){Dt(i,i.return,y)}}function xa(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Yc(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||xa(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ei(i,s,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=a1));else if(g!==4&&g!==27&&(i=i.child,i!==null))for(Ei(i,s,u),i=i.sibling;i!==null;)Ei(i,s,u),i=i.sibling}function Mr(i,s,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(g!==4&&g!==27&&(i=i.child,i!==null))for(Mr(i,s,u),i=i.sibling;i!==null;)Mr(i,s,u),i=i.sibling}var Ca=!1,ke=!1,ws=!1,rh=typeof WeakSet=="function"?WeakSet:Set,cn=null,sh=!1;function xl(i,s){if(i=i.containerInfo,Dp=h1,i=vf(i),Cc(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else t:{u=(u=i.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var y=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{u.nodeType,C.nodeType}catch{u=null;break t}var L=0,Q=-1,J=-1,ct=0,xt=0,Ot=i,vt=null;e:for(;;){for(var St;Ot!==u||y!==0&&Ot.nodeType!==3||(Q=L+y),Ot!==C||g!==0&&Ot.nodeType!==3||(J=L+g),Ot.nodeType===3&&(L+=Ot.nodeValue.length),(St=Ot.firstChild)!==null;)vt=Ot,Ot=St;for(;;){if(Ot===i)break e;if(vt===u&&++ct===y&&(Q=L),vt===C&&++xt===g&&(J=L),(St=Ot.nextSibling)!==null)break;Ot=vt,vt=Ot.parentNode}Ot=St}u=Q===-1||J===-1?null:{start:Q,end:J}}else u=null}u=u||{start:0,end:0}}else u=null;for(Rp={focusedElem:i,selectionRange:u},h1=!1,cn=s;cn!==null;)if(s=cn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,cn=i;else for(;cn!==null;){switch(s=cn,C=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&C!==null){i=void 0,u=s,y=C.memoizedProps,C=C.memoizedState,g=u.stateNode;try{var Gt=ho(u.type,y,u.elementType===u.type);i=g.getSnapshotBeforeUpdate(Gt,C),g.__reactInternalSnapshotBeforeUpdate=i}catch(Zt){Dt(u,u.return,Zt)}}break;case 3:if(i&1024){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)Bp(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Bp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,cn=i;break}cn=s.return}return Gt=sh,sh=!1,Gt}function Cl(i,s,u){var g=u.flags;switch(u.tag){case 0:case 11:case 15:Ia(i,u),g&4&&on(5,u);break;case 1:if(Ia(i,u),g&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(Q){Dt(u,u.return,Q)}else{var y=ho(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(y,s,i.__reactInternalSnapshotBeforeUpdate)}catch(Q){Dt(u,u.return,Q)}}g&64&&Or(u),g&512&&ln(u,u.return);break;case 3:if(Ia(i,u),g&64&&(g=u.updateQueue,g!==null)){if(i=null,u.child!==null)switch(u.child.tag){case 27:case 5:i=u.child.stateNode;break;case 1:i=u.child.stateNode}try{Za(g,i)}catch(Q){Dt(u,u.return,Q)}}break;case 26:Ia(i,u),g&512&&ln(u,u.return);break;case 27:case 5:Ia(i,u),s===null&&g&4&&pe(u),g&512&&ln(u,u.return);break;case 12:Ia(i,u);break;case 13:Ia(i,u),g&4&&$g(i,u);break;case 22:if(y=u.memoizedState!==null||Ca,!y){s=s!==null&&s.memoizedState!==null||ke;var C=Ca,L=ke;Ca=y,(ke=s)&&!L?Ea(i,u,(u.subtreeFlags&8772)!==0):Ia(i,u),Ca=C,ke=L}g&512&&(u.memoizedProps.mode==="manual"?ln(u,u.return):we(u,u.return));break;default:Ia(i,u)}}function oh(i){var s=i.alternate;s!==null&&(i.alternate=null,oh(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&rc(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Pe=null,Bn=!1;function Jn(i,s,u){for(u=u.child;u!==null;)lh(i,s,u),u=u.sibling}function lh(i,s,u){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(mn,u)}catch{}switch(u.tag){case 26:ke||we(u,s),Jn(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ke||we(u,s);var g=Pe,y=Bn;for(Pe=u.stateNode,Jn(i,s,u),u=u.stateNode,s=u.attributes;s.length;)u.removeAttributeNode(s[0]);rc(u),Pe=g,Bn=y;break;case 5:ke||we(u,s);case 6:y=Pe;var C=Bn;if(Pe=null,Jn(i,s,u),Pe=y,Bn=C,Pe!==null)if(Bn)try{i=Pe,g=u.stateNode,i.nodeType===8?i.parentNode.removeChild(g):i.removeChild(g)}catch(L){Dt(u,s,L)}else try{Pe.removeChild(u.stateNode)}catch(L){Dt(u,s,L)}break;case 18:Pe!==null&&(Bn?(s=Pe,u=u.stateNode,s.nodeType===8?zp(s.parentNode,u):s.nodeType===1&&zp(s,u),fd(s)):zp(Pe,u.stateNode));break;case 4:g=Pe,y=Bn,Pe=u.stateNode.containerInfo,Bn=!0,Jn(i,s,u),Pe=g,Bn=y;break;case 0:case 11:case 14:case 15:ke||Ii(2,u,s),ke||Ii(4,u,s),Jn(i,s,u);break;case 1:ke||(we(u,s),g=u.stateNode,typeof g.componentWillUnmount=="function"&&Vc(u,s,g)),Jn(i,s,u);break;case 21:Jn(i,s,u);break;case 22:ke||we(u,s),ke=(g=ke)||u.memoizedState!==null,Jn(i,s,u),ke=g;break;default:Jn(i,s,u)}}function $g(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{fd(i)}catch(u){Dt(s,s.return,u)}}function Xc(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new rh),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new rh),s;default:throw Error(n(435,i.tag))}}function qc(i,s){var u=Xc(i);s.forEach(function(g){var y=pt.bind(null,i,g);u.has(g)||(u.add(g),g.then(y,y))})}function hi(i,s){var u=s.deletions;if(u!==null)for(var g=0;g<u.length;g++){var y=u[g],C=i,L=s,Q=L;t:for(;Q!==null;){switch(Q.tag){case 27:case 5:Pe=Q.stateNode,Bn=!1;break t;case 3:Pe=Q.stateNode.containerInfo,Bn=!0;break t;case 4:Pe=Q.stateNode.containerInfo,Bn=!0;break t}Q=Q.return}if(Pe===null)throw Error(n(160));lh(C,L,y),Pe=null,Bn=!1,C=y.alternate,C!==null&&(C.return=null),y.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)mo(s,i),s=s.sibling}var $n=null;function mo(i,s){var u=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:hi(s,i),ti(i),g&4&&(Ii(3,i,i.return),on(3,i),Ii(5,i,i.return));break;case 1:hi(s,i),ti(i),g&512&&(ke||u===null||we(u,u.return)),g&64&&Ca&&(i=i.updateQueue,i!==null&&(g=i.callbacks,g!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?g:u.concat(g))));break;case 26:var y=$n;if(hi(s,i),ti(i),g&512&&(ke||u===null||we(u,u.return)),g&4){var C=u!==null?u.memoizedState:null;if(g=i.memoizedState,u===null)if(g===null)if(i.stateNode===null){t:{g=i.type,u=i.memoizedProps,y=y.ownerDocument||y;e:switch(g){case"title":C=y.getElementsByTagName("title")[0],(!C||C[qs]||C[Tn]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=y.createElement(g),y.head.insertBefore(C,y.querySelector("head > title"))),mi(C,g,u),C[Tn]=i,nn(C),g=C;break t;case"link":var L=Xy("link","href",y).get(g+(u.href||""));if(L){for(var Q=0;Q<L.length;Q++)if(C=L[Q],C.getAttribute("href")===(u.href==null?null:u.href)&&C.getAttribute("rel")===(u.rel==null?null:u.rel)&&C.getAttribute("title")===(u.title==null?null:u.title)&&C.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){L.splice(Q,1);break e}}C=y.createElement(g),mi(C,g,u),y.head.appendChild(C);break;case"meta":if(L=Xy("meta","content",y).get(g+(u.content||""))){for(Q=0;Q<L.length;Q++)if(C=L[Q],C.getAttribute("content")===(u.content==null?null:""+u.content)&&C.getAttribute("name")===(u.name==null?null:u.name)&&C.getAttribute("property")===(u.property==null?null:u.property)&&C.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&C.getAttribute("charset")===(u.charSet==null?null:u.charSet)){L.splice(Q,1);break e}}C=y.createElement(g),mi(C,g,u),y.head.appendChild(C);break;default:throw Error(n(468,g))}C[Tn]=i,nn(C),g=C}i.stateNode=g}else qy(y,i.type,i.stateNode);else i.stateNode=Yy(y,g,i.memoizedProps);else C!==g?(C===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):C.count--,g===null?qy(y,i.type,i.stateNode):Yy(y,g,i.memoizedProps)):g===null&&i.stateNode!==null&&Ji(i,i.memoizedProps,u.memoizedProps)}break;case 27:if(g&4&&i.alternate===null){y=i.stateNode,C=i.memoizedProps;try{for(var J=y.firstChild;J;){var ct=J.nextSibling,xt=J.nodeName;J[qs]||xt==="HEAD"||xt==="BODY"||xt==="SCRIPT"||xt==="STYLE"||xt==="LINK"&&J.rel.toLowerCase()==="stylesheet"||y.removeChild(J),J=ct}for(var Ot=i.type,vt=y.attributes;vt.length;)y.removeAttributeNode(vt[0]);mi(y,Ot,C),y[Tn]=i,y[de]=C}catch(Gt){Dt(i,i.return,Gt)}}case 5:if(hi(s,i),ti(i),g&512&&(ke||u===null||we(u,u.return)),i.flags&32){y=i.stateNode;try{Qs(y,"")}catch(Gt){Dt(i,i.return,Gt)}}g&4&&i.stateNode!=null&&(y=i.memoizedProps,Ji(i,y,u!==null?u.memoizedProps:y)),g&1024&&(ws=!0);break;case 6:if(hi(s,i),ti(i),g&4){if(i.stateNode===null)throw Error(n(162));g=i.memoizedProps,u=i.stateNode;try{u.nodeValue=g}catch(Gt){Dt(i,i.return,Gt)}}break;case 3:if(l1=null,y=$n,$n=s1(s.containerInfo),hi(s,i),$n=y,ti(i),g&4&&u!==null&&u.memoizedState.isDehydrated)try{fd(s.containerInfo)}catch(Gt){Dt(i,i.return,Gt)}ws&&(ws=!1,Os(i));break;case 4:g=$n,$n=s1(i.stateNode.containerInfo),hi(s,i),ti(i),$n=g;break;case 12:hi(s,i),ti(i);break;case 13:hi(s,i),ti(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&($t=tn()),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,qc(i,g)));break;case 22:if(g&512&&(ke||u===null||we(u,u.return)),J=i.memoizedState!==null,ct=u!==null&&u.memoizedState!==null,xt=Ca,Ot=ke,Ca=xt||J,ke=Ot||ct,hi(s,i),ke=Ot,Ca=xt,ti(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,g&8192&&(s._visibility=J?s._visibility&-2:s._visibility|1,J&&(s=Ca||ke,u===null||ct||s||Ta(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(u=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(u===null){ct=u=s;try{if(y=ct.stateNode,J)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{L=ct.stateNode,Q=ct.memoizedProps.style;var St=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;L.style.display=St==null||typeof St=="boolean"?"":(""+St).trim()}}catch(Gt){Dt(ct,ct.return,Gt)}}}else if(s.tag===6){if(u===null){ct=s;try{ct.stateNode.nodeValue=J?"":ct.memoizedProps}catch(Gt){Dt(ct,ct.return,Gt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}g&4&&(g=i.updateQueue,g!==null&&(u=g.retryQueue,u!==null&&(g.retryQueue=null,qc(i,u))));break;case 19:hi(s,i),ti(i),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,qc(i,g)));break;case 21:break;default:hi(s,i),ti(i)}}function ti(i){var s=i.flags;if(s&2){try{if(i.tag!==27){t:{for(var u=i.return;u!==null;){if(xa(u)){var g=u;break t}u=u.return}throw Error(n(160))}switch(g.tag){case 27:var y=g.stateNode,C=Yc(i);Mr(i,C,y);break;case 5:var L=g.stateNode;g.flags&32&&(Qs(L,""),g.flags&=-33);var Q=Yc(i);Mr(i,Q,L);break;case 3:case 4:var J=g.stateNode.containerInfo,ct=Yc(i);Ei(i,ct,J);break;default:throw Error(n(161))}}}catch(xt){Dt(i,i.return,xt)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Os(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Os(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ia(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Cl(i,s.alternate,s),s=s.sibling}function Ta(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ii(4,s,s.return),Ta(s);break;case 1:we(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&Vc(s,s.return,u),Ta(s);break;case 26:case 27:case 5:we(s,s.return),Ta(s);break;case 22:we(s,s.return),s.memoizedState===null&&Ta(s);break;default:Ta(s)}i=i.sibling}}function Ea(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var g=s.alternate,y=i,C=s,L=C.flags;switch(C.tag){case 0:case 11:case 15:Ea(y,C,u),on(4,C);break;case 1:if(Ea(y,C,u),g=C,y=g.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ct){Dt(g,g.return,ct)}if(g=C,y=g.updateQueue,y!==null){var Q=g.stateNode;try{var J=y.shared.hiddenCallbacks;if(J!==null)for(y.shared.hiddenCallbacks=null,y=0;y<J.length;y++)Wa(J[y],Q)}catch(ct){Dt(g,g.return,ct)}}u&&L&64&&Or(C),ln(C,C.return);break;case 26:case 27:case 5:Ea(y,C,u),u&&g===null&&L&4&&pe(C),ln(C,C.return);break;case 12:Ea(y,C,u);break;case 13:Ea(y,C,u),u&&L&4&&$g(y,C);break;case 22:C.memoizedState===null&&Ea(y,C,u),ln(C,C.return);break;default:Ea(y,C,u)}s=s.sibling}}function wi(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&ms(u))}function $i(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ms(i))}function Ue(i,s,u,g){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Dr(i,s,u,g),s=s.sibling}function Dr(i,s,u,g){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Ue(i,s,u,g),y&2048&&on(9,s);break;case 3:Ue(i,s,u,g),y&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ms(i)));break;case 12:if(y&2048){Ue(i,s,u,g),i=s.stateNode;try{var C=s.memoizedProps,L=C.id,Q=C.onPostCommit;typeof Q=="function"&&Q(L,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(J){Dt(s,s.return,J)}}else Ue(i,s,u,g);break;case 23:break;case 22:C=s.stateNode,s.memoizedState!==null?C._visibility&4?Ue(i,s,u,g):ye(i,s):C._visibility&4?Ue(i,s,u,g):(C._visibility|=4,qt(i,s,u,g,(s.subtreeFlags&10256)!==0)),y&2048&&wi(s.alternate,s);break;case 24:Ue(i,s,u,g),y&2048&&$i(s.alternate,s);break;default:Ue(i,s,u,g)}}function qt(i,s,u,g,y){for(y=y&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var C=i,L=s,Q=u,J=g,ct=L.flags;switch(L.tag){case 0:case 11:case 15:qt(C,L,Q,J,y),on(8,L);break;case 23:break;case 22:var xt=L.stateNode;L.memoizedState!==null?xt._visibility&4?qt(C,L,Q,J,y):ye(C,L):(xt._visibility|=4,qt(C,L,Q,J,y)),y&&ct&2048&&wi(L.alternate,L);break;case 24:qt(C,L,Q,J,y),y&&ct&2048&&$i(L.alternate,L);break;default:qt(C,L,Q,J,y)}s=s.sibling}}function ye(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,g=s,y=g.flags;switch(g.tag){case 22:ye(u,g),y&2048&&wi(g.alternate,g);break;case 24:ye(u,g),y&2048&&$i(g.alternate,g);break;default:ye(u,g)}s=s.sibling}}var qe=8192;function Rr(i){if(i.subtreeFlags&qe)for(i=i.child;i!==null;)po(i),i=i.sibling}function po(i){switch(i.tag){case 26:Rr(i),i.flags&qe&&i.memoizedState!==null&&F6($n,i.memoizedState,i.memoizedProps);break;case 5:Rr(i);break;case 3:case 4:var s=$n;$n=s1(i.stateNode.containerInfo),Rr(i),$n=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=qe,qe=16777216,Rr(i),qe=s):Rr(i));break;default:Rr(i)}}function Ms(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ds(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var u=0;u<s.length;u++){var g=s[u];cn=g,t1(g,i)}Ms(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tl(i),i=i.sibling}function Tl(i){switch(i.tag){case 0:case 11:case 15:Ds(i),i.flags&2048&&Ii(9,i,i.return);break;case 3:Ds(i);break;case 12:Ds(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,Nr(i)):Ds(i);break;default:Ds(i)}}function Nr(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var u=0;u<s.length;u++){var g=s[u];cn=g,t1(g,i)}Ms(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ii(8,s,s.return),Nr(s);break;case 22:u=s.stateNode,u._visibility&4&&(u._visibility&=-5,Nr(s));break;default:Nr(s)}i=i.sibling}}function t1(i,s){for(;cn!==null;){var u=cn;switch(u.tag){case 0:case 11:case 15:Ii(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var g=u.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:ms(u.memoizedState.cache)}if(g=u.child,g!==null)g.return=u,cn=g;else t:for(u=i;cn!==null;){g=cn;var y=g.sibling,C=g.return;if(oh(g),g===u){cn=null;break t}if(y!==null){y.return=C,cn=y;break t}cn=C}}}function Jf(i,s,u,g){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(i,s,u,g){return new Jf(i,s,u,g)}function jr(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fi(i,s){var u=i.alternate;return u===null?(u=un(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&31457280,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Rs(i,s){i.flags&=31457282;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function El(i,s,u,g,y,C){var L=0;if(g=i,typeof i=="function")jr(i)&&(L=1);else if(typeof i=="string")L=k6(i,u,Nt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case d:return Ns(u.children,y,C,s);case p:L=8,y|=24;break;case v:return i=un(12,u,s,y|2),i.elementType=v,i.lanes=C,i;case w:return i=un(13,u,s,y),i.elementType=w,i.lanes=C,i;case M:return i=un(19,u,s,y),i.elementType=M,i.lanes=C,i;case O:return $f(u,y,C,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case b:case S:L=10;break t;case A:L=9;break t;case x:L=11;break t;case D:L=14;break t;case T:L=16,g=null;break t}L=29,u=Error(n(130,i===null?"null":typeof i,"")),g=null}return s=un(L,u,s,y),s.elementType=i,s.type=g,s.lanes=C,s}function Ns(i,s,u,g){return i=un(7,i,g,s),i.lanes=u,i}function $f(i,s,u,g){i=un(22,i,g,s),i.elementType=O,i.lanes=u;var y={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var C=y._current;if(C===null)throw Error(n(456));if(!(y._pendingVisibility&2)){var L=mr(C,2);L!==null&&(y._pendingVisibility|=2,An(L,C,2))}},attach:function(){var C=y._current;if(C===null)throw Error(n(456));if(y._pendingVisibility&2){var L=mr(C,2);L!==null&&(y._pendingVisibility&=-3,An(L,C,2))}}};return i.stateNode=y,i}function _n(i,s,u){return i=un(6,i,null,s),i.lanes=u,i}function Kc(i,s,u){return s=un(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function ta(i){i.flags|=4}function js(i,s){if(s.type!=="stylesheet"||s.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!Ky(s)){if(s=xi.current,s!==null&&((kt&4194176)===kt?Va!==null:(kt&62914560)!==kt&&!(kt&536870912)||s!==Va))throw hl=Hu,Cf;i.flags|=8192}}function ea(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ic():536870912,i.lanes|=s,$a|=s)}function Qc(i,s){if(!me)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function We(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,g=0;if(s)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,g|=y.subtreeFlags&31457280,g|=y.flags&31457280,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=g,i.childLanes=u,s}function Ap(i,s,u){var g=s.pendingProps;switch(us(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(s),null;case 1:return We(s),null;case 3:return u=s.stateNode,g=null,i!==null&&(g=i.memoizedState.cache),s.memoizedState.cache!==g&&(s.flags|=2048),wr(an),Ne(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(cl(s)?ta(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Wi!==null&&(ra(Wi),Wi=null))),We(s),null;case 26:return u=s.memoizedState,i===null?(ta(s),u!==null?(We(s),js(s,u)):(We(s),s.flags&=-16777217)):u?u!==i.memoizedState?(ta(s),We(s),js(s,u)):(We(s),s.flags&=-16777217):(i.memoizedProps!==g&&ta(s),We(s),s.flags&=-16777217),null;case 27:Ee(s),u=Xt.current;var y=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==g&&ta(s);else{if(!g){if(s.stateNode===null)throw Error(n(166));return We(s),null}i=Nt.current,cl(s)?lg(s):(i=Hy(y,g,u),s.stateNode=i,ta(s))}return We(s),null;case 5:if(Ee(s),u=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==g&&ta(s);else{if(!g){if(s.stateNode===null)throw Error(n(166));return We(s),null}if(i=Nt.current,cl(s))lg(s);else{switch(y=r1(Xt.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof g.is=="string"?y.createElement("select",{is:g.is}):y.createElement("select"),g.multiple?i.multiple=!0:g.size&&(i.size=g.size);break;default:i=typeof g.is=="string"?y.createElement(u,{is:g.is}):y.createElement(u)}}i[Tn]=s,i[de]=g;t:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break t;for(;y.sibling===null;){if(y.return===null||y.return===s)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=i;t:switch(mi(i,u,g),u){case"button":case"input":case"select":case"textarea":i=!!g.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&ta(s)}}return We(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==g&&ta(s);else{if(typeof g!="string"&&s.stateNode===null)throw Error(n(166));if(i=Xt.current,cl(s)){if(i=s.stateNode,u=s.memoizedProps,g=null,y=Wn,y!==null)switch(y.tag){case 27:case 5:g=y.memoizedProps}i[Tn]=s,i=!!(i.nodeValue===u||g!==null&&g.suppressHydrationWarning===!0||jy(i.nodeValue,u)),i||io(s)}else i=r1(i).createTextNode(g),i[Tn]=s,s.stateNode=i}return We(s),null;case 13:if(g=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=cl(s),g!==null&&g.dehydrated!==null){if(i===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Tn]=s}else ul(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;We(s),y=!1}else Wi!==null&&(ra(Wi),Wi=null),y=!0;if(!y)return s.flags&256?(Ya(s),s):(Ya(s),null)}if(Ya(s),s.flags&128)return s.lanes=u,s;if(u=g!==null,i=i!==null&&i.memoizedState!==null,u){g=s.child,y=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(y=g.alternate.memoizedState.cachePool.pool);var C=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),C!==y&&(g.flags|=2048)}return u!==i&&u&&(s.child.flags|=8192),ea(s,s.updateQueue),We(s),null;case 4:return Ne(),i===null&&wp(s.stateNode.containerInfo),We(s),null;case 10:return wr(s.type),We(s),null;case 19:if(_t(vn),y=s.memoizedState,y===null)return We(s),null;if(g=(s.flags&128)!==0,C=y.rendering,C===null)if(g)Qc(y,!1);else{if(Fe!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(C=fl(i),C!==null){for(s.flags|=128,Qc(y,!1),i=C.updateQueue,s.updateQueue=i,ea(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)Rs(u,i),u=u.sibling;return wt(vn,vn.current&1|2),s.child}i=i.sibling}y.tail!==null&&tn()>se&&(s.flags|=128,g=!0,Qc(y,!1),s.lanes=4194304)}else{if(!g)if(i=fl(C),i!==null){if(s.flags|=128,g=!0,i=i.updateQueue,s.updateQueue=i,ea(s,i),Qc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!me)return We(s),null}else 2*tn()-y.renderingStartTime>se&&u!==536870912&&(s.flags|=128,g=!0,Qc(y,!1),s.lanes=4194304);y.isBackwards?(C.sibling=s.child,s.child=C):(i=y.last,i!==null?i.sibling=C:s.child=C,y.last=C)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=tn(),s.sibling=null,i=vn.current,wt(vn,g?i&1|2:i&1),s):(We(s),null);case 22:case 23:return Ya(s),Lc(),g=s.memoizedState!==null,i!==null?i.memoizedState!==null!==g&&(s.flags|=8192):g&&(s.flags|=8192),g?u&536870912&&!(s.flags&128)&&(We(s),s.subtreeFlags&6&&(s.flags|=8192)):We(s),u=s.updateQueue,u!==null&&ea(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),g=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==u&&(s.flags|=2048),i!==null&&_t(Ar),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),wr(an),We(s),null;case 25:return null}throw Error(n(156,s.tag))}function Je(i,s){switch(us(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return wr(an),Ne(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ee(s),null;case 13:if(Ya(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));ul()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return _t(vn),null;case 4:return Ne(),null;case 10:return wr(s.type),null;case 22:case 23:return Ya(s),Lc(),i!==null&&_t(Ar),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return wr(an),null;case 25:return null;default:return null}}function td(i,s){switch(us(s),s.tag){case 3:wr(an),Ne();break;case 26:case 27:case 5:Ee(s);break;case 4:Ne();break;case 13:Ya(s);break;case 19:_t(vn);break;case 10:wr(s.type);break;case 22:case 23:Ya(s),Lc(),i!==null&&_t(Ar);break;case 24:wr(an)}}var vo={getCacheForType:function(i){var s=Zn(an),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u}},zr=typeof WeakMap=="function"?WeakMap:Map,Kt=0,Oe=null,ne=null,kt=0,je=0,be=null,hn=!1,ei=!1,zs=!1,Br=0,Fe=0,wa=0,Ja=0,wl=0,di=0,$a=0,Wc=null,re=null,Me=!1,$t=0,se=1/0,Te=null,Sn=null,na=!1,ia=null,yo=0,Oa=0,Ke=null,aa=0,Lr=null;function gi(){if(Kt&2&&kt!==0)return kt&-kt;if(K.T!==null){var i=so;return i!==0?i:xp()}return Wh()}function Hi(){di===0&&(di=!(kt&536870912)||me?qo():536870912);var i=xi.current;return i!==null&&(i.flags|=32),di}function An(i,s,u){(i===Oe&&je===2||i.cancelPendingCommit!==null)&&(Ur(i,0),ki(i,kt,di,!1)),Ko(i,u),(!(Kt&2)||i!==Oe)&&(i===Oe&&(!(Kt&2)&&(Ja|=u),Fe===4&&ki(i,kt,di,!1)),ze(i))}function Ol(i,s,u){if(Kt&6)throw Error(n(327));var g=!u&&(s&60)===0&&(s&i.expiredLanes)===0||Xo(i,s),y=g?o(i,s):_o(i,s,!0),C=g;do{if(y===0){ei&&!g&&ki(i,s,0,!1);break}else if(y===6)ki(i,s,0,!hn);else{if(u=i.current.alternate,C&&!ed(u)){y=_o(i,s,!1),C=!1;continue}if(y===2){if(C=s,i.errorRecoveryDisabledLanes&C)var L=0;else L=i.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){s=L;t:{var Q=i;y=Wc;var J=Q.current.memoizedState.isDehydrated;if(J&&(Ur(Q,L).flags|=256),L=_o(Q,L,!1),L!==2){if(zs&&!J){Q.errorRecoveryDisabledLanes|=C,Ja|=C,y=4;break t}C=re,re=y,C!==null&&ra(C)}y=L}if(C=!1,y!==2)continue}}if(y===1){Ur(i,0),ki(i,s,0,!0);break}t:{switch(g=i,y){case 0:case 1:throw Error(n(345));case 4:if((s&4194176)===s){ki(g,s,di,!hn);break t}break;case 2:re=null;break;case 3:case 5:break;default:throw Error(n(329))}if(g.finishedWork=u,g.finishedLanes=s,(s&62914560)===s&&(C=$t+300-tn(),10<C)){if(ki(g,s,di,!hn),nc(g,0)!==0)break t;g.timeoutHandle=Ly(ch.bind(null,g,u,re,Te,Me,s,di,Ja,$a,hn,2,-0,0),C);break t}ch(g,u,re,Te,Me,s,di,Ja,$a,hn,0,-0,0)}}break}while(!0);ze(i)}function ra(i){re===null?re=i:re.push.apply(re,i)}function ch(i,s,u,g,y,C,L,Q,J,ct,xt,Ot,vt){var St=s.subtreeFlags;if((St&8192||(St&16785408)===16785408)&&(od={stylesheets:null,count:0,unsuspend:P6},po(s),s=V6(),s!==null)){i.cancelPendingCommit=s(nt.bind(null,i,u,g,y,L,Q,J,1,Ot,vt)),ki(i,C,L,!ct);return}nt(i,u,g,y,L,Q,J,xt,Ot,vt)}function ed(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var g=0;g<u.length;g++){var y=u[g],C=y.getSnapshot;y=y.value;try{if(!bi(C(),y))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ki(i,s,u,g){s&=~wl,s&=~Ja,i.suspendedLanes|=s,i.pingedLanes&=~s,g&&(i.warmLanes|=s),g=i.expirationTimes;for(var y=s;0<y;){var C=31-Gn(y),L=1<<C;g[C]=-1,y&=~L}u!==0&&pu(i,u,s)}function bo(){return Kt&6?!0:(ce(0),!1)}function tr(){if(ne!==null){if(je===0)var i=ne.return;else i=ne,Sa=Qa=null,Vu(i),ds=null,jc=0,i=ne;for(;i!==null;)td(i.alternate,i),i=i.return;ne=null}}function Ur(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,T6(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),tr(),Oe=i,ne=u=fi(i.current,null),kt=s,je=0,be=null,hn=!1,ei=Xo(i,s),zs=!1,$a=di=wl=Ja=wa=Fe=0,re=Wc=null,Me=!1,s&8&&(s|=s&32);var g=i.entangledLanes;if(g!==0)for(i=i.entanglements,g&=s;0<g;){var y=31-Gn(g),C=1<<y;s|=i[y],g&=~C}return Br=s,Tc(),u}function Bs(i,s){Jt=null,K.H=Ka,s===hs?(s=Se(),je=3):s===Cf?(s=Se(),je=4):je=s===Bi?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,be=s,ne===null&&(Fe=1,Ju(i,Ai(s,i.current)))}function Ml(){var i=K.H;return K.H=Ka,i===null?Ka:i}function uh(){var i=K.A;return K.A=vo,i}function Zc(){Fe=4,hn||(kt&4194176)!==kt&&xi.current!==null||(ei=!0),!(wa&134217727)&&!(Ja&134217727)||Oe===null||ki(Oe,kt,di,!1)}function _o(i,s,u){var g=Kt;Kt|=2;var y=Ml(),C=uh();(Oe!==i||kt!==s)&&(Te=null,Ur(i,s)),s=!1;var L=Fe;t:do try{if(je!==0&&ne!==null){var Q=ne,J=be;switch(je){case 8:tr(),L=6;break t;case 3:case 2:case 6:xi.current===null&&(s=!0);var ct=je;if(je=0,be=null,E(i,Q,J,ct),u&&ei){L=0;break t}break;default:ct=je,je=0,be=null,E(i,Q,J,ct)}}nd(),L=Fe;break}catch(xt){Bs(i,xt)}while(!0);return s&&i.shellSuspendCounter++,Sa=Qa=null,Kt=g,K.H=y,K.A=C,ne===null&&(Oe=null,kt=0,Tc()),L}function nd(){for(;ne!==null;)m(ne)}function o(i,s){var u=Kt;Kt|=2;var g=Ml(),y=uh();Oe!==i||kt!==s?(Te=null,se=tn()+500,Ur(i,s)):ei=Xo(i,s);t:do try{if(je!==0&&ne!==null){s=ne;var C=be;e:switch(je){case 1:je=0,be=null,E(i,s,C,1);break;case 2:if(ug(C)){je=0,be=null,_(s);break}s=function(){je===2&&Oe===i&&(je=7),ze(i)},C.then(s,s);break t;case 3:je=7;break t;case 4:je=5;break t;case 7:ug(C)?(je=0,be=null,_(s)):(je=0,be=null,E(i,s,C,7));break;case 5:var L=null;switch(ne.tag){case 26:L=ne.memoizedState;case 5:case 27:var Q=ne;if(!L||Ky(L)){je=0,be=null;var J=Q.sibling;if(J!==null)ne=J;else{var ct=Q.return;ct!==null?(ne=ct,N(ct)):ne=null}break e}}je=0,be=null,E(i,s,C,5);break;case 6:je=0,be=null,E(i,s,C,6);break;case 8:tr(),Fe=6;break t;default:throw Error(n(462))}}c();break}catch(xt){Bs(i,xt)}while(!0);return Sa=Qa=null,K.H=g,K.A=y,Kt=u,ne!==null?0:(Oe=null,kt=0,Tc(),Fe)}function c(){for(;ne!==null&&!ri();)m(ne)}function m(i){var s=Pc(i.alternate,i,Br);i.memoizedProps=i.pendingProps,s===null?N(i):ne=s}function _(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=Zg(u,s,s.pendingProps,s.type,void 0,kt);break;case 11:s=Zg(u,s,s.pendingProps,s.type.render,s.ref,kt);break;case 5:Vu(s);default:td(u,s),s=ne=Rs(s,Br),s=Pc(u,s,Br)}i.memoizedProps=i.pendingProps,s===null?N(i):ne=s}function E(i,s,u,g){Sa=Qa=null,Vu(s),ds=null,jc=0;var y=s.return;try{if(_p(i,y,s,u,kt)){Fe=1,Ju(i,Ai(u,i.current)),ne=null;return}}catch(C){if(y!==null)throw ne=y,C;Fe=1,Ju(i,Ai(u,i.current)),ne=null;return}s.flags&32768?(me||g===1?i=!0:ei||kt&536870912?i=!1:(hn=i=!0,(g===2||g===3||g===6)&&(g=xi.current,g!==null&&g.tag===13&&(g.flags|=16384))),W(s,i)):N(s)}function N(i){var s=i;do{if(s.flags&32768){W(s,hn);return}i=s.return;var u=Ap(s.alternate,s,Br);if(u!==null){ne=u;return}if(s=s.sibling,s!==null){ne=s;return}ne=s=i}while(s!==null);Fe===0&&(Fe=5)}function W(i,s){do{var u=Je(i.alternate,i);if(u!==null){u.flags&=32767,ne=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){ne=i;return}ne=i=u}while(i!==null);Fe=6,ne=null}function nt(i,s,u,g,y,C,L,Q,J,ct){var xt=K.T,Ot=dt.p;try{dt.p=2,K.T=null,ft(i,s,u,g,Ot,y,C,L,Q,J,ct)}finally{K.T=xt,dt.p=Ot}}function ft(i,s,u,g,y,C,L,Q){do Rt();while(ia!==null);if(Kt&6)throw Error(n(327));var J=i.finishedWork;if(g=i.finishedLanes,J===null)return null;if(i.finishedWork=null,i.finishedLanes=0,J===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var ct=J.lanes|J.childLanes;if(ct|=gr,z0(i,g,ct,C,L,Q),i===Oe&&(ne=Oe=null,kt=0),!(J.subtreeFlags&10256)&&!(J.flags&10256)||na||(na=!0,Oa=ct,Ke=u,ut(qn,function(){return Rt(),null})),u=(J.flags&15990)!==0,J.subtreeFlags&15990||u?(u=K.T,K.T=null,C=dt.p,dt.p=2,L=Kt,Kt|=4,xl(i,J),mo(J,i),yf(Rp,i.containerInfo),h1=!!Dp,Rp=Dp=null,i.current=J,Cl(i,J.alternate,J),Qe(),Kt=L,dt.p=C,K.T=u):i.current=J,na?(na=!1,ia=i,yo=g):At(i,ct),ct=i.pendingLanes,ct===0&&(Sn=null),Xi(J.stateNode),ze(i),s!==null)for(y=i.onRecoverableError,J=0;J<s.length;J++)ct=s[J],y(ct.value,{componentStack:ct.stack});return yo&3&&Rt(),ct=i.pendingLanes,g&4194218&&ct&42?i===Lr?aa++:(aa=0,Lr=i):aa=0,ce(0),null}function At(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ms(s)))}function Rt(){if(ia!==null){var i=ia,s=Oa;Oa=0;var u=rr(yo),g=K.T,y=dt.p;try{if(dt.p=32>u?32:u,K.T=null,ia===null)var C=!1;else{u=Ke,Ke=null;var L=ia,Q=yo;if(ia=null,yo=0,Kt&6)throw Error(n(331));var J=Kt;if(Kt|=4,Tl(L.current),Dr(L,L.current,Q,u),Kt=J,ce(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(mn,L)}catch{}C=!0}return C}finally{dt.p=y,K.T=g,At(i,s)}}return!1}function jt(i,s,u){s=Ai(u,s),s=kf(i.stateNode,s,2),i=Gi(i,s,2),i!==null&&(Ko(i,2),ze(i))}function Dt(i,s,u){if(i.tag===3)jt(i,i,u);else for(;s!==null;){if(s.tag===3){jt(s,i,u);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Sn===null||!Sn.has(g))){i=Ai(u,i),u=Pf(2),g=Gi(s,u,2),g!==null&&(Qg(u,g,s,i),Ko(g,2),ze(g));break}}s=s.return}}function Qt(i,s,u){var g=i.pingCache;if(g===null){g=i.pingCache=new zr;var y=new Set;g.set(s,y)}else y=g.get(s),y===void 0&&(y=new Set,g.set(s,y));y.has(u)||(zs=!0,y.add(u),i=sa.bind(null,i,s,u),s.then(i,i))}function sa(i,s,u){var g=i.pingCache;g!==null&&g.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Oe===i&&(kt&u)===u&&(Fe===4||Fe===3&&(kt&62914560)===kt&&300>tn()-$t?!(Kt&2)&&Ur(i,0):wl|=u,$a===kt&&($a=0)),ze(i)}function Dl(i,s){s===0&&(s=ic()),i=mr(i,s),i!==null&&(Ko(i,s),ze(i))}function So(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),Dl(i,u)}function pt(i,s){var u=0;switch(i.tag){case 13:var g=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:g=i.stateNode;break;case 22:g=i.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(s),Dl(i,u)}function ut(i,s){return He(i,s)}var yt=null,Mt=null,Ut=!1,De=!1,Ft=!1,ie=0;function ze(i){i!==Mt&&i.next===null&&(Mt===null?yt=Mt=i:Mt=Mt.next=i),De=!0,Ut||(Ut=!0,p6(Ls))}function ce(i,s){if(!Ft&&De){Ft=!0;do for(var u=!1,g=yt;g!==null;){if(i!==0){var y=g.pendingLanes;if(y===0)var C=0;else{var L=g.suspendedLanes,Q=g.pingedLanes;C=(1<<31-Gn(42|i)+1)-1,C&=y&~(L&~Q),C=C&201326677?C&201326677|1:C?C|2:0}C!==0&&(u=!0,Ey(g,C))}else C=kt,C=nc(g,g===Oe?C:0),!(C&3)||Xo(g,C)||(u=!0,Ey(g,C));g=g.next}while(u);Ft=!1}}function Ls(){De=Ut=!1;var i=0;ie!==0&&(C6()&&(i=ie),ie=0);for(var s=tn(),u=null,g=yt;g!==null;){var y=g.next,C=e1(g,s);C===0?(g.next=null,u===null?yt=y:u.next=y,y===null&&(Mt=u)):(u=g,(i!==0||C&3)&&(De=!0)),g=y}ce(i)}function e1(i,s){for(var u=i.suspendedLanes,g=i.pingedLanes,y=i.expirationTimes,C=i.pendingLanes&-62914561;0<C;){var L=31-Gn(C),Q=1<<L,J=y[L];J===-1?(!(Q&u)||Q&g)&&(y[L]=gu(Q,s)):J<=s&&(i.expiredLanes|=Q),C&=~Q}if(s=Oe,u=kt,u=nc(i,i===s?u:0),g=i.callbackNode,u===0||i===s&&je===2||i.cancelPendingCommit!==null)return g!==null&&g!==null&&Xn(g),i.callbackNode=null,i.callbackPriority=0;if(!(u&3)||Xo(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(g!==null&&Xn(g),rr(u)){case 2:case 8:u=en;break;case 32:u=qn;break;case 268435456:u=Di;break;default:u=qn}return g=Ty.bind(null,i),u=He(u,g),i.callbackPriority=s,i.callbackNode=u,s}return g!==null&&g!==null&&Xn(g),i.callbackPriority=2,i.callbackNode=null,2}function Ty(i,s){var u=i.callbackNode;if(Rt()&&i.callbackNode!==u)return null;var g=kt;return g=nc(i,i===Oe?g:0),g===0?null:(Ol(i,g,s),e1(i,tn()),i.callbackNode!=null&&i.callbackNode===u?Ty.bind(null,i):null)}function Ey(i,s){if(Rt())return null;Ol(i,s,!0)}function p6(i){E6(function(){Kt&6?He(Yi,i):i()})}function xp(){return ie===0&&(ie=qo()),ie}function wy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:hc(""+i)}function Oy(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function v6(i,s,u,g,y){if(s==="submit"&&u&&u.stateNode===y){var C=wy((y[de]||null).action),L=g.submitter;L&&(s=(s=L[de]||null)?wy(s.formAction):L.getAttribute("formAction"),s!==null&&(C=s,L=null));var Q=new $o("action","action",null,g,y);i.push({event:Q,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ie!==0){var J=L?Oy(y,L):new FormData(y);Bf(u,{pending:!0,data:J,method:y.method,action:C},null,J)}}else typeof C=="function"&&(Q.preventDefault(),J=L?Oy(y,L):new FormData(y),Bf(u,{pending:!0,data:J,method:y.method,action:C},C,J))},currentTarget:y}]})}}for(var Cp=0;Cp<dr.length;Cp++){var Tp=dr[Cp],y6=Tp.toLowerCase(),b6=Tp[0].toUpperCase()+Tp.slice(1);Qi(y6,"on"+b6)}Qi(Sf,"onAnimationEnd"),Qi(Si,"onAnimationIteration"),Qi(Af,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(fr,"onTransitionRun"),Qi(ll,"onTransitionStart"),Qi(os,"onTransitionCancel"),Qi(Lu,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(id));function My(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var g=i[u],y=g.event;g=g.listeners;t:{var C=void 0;if(s)for(var L=g.length-1;0<=L;L--){var Q=g[L],J=Q.instance,ct=Q.currentTarget;if(Q=Q.listener,J!==C&&y.isPropagationStopped())break t;C=Q,y.currentTarget=ct;try{C(y)}catch(xt){Iu(xt)}y.currentTarget=null,C=J}else for(L=0;L<g.length;L++){if(Q=g[L],J=Q.instance,ct=Q.currentTarget,Q=Q.listener,J!==C&&y.isPropagationStopped())break t;C=Q,y.currentTarget=ct;try{C(y)}catch(xt){Iu(xt)}y.currentTarget=null,C=J}}}}function ve(i,s){var u=s[ac];u===void 0&&(u=s[ac]=new Set);var g=i+"__bubble";u.has(g)||(Dy(s,i,2,!1),u.add(g))}function Ep(i,s,u){var g=0;s&&(g|=4),Dy(u,i,g,s)}var n1="_reactListening"+Math.random().toString(36).slice(2);function wp(i){if(!i[n1]){i[n1]=!0,yu.forEach(function(u){u!=="selectionchange"&&(_6.has(u)||Ep(u,!1,i),Ep(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[n1]||(s[n1]=!0,Ep("selectionchange",!1,s))}}function Dy(i,s,u,g){switch($y(s)){case 2:var y=q6;break;case 8:y=K6;break;default:y=kp}u=y.bind(null,s,u,i),y=void 0,!dc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),g?y!==void 0?i.addEventListener(s,u,{capture:!0,passive:y}):i.addEventListener(s,u,!0):y!==void 0?i.addEventListener(s,u,{passive:y}):i.addEventListener(s,u,!1)}function Op(i,s,u,g,y){var C=g;if(!(s&1)&&!(s&2)&&g!==null)t:for(;;){if(g===null)return;var L=g.tag;if(L===3||L===4){var Q=g.stateNode.containerInfo;if(Q===y||Q.nodeType===8&&Q.parentNode===y)break;if(L===4)for(L=g.return;L!==null;){var J=L.tag;if((J===3||J===4)&&(J=L.stateNode.containerInfo,J===y||J.nodeType===8&&J.parentNode===y))return;L=L.return}for(;Q!==null;){if(L=sr(Q),L===null)return;if(J=L.tag,J===5||J===6||J===26||J===27){g=C=L;continue t}Q=Q.parentNode}}g=g.return}nf(function(){var ct=C,xt=fc(u),Ot=[];t:{var vt=Uu.get(i);if(vt!==void 0){var St=$o,Gt=i;switch(i){case"keypress":if(es(u)===0)break t;case"keydown":case"keyup":St=lf;break;case"focusin":Gt="focus",St=Eu;break;case"focusout":Gt="blur",St=Eu;break;case"beforeblur":case"afterblur":St=Eu;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":St=sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":St=up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":St=uf;break;case Sf:case Si:case Af:St=Q0;break;case Lu:St=cr;break;case"scroll":case"scrollend":St=X0;break;case"wheel":St=hp;break;case"copy":case"cut":case"paste":St=Z0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":St=Ou;break;case"toggle":case"beforetoggle":St=is}var Zt=(s&4)!==0,xn=!Zt&&(i==="scroll"||i==="scrollend"),ht=Zt?vt!==null?vt+"Capture":null:vt;Zt=[];for(var ot=ct,gt;ot!==null;){var Et=ot;if(gt=Et.stateNode,Et=Et.tag,Et!==5&&Et!==26&&Et!==27||gt===null||ht===null||(Et=Zo(ot,ht),Et!=null&&Zt.push(ad(ot,Et,gt))),xn)break;ot=ot.return}0<Zt.length&&(vt=new St(vt,Gt,null,u,xt),Ot.push({event:vt,listeners:Zt}))}}if(!(s&7)){t:{if(vt=i==="mouseover"||i==="pointerover",St=i==="mouseout"||i==="pointerout",vt&&u!==Au&&(Gt=u.relatedTarget||u.fromElement)&&(sr(Gt)||Gt[$r]))break t;if((St||vt)&&(vt=xt.window===xt?xt:(vt=xt.ownerDocument)?vt.defaultView||vt.parentWindow:window,St?(Gt=u.relatedTarget||u.toElement,St=ct,Gt=Gt?sr(Gt):null,Gt!==null&&(xn=I(Gt),Zt=Gt.tag,Gt!==xn||Zt!==5&&Zt!==27&&Zt!==6)&&(Gt=null)):(St=null,Gt=ct),St!==Gt)){if(Zt=sf,Et="onMouseLeave",ht="onMouseEnter",ot="mouse",(i==="pointerout"||i==="pointerover")&&(Zt=Ou,Et="onPointerLeave",ht="onPointerEnter",ot="pointer"),xn=St==null?vt:Ve(St),gt=Gt==null?vt:Ve(Gt),vt=new Zt(Et,ot+"leave",St,u,xt),vt.target=xn,vt.relatedTarget=gt,Et=null,sr(xt)===ct&&(Zt=new Zt(ht,ot+"enter",Gt,u,xt),Zt.target=gt,Zt.relatedTarget=xn,Et=Zt),xn=Et,St&&Gt)e:{for(Zt=St,ht=Gt,ot=0,gt=Zt;gt;gt=hh(gt))ot++;for(gt=0,Et=ht;Et;Et=hh(Et))gt++;for(;0<ot-gt;)Zt=hh(Zt),ot--;for(;0<gt-ot;)ht=hh(ht),gt--;for(;ot--;){if(Zt===ht||ht!==null&&Zt===ht.alternate)break e;Zt=hh(Zt),ht=hh(ht)}Zt=null}else Zt=null;St!==null&&Ry(Ot,vt,St,Zt,!1),Gt!==null&&xn!==null&&Ry(Ot,xn,Gt,Zt,!0)}}t:{if(vt=ct?Ve(ct):window,St=vt.nodeName&&vt.nodeName.toLowerCase(),St==="select"||St==="input"&&vt.type==="file")var Lt=Du;else if(gf(vt))if(Ru)Lt=ss;else{Lt=sg;var ue=fp}else St=vt.nodeName,!St||St.toLowerCase()!=="input"||vt.type!=="checkbox"&&vt.type!=="radio"?ct&&uc(ct.elementType)&&(Lt=Du):Lt=xc;if(Lt&&(Lt=Lt(i,ct))){yi(Ot,Lt,u,xt);break t}ue&&ue(i,vt,ct),i==="focusout"&&ct&&vt.type==="number"&&ct.memoizedProps.value!=null&&_u(vt,"number",vt.value)}switch(ue=ct?Ve(ct):window,i){case"focusin":(gf(ue)||ue.contentEditable==="true")&&($s=ue,bf=ct,ol=null);break;case"focusout":ol=bf=$s=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,Ki(Ot,u,xt);break;case"selectionchange":if(ju)break;case"keydown":case"keyup":Ki(Ot,u,xt)}var Ht;if(vc)t:{switch(i){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else rs?_c(i,u)&&(Yt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Yt="onCompositionStart");Yt&&(bc&&u.locale!=="ko"&&(rs||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&rs&&(Ht=rf()):(or=xt,af="value"in or?or.value:or.textContent,rs=!0)),ue=i1(ct,Yt),0<ue.length&&(Yt=new wu(Yt,i,null,u,xt),Ot.push({event:Yt,listeners:ue}),Ht?Yt.data=Ht:(Ht=ff(u),Ht!==null&&(Yt.data=Ht)))),(Ht=yc?Sc(i,u):df(i,u))&&(Yt=i1(ct,"onBeforeInput"),0<Yt.length&&(ue=new wu("onBeforeInput","beforeinput",null,u,xt),Ot.push({event:ue,listeners:Yt}),ue.data=Ht)),v6(Ot,i,ct,u,xt)}My(Ot,s)})}function ad(i,s,u){return{instance:i,listener:s,currentTarget:u}}function i1(i,s){for(var u=s+"Capture",g=[];i!==null;){var y=i,C=y.stateNode;y=y.tag,y!==5&&y!==26&&y!==27||C===null||(y=Zo(i,u),y!=null&&g.unshift(ad(i,y,C)),y=Zo(i,s),y!=null&&g.push(ad(i,y,C))),i=i.return}return g}function hh(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ry(i,s,u,g,y){for(var C=s._reactName,L=[];u!==null&&u!==g;){var Q=u,J=Q.alternate,ct=Q.stateNode;if(Q=Q.tag,J!==null&&J===g)break;Q!==5&&Q!==26&&Q!==27||ct===null||(J=ct,y?(ct=Zo(u,C),ct!=null&&L.unshift(ad(u,ct,J))):y||(ct=Zo(u,C),ct!=null&&L.push(ad(u,ct,J)))),u=u.return}L.length!==0&&i.push({event:s,listeners:L})}var S6=/\r\n?/g,A6=/\u0000|\uFFFD/g;function Ny(i){return(typeof i=="string"?i:""+i).replace(S6,`
`).replace(A6,"")}function jy(i,s){return s=Ny(s),Ny(i)===s}function a1(){}function Ge(i,s,u,g,y,C){switch(u){case"children":typeof g=="string"?s==="body"||s==="textarea"&&g===""||Qs(i,g):(typeof g=="number"||typeof g=="bigint")&&s!=="body"&&Qs(i,""+g);break;case"className":oc(i,"class",g);break;case"tabIndex":oc(i,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":oc(i,u,g);break;case"style":ef(i,g,C);break;case"data":if(s!=="object"){oc(i,"data",g);break}case"src":case"href":if(g===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(u);break}g=hc(""+g),i.setAttribute(u,g);break;case"action":case"formAction":if(typeof g=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(u==="formAction"?(s!=="input"&&Ge(i,s,"name",y.name,y,null),Ge(i,s,"formEncType",y.formEncType,y,null),Ge(i,s,"formMethod",y.formMethod,y,null),Ge(i,s,"formTarget",y.formTarget,y,null)):(Ge(i,s,"encType",y.encType,y,null),Ge(i,s,"method",y.method,y,null),Ge(i,s,"target",y.target,y,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(u);break}g=hc(""+g),i.setAttribute(u,g);break;case"onClick":g!=null&&(i.onclick=a1);break;case"onScroll":g!=null&&ve("scroll",i);break;case"onScrollEnd":g!=null&&ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(u=g.__html,u!=null){if(y.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":i.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){i.removeAttribute("xlink:href");break}u=hc(""+g),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(u,""+g):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":g===!0?i.setAttribute(u,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(u,g):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?i.setAttribute(u,g):i.removeAttribute(u);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?i.removeAttribute(u):i.setAttribute(u,g);break;case"popover":ve("beforetoggle",i),ve("toggle",i),sc(i,"popover",g);break;case"xlinkActuate":va(i,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":va(i,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":va(i,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":va(i,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":va(i,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":va(i,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":va(i,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":va(i,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":va(i,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":sc(i,"is",g);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=V0.get(u)||u,sc(i,u,g))}}function Mp(i,s,u,g,y,C){switch(u){case"style":ef(i,g,C);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(u=g.__html,u!=null){if(y.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof g=="string"?Qs(i,g):(typeof g=="number"||typeof g=="bigint")&&Qs(i,""+g);break;case"onScroll":g!=null&&ve("scroll",i);break;case"onScrollEnd":g!=null&&ve("scrollend",i);break;case"onClick":g!=null&&(i.onclick=a1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ga.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),s=u.slice(2,y?u.length-7:void 0),C=i[de]||null,C=C!=null?C[u]:null,typeof C=="function"&&i.removeEventListener(s,C,y),typeof g=="function")){typeof C!="function"&&C!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,g,y);break t}u in i?i[u]=g:g===!0?i.setAttribute(u,""):sc(i,u,g)}}}function mi(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",i),ve("load",i);var g=!1,y=!1,C;for(C in u)if(u.hasOwnProperty(C)){var L=u[C];if(L!=null)switch(C){case"src":g=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Ge(i,s,C,L,u,null)}}y&&Ge(i,s,"srcSet",u.srcSet,u,null),g&&Ge(i,s,"src",u.src,u,null);return;case"input":ve("invalid",i);var Q=C=L=y=null,J=null,ct=null;for(g in u)if(u.hasOwnProperty(g)){var xt=u[g];if(xt!=null)switch(g){case"name":y=xt;break;case"type":L=xt;break;case"checked":J=xt;break;case"defaultChecked":ct=xt;break;case"value":C=xt;break;case"defaultValue":Q=xt;break;case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(n(137,s));break;default:Ge(i,s,g,xt,u,null)}}$h(i,C,Q,J,ct,L,y,!1),lc(i);return;case"select":ve("invalid",i),g=L=C=null;for(y in u)if(u.hasOwnProperty(y)&&(Q=u[y],Q!=null))switch(y){case"value":C=Q;break;case"defaultValue":L=Q;break;case"multiple":g=Q;default:Ge(i,s,y,Q,u,null)}s=C,u=L,i.multiple=!!g,s!=null?Wo(i,!!g,s,!1):u!=null&&Wo(i,!!g,u,!0);return;case"textarea":ve("invalid",i),C=y=g=null;for(L in u)if(u.hasOwnProperty(L)&&(Q=u[L],Q!=null))switch(L){case"value":g=Q;break;case"defaultValue":y=Q;break;case"children":C=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(91));break;default:Ge(i,s,L,Q,u,null)}Ks(i,g,y,C),lc(i);return;case"option":for(J in u)if(u.hasOwnProperty(J)&&(g=u[J],g!=null))switch(J){case"selected":i.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ge(i,s,J,g,u,null)}return;case"dialog":ve("cancel",i),ve("close",i);break;case"iframe":case"object":ve("load",i);break;case"video":case"audio":for(g=0;g<id.length;g++)ve(id[g],i);break;case"image":ve("error",i),ve("load",i);break;case"details":ve("toggle",i);break;case"embed":case"source":case"link":ve("error",i),ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ct in u)if(u.hasOwnProperty(ct)&&(g=u[ct],g!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Ge(i,s,ct,g,u,null)}return;default:if(uc(s)){for(xt in u)u.hasOwnProperty(xt)&&(g=u[xt],g!==void 0&&Mp(i,s,xt,g,u,void 0));return}}for(Q in u)u.hasOwnProperty(Q)&&(g=u[Q],g!=null&&Ge(i,s,Q,g,u,null))}function x6(i,s,u,g){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,C=null,L=null,Q=null,J=null,ct=null,xt=null;for(St in u){var Ot=u[St];if(u.hasOwnProperty(St)&&Ot!=null)switch(St){case"checked":break;case"value":break;case"defaultValue":J=Ot;default:g.hasOwnProperty(St)||Ge(i,s,St,null,g,Ot)}}for(var vt in g){var St=g[vt];if(Ot=u[vt],g.hasOwnProperty(vt)&&(St!=null||Ot!=null))switch(vt){case"type":C=St;break;case"name":y=St;break;case"checked":ct=St;break;case"defaultChecked":xt=St;break;case"value":L=St;break;case"defaultValue":Q=St;break;case"children":case"dangerouslySetInnerHTML":if(St!=null)throw Error(n(137,s));break;default:St!==Ot&&Ge(i,s,vt,St,g,Ot)}}bu(i,L,Q,J,ct,xt,C,y);return;case"select":St=L=Q=vt=null;for(C in u)if(J=u[C],u.hasOwnProperty(C)&&J!=null)switch(C){case"value":break;case"multiple":St=J;default:g.hasOwnProperty(C)||Ge(i,s,C,null,g,J)}for(y in g)if(C=g[y],J=u[y],g.hasOwnProperty(y)&&(C!=null||J!=null))switch(y){case"value":vt=C;break;case"defaultValue":Q=C;break;case"multiple":L=C;default:C!==J&&Ge(i,s,y,C,g,J)}s=Q,u=L,g=St,vt!=null?Wo(i,!!u,vt,!1):!!g!=!!u&&(s!=null?Wo(i,!!u,s,!0):Wo(i,!!u,u?[]:"",!1));return;case"textarea":St=vt=null;for(Q in u)if(y=u[Q],u.hasOwnProperty(Q)&&y!=null&&!g.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Ge(i,s,Q,null,g,y)}for(L in g)if(y=g[L],C=u[L],g.hasOwnProperty(L)&&(y!=null||C!=null))switch(L){case"value":vt=y;break;case"defaultValue":St=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==C&&Ge(i,s,L,y,g,C)}tf(i,vt,St);return;case"option":for(var Gt in u)if(vt=u[Gt],u.hasOwnProperty(Gt)&&vt!=null&&!g.hasOwnProperty(Gt))switch(Gt){case"selected":i.selected=!1;break;default:Ge(i,s,Gt,null,g,vt)}for(J in g)if(vt=g[J],St=u[J],g.hasOwnProperty(J)&&vt!==St&&(vt!=null||St!=null))switch(J){case"selected":i.selected=vt&&typeof vt!="function"&&typeof vt!="symbol";break;default:Ge(i,s,J,vt,g,St)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zt in u)vt=u[Zt],u.hasOwnProperty(Zt)&&vt!=null&&!g.hasOwnProperty(Zt)&&Ge(i,s,Zt,null,g,vt);for(ct in g)if(vt=g[ct],St=u[ct],g.hasOwnProperty(ct)&&vt!==St&&(vt!=null||St!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(n(137,s));break;default:Ge(i,s,ct,vt,g,St)}return;default:if(uc(s)){for(var xn in u)vt=u[xn],u.hasOwnProperty(xn)&&vt!==void 0&&!g.hasOwnProperty(xn)&&Mp(i,s,xn,void 0,g,vt);for(xt in g)vt=g[xt],St=u[xt],!g.hasOwnProperty(xt)||vt===St||vt===void 0&&St===void 0||Mp(i,s,xt,vt,g,St);return}}for(var ht in u)vt=u[ht],u.hasOwnProperty(ht)&&vt!=null&&!g.hasOwnProperty(ht)&&Ge(i,s,ht,null,g,vt);for(Ot in g)vt=g[Ot],St=u[Ot],!g.hasOwnProperty(Ot)||vt===St||vt==null&&St==null||Ge(i,s,Ot,vt,g,St)}var Dp=null,Rp=null;function r1(i){return i.nodeType===9?i:i.ownerDocument}function zy(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function By(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Np(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jp=null;function C6(){var i=window.event;return i&&i.type==="popstate"?i===jp?!1:(jp=i,!0):(jp=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,T6=typeof clearTimeout=="function"?clearTimeout:void 0,Uy=typeof Promise=="function"?Promise:void 0,E6=typeof queueMicrotask=="function"?queueMicrotask:typeof Uy<"u"?function(i){return Uy.resolve(null).then(i).catch(w6)}:Ly;function w6(i){setTimeout(function(){throw i})}function zp(i,s){var u=s,g=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(g===0){i.removeChild(y),fd(s);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=y}while(u);fd(s)}function Bp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Bp(u),rc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function O6(i,s,u,g){for(;i.nodeType===1;){var y=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!g&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(g){if(!i[qs])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(C=i.getAttribute("rel"),C==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(C!==y.rel||i.getAttribute("href")!==(y.href==null?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(C=i.getAttribute("src"),(C!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&C&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var C=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===C)return i}else return i;if(i=Gr(i.nextSibling),i===null)break}return null}function M6(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Gr(i.nextSibling),i===null))return null;return i}function Gr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function Gy(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}function Hy(i,s,u){switch(s=r1(u),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}var er=new Map,ky=new Set;function s1(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Ao=dt.d;dt.d={f:D6,r:R6,D:N6,C:j6,L:z6,m:B6,X:U6,S:L6,M:G6};function D6(){var i=Ao.f(),s=bo();return i||s}function R6(i){var s=En(i);s!==null&&s.tag===5&&s.type==="form"?Lg(s):Ao.r(i)}var fh=typeof document>"u"?null:document;function Py(i,s,u){var g=fh;if(g&&typeof s=="string"&&s){var y=Ni(s);y='link[rel="'+i+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),ky.has(y)||(ky.add(y),i={rel:i,crossOrigin:u,href:s},g.querySelector(y)===null&&(s=g.createElement("link"),mi(s,"link",i),nn(s),g.head.appendChild(s)))}}function N6(i){Ao.D(i),Py("dns-prefetch",i,null)}function j6(i,s){Ao.C(i,s),Py("preconnect",i,s)}function z6(i,s,u){Ao.L(i,s,u);var g=fh;if(g&&i&&s){var y='link[rel="preload"][as="'+Ni(s)+'"]';s==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Ni(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Ni(u.imageSizes)+'"]')):y+='[href="'+Ni(i)+'"]';var C=y;switch(s){case"style":C=dh(i);break;case"script":C=gh(i)}er.has(C)||(i=B({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),er.set(C,i),g.querySelector(y)!==null||s==="style"&&g.querySelector(rd(C))||s==="script"&&g.querySelector(sd(C))||(s=g.createElement("link"),mi(s,"link",i),nn(s),g.head.appendChild(s)))}}function B6(i,s){Ao.m(i,s);var u=fh;if(u&&i){var g=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+Ni(g)+'"][href="'+Ni(i)+'"]',C=y;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=gh(i)}if(!er.has(C)&&(i=B({rel:"modulepreload",href:i},s),er.set(C,i),u.querySelector(y)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(sd(C)))return}g=u.createElement("link"),mi(g,"link",i),nn(g),u.head.appendChild(g)}}}function L6(i,s,u){Ao.S(i,s,u);var g=fh;if(g&&i){var y=Ua(g).hoistableStyles,C=dh(i);s=s||"default";var L=y.get(C);if(!L){var Q={loading:0,preload:null};if(L=g.querySelector(rd(C)))Q.loading=5;else{i=B({rel:"stylesheet",href:i,"data-precedence":s},u),(u=er.get(C))&&Lp(i,u);var J=L=g.createElement("link");nn(J),mi(J,"link",i),J._p=new Promise(function(ct,xt){J.onload=ct,J.onerror=xt}),J.addEventListener("load",function(){Q.loading|=1}),J.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,o1(L,s,g)}L={type:"stylesheet",instance:L,count:1,state:Q},y.set(C,L)}}}function U6(i,s){Ao.X(i,s);var u=fh;if(u&&i){var g=Ua(u).hoistableScripts,y=gh(i),C=g.get(y);C||(C=u.querySelector(sd(y)),C||(i=B({src:i,async:!0},s),(s=er.get(y))&&Up(i,s),C=u.createElement("script"),nn(C),mi(C,"link",i),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(y,C))}}function G6(i,s){Ao.M(i,s);var u=fh;if(u&&i){var g=Ua(u).hoistableScripts,y=gh(i),C=g.get(y);C||(C=u.querySelector(sd(y)),C||(i=B({src:i,async:!0,type:"module"},s),(s=er.get(y))&&Up(i,s),C=u.createElement("script"),nn(C),mi(C,"link",i),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(y,C))}}function Fy(i,s,u,g){var y=(y=Xt.current)?s1(y):null;if(!y)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=dh(u.href),u=Ua(y).hoistableStyles,g=u.get(s),g||(g={type:"style",instance:null,count:0,state:null},u.set(s,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=dh(u.href);var C=Ua(y).hoistableStyles,L=C.get(i);if(L||(y=y.ownerDocument||y,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(i,L),(C=y.querySelector(rd(i)))&&!C._p&&(L.instance=C,L.state.loading=5),er.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},er.set(i,u),C||H6(y,i,u,L.state))),s&&g===null)throw Error(n(528,""));return L}if(s&&g!==null)throw Error(n(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=gh(u),u=Ua(y).hoistableScripts,g=u.get(s),g||(g={type:"script",instance:null,count:0,state:null},u.set(s,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function dh(i){return'href="'+Ni(i)+'"'}function rd(i){return'link[rel="stylesheet"]['+i+"]"}function Vy(i){return B({},i,{"data-precedence":i.precedence,precedence:null})}function H6(i,s,u,g){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?g.loading=1:(s=i.createElement("link"),g.preload=s,s.addEventListener("load",function(){return g.loading|=1}),s.addEventListener("error",function(){return g.loading|=2}),mi(s,"link",u),nn(s),i.head.appendChild(s))}function gh(i){return'[src="'+Ni(i)+'"]'}function sd(i){return"script[async]"+i}function Yy(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var g=i.querySelector('style[data-href~="'+Ni(u.href)+'"]');if(g)return s.instance=g,nn(g),g;var y=B({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return g=(i.ownerDocument||i).createElement("style"),nn(g),mi(g,"style",y),o1(g,u.precedence,i),s.instance=g;case"stylesheet":y=dh(u.href);var C=i.querySelector(rd(y));if(C)return s.state.loading|=4,s.instance=C,nn(C),C;g=Vy(u),(y=er.get(y))&&Lp(g,y),C=(i.ownerDocument||i).createElement("link"),nn(C);var L=C;return L._p=new Promise(function(Q,J){L.onload=Q,L.onerror=J}),mi(C,"link",g),s.state.loading|=4,o1(C,u.precedence,i),s.instance=C;case"script":return C=gh(u.src),(y=i.querySelector(sd(C)))?(s.instance=y,nn(y),y):(g=u,(y=er.get(C))&&(g=B({},u),Up(g,y)),i=i.ownerDocument||i,y=i.createElement("script"),nn(y),mi(y,"link",g),i.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(g=s.instance,s.state.loading|=4,o1(g,u.precedence,i));return s.instance}function o1(i,s,u){for(var g=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=g.length?g[g.length-1]:null,C=y,L=0;L<g.length;L++){var Q=g[L];if(Q.dataset.precedence===s)C=Q;else if(C!==y)break}C?C.parentNode.insertBefore(i,C.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function Lp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Up(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var l1=null;function Xy(i,s,u){if(l1===null){var g=new Map,y=l1=new Map;y.set(u,g)}else y=l1,g=y.get(u),g||(g=new Map,y.set(u,g));if(g.has(i))return g;for(g.set(i,null),u=u.getElementsByTagName(i),y=0;y<u.length;y++){var C=u[y];if(!(C[qs]||C[Tn]||i==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var L=C.getAttribute(s)||"";L=i+L;var Q=g.get(L);Q?Q.push(C):g.set(L,[C])}}return g}function qy(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function k6(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ky(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var od=null;function P6(){}function F6(i,s,u){if(od===null)throw Error(n(475));var g=od;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var y=dh(u.href),C=i.querySelector(rd(y));if(C){i=C._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(g.count++,g=c1.bind(g),i.then(g,g)),s.state.loading|=4,s.instance=C,nn(C);return}C=i.ownerDocument||i,u=Vy(u),(y=er.get(y))&&Lp(u,y),C=C.createElement("link"),nn(C);var L=C;L._p=new Promise(function(Q,J){L.onload=Q,L.onerror=J}),mi(C,"link",u),s.instance=C}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(s,i),(i=s.state.preload)&&!(s.state.loading&3)&&(g.count++,s=c1.bind(g),i.addEventListener("load",s),i.addEventListener("error",s))}}function V6(){if(od===null)throw Error(n(475));var i=od;return i.stylesheets&&i.count===0&&Gp(i,i.stylesheets),0<i.count?function(s){var u=setTimeout(function(){if(i.stylesheets&&Gp(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(u)}}:null}function c1(){if(this.count--,this.count===0){if(this.stylesheets)Gp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var u1=null;function Gp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,u1=new Map,s.forEach(Y6,i),u1=null,c1.call(i))}function Y6(i,s){if(!(s.state.loading&4)){var u=u1.get(i);if(u)var g=u.get(null);else{u=new Map,u1.set(i,u);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<y.length;C++){var L=y[C];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(u.set(L.dataset.precedence,L),g=L)}g&&u.set(null,g)}y=s.instance,L=y.getAttribute("data-precedence"),C=u.get(L)||g,C===g&&u.set(null,y),u.set(L,y),this.count++,g=c1.bind(this),y.addEventListener("load",g),y.addEventListener("error",g),C?C.parentNode.insertBefore(y,C.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),s.state.loading|=4}}var ld={$$typeof:S,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function X6(i,s,u,g,y,C,L,Q){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.hiddenUpdates=mu(null),this.identifierPrefix=g,this.onUncaughtError=y,this.onCaughtError=C,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function Qy(i,s,u,g,y,C,L,Q,J,ct,xt,Ot){return i=new X6(i,s,u,L,Q,J,ct,Ot),s=1,C===!0&&(s|=24),C=un(3,null,null,s),i.current=C,C.stateNode=i,s=Ef(),s.refCount++,i.pooledCache=s,s.refCount++,C.memoizedState={element:g,isDehydrated:u,cache:s},ui(C),i}function Wy(i){return i?(i=ls,i):ls}function Zy(i,s,u,g,y,C){y=Wy(y),g.context===null?g.context=y:g.pendingContext=y,g=Ui(s),g.payload={element:u},C=C===void 0?null:C,C!==null&&(g.callback=C),u=Gi(i,g,s),u!==null&&(An(u,i,s),Es(u,i,s))}function Iy(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Hp(i,s){Iy(i,s),(i=i.alternate)&&Iy(i,s)}function Jy(i){if(i.tag===13){var s=mr(i,67108864);s!==null&&An(s,i,67108864),Hp(i,67108864)}}var h1=!0;function q6(i,s,u,g){var y=K.T;K.T=null;var C=dt.p;try{dt.p=2,kp(i,s,u,g)}finally{dt.p=C,K.T=y}}function K6(i,s,u,g){var y=K.T;K.T=null;var C=dt.p;try{dt.p=8,kp(i,s,u,g)}finally{dt.p=C,K.T=y}}function kp(i,s,u,g){if(h1){var y=Pp(g);if(y===null)Op(i,s,g,f1,u),tb(i,g);else if(W6(y,i,s,u,g))g.stopPropagation();else if(tb(i,g),s&4&&-1<Q6.indexOf(i)){for(;y!==null;){var C=En(y);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var L=La(C.pendingLanes);if(L!==0){var Q=C;for(Q.pendingLanes|=2,Q.entangledLanes|=2;L;){var J=1<<31-Gn(L);Q.entanglements[1]|=J,L&=~J}ze(C),!(Kt&6)&&(se=tn()+500,ce(0))}}break;case 13:Q=mr(C,2),Q!==null&&An(Q,C,2),bo(),Hp(C,2)}if(C=Pp(g),C===null&&Op(i,s,g,f1,u),C===y)break;y=C}y!==null&&g.stopPropagation()}else Op(i,s,g,null,u)}}function Pp(i){return i=fc(i),Fp(i)}var f1=null;function Fp(i){if(f1=null,i=sr(i),i!==null){var s=I(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=it(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return f1=i,null}function $y(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(si()){case Yi:return 2;case en:return 8;case qn:case ma:return 32;case Di:return 268435456;default:return 32}default:return 32}}var Vp=!1,Rl=null,Nl=null,jl=null,cd=new Map,ud=new Map,zl=[],Q6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tb(i,s){switch(i){case"focusin":case"focusout":Rl=null;break;case"dragenter":case"dragleave":Nl=null;break;case"mouseover":case"mouseout":jl=null;break;case"pointerover":case"pointerout":cd.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ud.delete(s.pointerId)}}function hd(i,s,u,g,y,C){return i===null||i.nativeEvent!==C?(i={blockedOn:s,domEventName:u,eventSystemFlags:g,nativeEvent:C,targetContainers:[y]},s!==null&&(s=En(s),s!==null&&Jy(s)),i):(i.eventSystemFlags|=g,s=i.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),i)}function W6(i,s,u,g,y){switch(s){case"focusin":return Rl=hd(Rl,i,s,u,g,y),!0;case"dragenter":return Nl=hd(Nl,i,s,u,g,y),!0;case"mouseover":return jl=hd(jl,i,s,u,g,y),!0;case"pointerover":var C=y.pointerId;return cd.set(C,hd(cd.get(C)||null,i,s,u,g,y)),!0;case"gotpointercapture":return C=y.pointerId,ud.set(C,hd(ud.get(C)||null,i,s,u,g,y)),!0}return!1}function eb(i){var s=sr(i.target);if(s!==null){var u=I(s);if(u!==null){if(s=u.tag,s===13){if(s=it(u),s!==null){i.blockedOn=s,Jr(i.priority,function(){if(u.tag===13){var g=gi(),y=mr(u,g);y!==null&&An(y,u,g),Hp(u,g)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function d1(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=Pp(i.nativeEvent);if(u===null){u=i.nativeEvent;var g=new u.constructor(u.type,u);Au=g,u.target.dispatchEvent(g),Au=null}else return s=En(u),s!==null&&Jy(s),i.blockedOn=u,!1;s.shift()}return!0}function nb(i,s,u){d1(i)&&u.delete(s)}function Z6(){Vp=!1,Rl!==null&&d1(Rl)&&(Rl=null),Nl!==null&&d1(Nl)&&(Nl=null),jl!==null&&d1(jl)&&(jl=null),cd.forEach(nb),ud.forEach(nb)}function g1(i,s){i.blockedOn===s&&(i.blockedOn=null,Vp||(Vp=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Z6)))}var m1=null;function ib(i){m1!==i&&(m1=i,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){m1===i&&(m1=null);for(var s=0;s<i.length;s+=3){var u=i[s],g=i[s+1],y=i[s+2];if(typeof g!="function"){if(Fp(g||u)===null)continue;break}var C=En(u);C!==null&&(i.splice(s,3),s-=3,Bf(C,{pending:!0,data:y,method:u.method,action:g},g,y))}}))}function fd(i){function s(J){return g1(J,i)}Rl!==null&&g1(Rl,i),Nl!==null&&g1(Nl,i),jl!==null&&g1(jl,i),cd.forEach(s),ud.forEach(s);for(var u=0;u<zl.length;u++){var g=zl[u];g.blockedOn===i&&(g.blockedOn=null)}for(;0<zl.length&&(u=zl[0],u.blockedOn===null);)eb(u),u.blockedOn===null&&zl.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(g=0;g<u.length;g+=3){var y=u[g],C=u[g+1],L=y[de]||null;if(typeof C=="function")L||ib(u);else if(L){var Q=null;if(C&&C.hasAttribute("formAction")){if(y=C,L=C[de]||null)Q=L.formAction;else if(Fp(y)!==null)continue}else Q=L.action;typeof Q=="function"?u[g+1]=Q:(u.splice(g,3),g-=3),ib(u)}}}function Yp(i){this._internalRoot=i}p1.prototype.render=Yp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var u=s.current,g=gi();Zy(u,g,i,s,null,null)},p1.prototype.unmount=Yp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&Rt(),Zy(i.current,2,null,i,null,null),bo(),s[$r]=null}};function p1(i){this._internalRoot=i}p1.prototype.unstable_scheduleHydration=function(i){if(i){var s=Wh();i={blockedOn:null,target:i,priority:s};for(var u=0;u<zl.length&&s!==0&&s<zl[u].priority;u++);zl.splice(u,0,i),u===0&&eb(i)}};var ab=t.version;if(ab!=="19.0.0")throw Error(n(527,ab,"19.0.0"));dt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=tt(s),i=i!==null?mt(i):null,i=i===null?null:i.stateNode,i};var I6={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:K,findFiberByHostInstance:sr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var v1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!v1.isDisabled&&v1.supportsFiber)try{mn=v1.inject(I6),xe=v1}catch{}}return gd.createRoot=function(i,s){if(!r(i))throw Error(n(299));var u=!1,g="",y=Yg,C=Xg,L=qg,Q=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(C=s.onCaughtError),s.onRecoverableError!==void 0&&(L=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(Q=s.unstable_transitionCallbacks)),s=Qy(i,1,!1,null,null,u,g,y,C,L,Q,null),i[$r]=s.current,wp(i.nodeType===8?i.parentNode:i),new Yp(s)},gd.hydrateRoot=function(i,s,u){if(!r(i))throw Error(n(299));var g=!1,y="",C=Yg,L=Xg,Q=qg,J=null,ct=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(L=u.onCaughtError),u.onRecoverableError!==void 0&&(Q=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(J=u.unstable_transitionCallbacks),u.formState!==void 0&&(ct=u.formState)),s=Qy(i,1,!0,s,u??null,g,y,C,L,Q,J,ct),s.context=Wy(null),u=s.current,g=gi(),y=Ui(g),y.callback=null,Gi(u,y,g),s.current.lanes=g,Ko(s,g),ze(s),i[$r]=s.current,wp(i),new p1(s)},gd.version="19.0.0",gd}var mb;function sx(){if(mb)return Kp.exports;mb=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Kp.exports=rx(),Kp.exports}var ox=sx(),Cv=m_();const lx=jm(Cv);/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function f0(){return f0=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])}return a},f0.apply(this,arguments)}var Fl;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Fl||(Fl={}));const pb="popstate";function cx(a){a===void 0&&(a={});function t(n,r){let{pathname:l,search:h,hash:f}=n.location;return F2("",{pathname:l,search:h,hash:f},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(n,r){return typeof r=="string"?r:om(r)}return hx(t,e,null,a)}function Un(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function p_(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ux(){return Math.random().toString(36).substr(2,8)}function vb(a,t){return{usr:a.state,key:a.key,idx:t}}function F2(a,t,e,n){return e===void 0&&(e=null),f0({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof t=="string"?Uh(t):t,{state:e,key:t&&t.key||n||ux()})}function om(a){let{pathname:t="/",search:e="",hash:n=""}=a;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Uh(a){let t={};if(a){let e=a.indexOf("#");e>=0&&(t.hash=a.substr(e),a=a.substr(0,e));let n=a.indexOf("?");n>=0&&(t.search=a.substr(n),a=a.substr(0,n)),a&&(t.pathname=a)}return t}function hx(a,t,e,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:l=!1}=n,h=r.history,f=Fl.Pop,d=null,p=v();p==null&&(p=0,h.replaceState(f0({},h.state,{idx:p}),""));function v(){return(h.state||{idx:null}).idx}function b(){f=Fl.Pop;let M=v(),D=M==null?null:M-p;p=M,d&&d({action:f,location:w.location,delta:D})}function A(M,D){f=Fl.Push;let T=F2(w.location,M,D);p=v()+1;let O=vb(T,p),R=w.createHref(T);try{h.pushState(O,"",R)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;r.location.assign(R)}l&&d&&d({action:f,location:w.location,delta:1})}function S(M,D){f=Fl.Replace;let T=F2(w.location,M,D);p=v();let O=vb(T,p),R=w.createHref(T);h.replaceState(O,"",R),l&&d&&d({action:f,location:w.location,delta:0})}function x(M){let D=r.location.origin!=="null"?r.location.origin:r.location.href,T=typeof M=="string"?M:om(M);return T=T.replace(/ $/,"%20"),Un(D,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,D)}let w={get action(){return f},get location(){return a(r,h)},listen(M){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(pb,b),d=M,()=>{r.removeEventListener(pb,b),d=null}},createHref(M){return t(r,M)},createURL:x,encodeLocation(M){let D=x(M);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:A,replace:S,go(M){return h.go(M)}};return w}var yb;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(yb||(yb={}));function fx(a,t,e){return e===void 0&&(e="/"),dx(a,t,e,!1)}function dx(a,t,e,n){let r=typeof t=="string"?Uh(t):t,l=Tv(r.pathname||"/",e);if(l==null)return null;let h=v_(a);gx(h);let f=null;for(let d=0;f==null&&d<h.length;++d){let p=Tx(l);f=xx(h[d],p,n)}return f}function v_(a,t,e,n){t===void 0&&(t=[]),e===void 0&&(e=[]),n===void 0&&(n="");let r=(l,h,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};d.relativePath.startsWith("/")&&(Un(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let p=Vl([n,d.relativePath]),v=e.concat(d);l.children&&l.children.length>0&&(Un(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),v_(l.children,t,v,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:Sx(p,l.index),routesMeta:v})};return a.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))r(l,h);else for(let d of y_(l.path))r(l,h,d)}),t}function y_(a){let t=a.split("/");if(t.length===0)return[];let[e,...n]=t,r=e.endsWith("?"),l=e.replace(/\?$/,"");if(n.length===0)return r?[l,""]:[l];let h=y_(n.join("/")),f=[];return f.push(...h.map(d=>d===""?l:[l,d].join("/"))),r&&f.push(...h),f.map(d=>a.startsWith("/")&&d===""?"/":d)}function gx(a){a.sort((t,e)=>t.score!==e.score?e.score-t.score:Ax(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}const mx=/^:[\w-]+$/,px=3,vx=2,yx=1,bx=10,_x=-2,bb=a=>a==="*";function Sx(a,t){let e=a.split("/"),n=e.length;return e.some(bb)&&(n+=_x),t&&(n+=vx),e.filter(r=>!bb(r)).reduce((r,l)=>r+(mx.test(l)?px:l===""?yx:bx),n)}function Ax(a,t){return a.length===t.length&&a.slice(0,-1).every((n,r)=>n===t[r])?a[a.length-1]-t[t.length-1]:0}function xx(a,t,e){let{routesMeta:n}=a,r={},l="/",h=[];for(let f=0;f<n.length;++f){let d=n[f],p=f===n.length-1,v=l==="/"?t:t.slice(l.length)||"/",b=_b({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},v),A=d.route;if(!b&&p&&e&&!n[n.length-1].route.index&&(b=_b({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!b)return null;Object.assign(r,b.params),h.push({params:r,pathname:Vl([l,b.pathname]),pathnameBase:Mx(Vl([l,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(l=Vl([l,b.pathnameBase]))}return h}function _b(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[e,n]=Cx(a.path,a.caseSensitive,a.end),r=t.match(e);if(!r)return null;let l=r[0],h=l.replace(/(.)\/+$/,"$1"),f=r.slice(1);return{params:n.reduce((p,v,b)=>{let{paramName:A,isOptional:S}=v;if(A==="*"){let w=f[b]||"";h=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const x=f[b];return S&&!x?p[A]=void 0:p[A]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:h,pattern:a}}function Cx(a,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),p_(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let n=[],r="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,d)=>(n.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(n.push({paramName:"*"}),r+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":a!==""&&a!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function Tx(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return p_(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),a}}function Tv(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=a.charAt(e);return n&&n!=="/"?null:a.slice(e)||"/"}function Ex(a,t){t===void 0&&(t="/");let{pathname:e,search:n="",hash:r=""}=typeof a=="string"?Uh(a):a;return{pathname:e?e.startsWith("/")?e:wx(e,t):t,search:Dx(n),hash:Rx(r)}}function wx(a,t){let e=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Ip(a,t,e,n){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ox(a){return a.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function b_(a,t){let e=Ox(a);return t?e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase):e.map(n=>n.pathnameBase)}function __(a,t,e,n){n===void 0&&(n=!1);let r;typeof a=="string"?r=Uh(a):(r=f0({},a),Un(!r.pathname||!r.pathname.includes("?"),Ip("?","pathname","search",r)),Un(!r.pathname||!r.pathname.includes("#"),Ip("#","pathname","hash",r)),Un(!r.search||!r.search.includes("#"),Ip("#","search","hash",r)));let l=a===""||r.pathname==="",h=l?"/":r.pathname,f;if(h==null)f=e;else{let b=t.length-1;if(!n&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),b-=1;r.pathname=A.join("/")}f=b>=0?t[b]:"/"}let d=Ex(r,f),p=h&&h!=="/"&&h.endsWith("/"),v=(l||h===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(p||v)&&(d.pathname+="/"),d}const Vl=a=>a.join("/").replace(/\/\/+/g,"/"),Mx=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Dx=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Rx=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Nx(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const S_=["post","put","patch","delete"];new Set(S_);const jx=["get",...S_];new Set(jx);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function d0(){return d0=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])}return a},d0.apply(this,arguments)}const Ev=F.createContext(null),zx=F.createContext(null),fu=F.createContext(null),zm=F.createContext(null),Zl=F.createContext({outlet:null,matches:[],isDataRoute:!1}),A_=F.createContext(null);function Bx(a,t){let{relative:e}=t===void 0?{}:t;T0()||Un(!1);let{basename:n,navigator:r}=F.useContext(fu),{hash:l,pathname:h,search:f}=C_(a,{relative:e}),d=h;return n!=="/"&&(d=h==="/"?n:Vl([n,h])),r.createHref({pathname:d,search:f,hash:l})}function T0(){return F.useContext(zm)!=null}function Bm(){return T0()||Un(!1),F.useContext(zm).location}function x_(a){F.useContext(fu).static||F.useLayoutEffect(a)}function Lx(){let{isDataRoute:a}=F.useContext(Zl);return a?Ix():Ux()}function Ux(){T0()||Un(!1);let a=F.useContext(Ev),{basename:t,future:e,navigator:n}=F.useContext(fu),{matches:r}=F.useContext(Zl),{pathname:l}=Bm(),h=JSON.stringify(b_(r,e.v7_relativeSplatPath)),f=F.useRef(!1);return x_(()=>{f.current=!0}),F.useCallback(function(p,v){if(v===void 0&&(v={}),!f.current)return;if(typeof p=="number"){n.go(p);return}let b=__(p,JSON.parse(h),l,v.relative==="path");a==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Vl([t,b.pathname])),(v.replace?n.replace:n.push)(b,v.state,v)},[t,n,h,l,a])}const Gx=F.createContext(null);function Hx(a){let t=F.useContext(Zl).outlet;return t&&F.createElement(Gx.Provider,{value:a},t)}function C_(a,t){let{relative:e}=t===void 0?{}:t,{future:n}=F.useContext(fu),{matches:r}=F.useContext(Zl),{pathname:l}=Bm(),h=JSON.stringify(b_(r,n.v7_relativeSplatPath));return F.useMemo(()=>__(a,JSON.parse(h),l,e==="path"),[a,h,l,e])}function kx(a,t){return Px(a,t)}function Px(a,t,e,n){T0()||Un(!1);let{navigator:r}=F.useContext(fu),{matches:l}=F.useContext(Zl),h=l[l.length-1],f=h?h.params:{};h&&h.pathname;let d=h?h.pathnameBase:"/";h&&h.route;let p=Bm(),v;if(t){var b;let M=typeof t=="string"?Uh(t):t;d==="/"||(b=M.pathname)!=null&&b.startsWith(d)||Un(!1),v=M}else v=p;let A=v.pathname||"/",S=A;if(d!=="/"){let M=d.replace(/^\//,"").split("/");S="/"+A.replace(/^\//,"").split("/").slice(M.length).join("/")}let x=fx(a,{pathname:S}),w=qx(x&&x.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:Vl([d,r.encodeLocation?r.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?d:Vl([d,r.encodeLocation?r.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,e,n);return t&&w?F.createElement(zm.Provider,{value:{location:d0({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Fl.Pop}},w):w}function Fx(){let a=Zx(),t=Nx(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),e=a instanceof Error?a.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),e?F.createElement("pre",{style:r},e):null,null)}const Vx=F.createElement(Fx,null);class Yx extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(Zl.Provider,{value:this.props.routeContext},F.createElement(A_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xx(a){let{routeContext:t,match:e,children:n}=a,r=F.useContext(Ev);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Zl.Provider,{value:t},n)}function qx(a,t,e,n){var r;if(t===void 0&&(t=[]),e===void 0&&(e=null),n===void 0&&(n=null),a==null){var l;if(!e)return null;if(e.errors)a=e.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!e.initialized&&e.matches.length>0)a=e.matches;else return null}let h=a,f=(r=e)==null?void 0:r.errors;if(f!=null){let v=h.findIndex(b=>b.route.id&&(f==null?void 0:f[b.route.id])!==void 0);v>=0||Un(!1),h=h.slice(0,Math.min(h.length,v+1))}let d=!1,p=-1;if(e&&n&&n.v7_partialHydration)for(let v=0;v<h.length;v++){let b=h[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:A,errors:S}=e,x=b.route.loader&&A[b.route.id]===void 0&&(!S||S[b.route.id]===void 0);if(b.route.lazy||x){d=!0,p>=0?h=h.slice(0,p+1):h=[h[0]];break}}}return h.reduceRight((v,b,A)=>{let S,x=!1,w=null,M=null;e&&(S=f&&b.route.id?f[b.route.id]:void 0,w=b.route.errorElement||Vx,d&&(p<0&&A===0?(x=!0,M=null):p===A&&(x=!0,M=b.route.hydrateFallbackElement||null)));let D=t.concat(h.slice(0,A+1)),T=()=>{let O;return S?O=w:x?O=M:b.route.Component?O=F.createElement(b.route.Component,null):b.route.element?O=b.route.element:O=v,F.createElement(Xx,{match:b,routeContext:{outlet:v,matches:D,isDataRoute:e!=null},children:O})};return e&&(b.route.ErrorBoundary||b.route.errorElement||A===0)?F.createElement(Yx,{location:e.location,revalidation:e.revalidation,component:w,error:S,children:T(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):T()},null)}var T_=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(T_||{}),lm=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(lm||{});function Kx(a){let t=F.useContext(Ev);return t||Un(!1),t}function Qx(a){let t=F.useContext(zx);return t||Un(!1),t}function Wx(a){let t=F.useContext(Zl);return t||Un(!1),t}function E_(a){let t=Wx(),e=t.matches[t.matches.length-1];return e.route.id||Un(!1),e.route.id}function Zx(){var a;let t=F.useContext(A_),e=Qx(lm.UseRouteError),n=E_(lm.UseRouteError);return t!==void 0?t:(a=e.errors)==null?void 0:a[n]}function Ix(){let{router:a}=Kx(T_.UseNavigateStable),t=E_(lm.UseNavigateStable),e=F.useRef(!1);return x_(()=>{e.current=!0}),F.useCallback(function(r,l){l===void 0&&(l={}),e.current&&(typeof r=="number"?a.navigate(r):a.navigate(r,d0({fromRouteId:t},l)))},[a,t])}const Sb={};function Jx(a,t){Sb[t]||(Sb[t]=!0,console.warn(t))}const Ab=(a,t,e)=>Jx(a,"⚠️ React Router Future Flag Warning: "+t+". "+("You can use the `"+a+"` future flag to opt-in early. ")+("For more information, see "+e+"."));function $x(a,t){a!=null&&a.v7_startTransition||Ab("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(a!=null&&a.v7_relativeSplatPath)&&!t&&Ab("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function t8(a){return Hx(a.context)}function Sh(a){Un(!1)}function e8(a){let{basename:t="/",children:e=null,location:n,navigationType:r=Fl.Pop,navigator:l,static:h=!1,future:f}=a;T0()&&Un(!1);let d=t.replace(/^\/*/,"/"),p=F.useMemo(()=>({basename:d,navigator:l,static:h,future:d0({v7_relativeSplatPath:!1},f)}),[d,f,l,h]);typeof n=="string"&&(n=Uh(n));let{pathname:v="/",search:b="",hash:A="",state:S=null,key:x="default"}=n,w=F.useMemo(()=>{let M=Tv(v,d);return M==null?null:{location:{pathname:M,search:b,hash:A,state:S,key:x},navigationType:r}},[d,v,b,A,S,x,r]);return w==null?null:F.createElement(fu.Provider,{value:p},F.createElement(zm.Provider,{children:e,value:w}))}function n8(a){let{children:t,location:e}=a;return kx(V2(t),e)}new Promise(()=>{});function V2(a,t){t===void 0&&(t=[]);let e=[];return F.Children.forEach(a,(n,r)=>{if(!F.isValidElement(n))return;let l=[...t,r];if(n.type===F.Fragment){e.push.apply(e,V2(n.props.children,l));return}n.type!==Sh&&Un(!1),!n.props.index||!n.props.children||Un(!1);let h={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(h.children=V2(n.props.children,l)),e.push(h)}),e}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Y2(){return Y2=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])}return a},Y2.apply(this,arguments)}function i8(a,t){if(a==null)return{};var e={},n=Object.keys(a),r,l;for(l=0;l<n.length;l++)r=n[l],!(t.indexOf(r)>=0)&&(e[r]=a[r]);return e}function a8(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function r8(a,t){return a.button===0&&(!t||t==="_self")&&!a8(a)}const s8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],o8="6";try{window.__reactRouterVersion=o8}catch{}const l8="startTransition",xb=g_[l8];function c8(a){let{basename:t,children:e,future:n,window:r}=a,l=F.useRef();l.current==null&&(l.current=cx({window:r,v5Compat:!0}));let h=l.current,[f,d]=F.useState({action:h.action,location:h.location}),{v7_startTransition:p}=n||{},v=F.useCallback(b=>{p&&xb?xb(()=>d(b)):d(b)},[d,p]);return F.useLayoutEffect(()=>h.listen(v),[h,v]),F.useEffect(()=>$x(n),[n]),F.createElement(e8,{basename:t,children:e,location:f.location,navigationType:f.action,navigator:h,future:n})}const u8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",h8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f8=F.forwardRef(function(t,e){let{onClick:n,relative:r,reloadDocument:l,replace:h,state:f,target:d,to:p,preventScrollReset:v,viewTransition:b}=t,A=i8(t,s8),{basename:S}=F.useContext(fu),x,w=!1;if(typeof p=="string"&&h8.test(p)&&(x=p,u8))try{let O=new URL(window.location.href),R=p.startsWith("//")?new URL(O.protocol+p):new URL(p),z=Tv(R.pathname,S);R.origin===O.origin&&z!=null?p=z+R.search+R.hash:w=!0}catch{}let M=Bx(p,{relative:r}),D=d8(p,{replace:h,state:f,target:d,preventScrollReset:v,relative:r,viewTransition:b});function T(O){n&&n(O),O.defaultPrevented||D(O)}return F.createElement("a",Y2({},A,{href:x||M,onClick:w||l?n:T,ref:e,target:d}))});var Cb;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(Cb||(Cb={}));var Tb;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(Tb||(Tb={}));function d8(a,t){let{target:e,replace:n,state:r,preventScrollReset:l,relative:h,viewTransition:f}=t===void 0?{}:t,d=Lx(),p=Bm(),v=C_(a,{relative:h});return F.useCallback(b=>{if(r8(b,e)){b.preventDefault();let A=n!==void 0?n:om(p)===om(v);d(a,{replace:A,state:r,preventScrollReset:l,relative:h,viewTransition:f})}},[p,d,v,n,r,e,a,l,h,f])}var Jp={exports:{}},$p={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function g8(){if(Eb)return $p;Eb=1;var a=C0();function t(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var e=typeof Object.is=="function"?Object.is:t,n=a.useSyncExternalStore,r=a.useRef,l=a.useEffect,h=a.useMemo,f=a.useDebugValue;return $p.useSyncExternalStoreWithSelector=function(d,p,v,b,A){var S=r(null);if(S.current===null){var x={hasValue:!1,value:null};S.current=x}else x=S.current;S=h(function(){function M(z){if(!D){if(D=!0,T=z,z=b(z),A!==void 0&&x.hasValue){var H=x.value;if(A(H,z))return O=H}return O=z}if(H=O,e(T,z))return H;var V=b(z);return A!==void 0&&A(H,V)?(T=z,H):(T=z,O=V)}var D=!1,T,O,R=v===void 0?null:v;return[function(){return M(p())},R===null?void 0:function(){return M(R())}]},[p,v,b,A]);var w=n(d,S[0],S[1]);return l(function(){x.hasValue=!0,x.value=w},[w]),f(w),w},$p}var wb;function m8(){return wb||(wb=1,Jp.exports=g8()),Jp.exports}var p8=m8();function v8(a){a()}function y8(){let a=null,t=null;return{clear(){a=null,t=null},notify(){v8(()=>{let e=a;for(;e;)e.callback(),e=e.next})},get(){const e=[];let n=a;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let n=!0;const r=t={callback:e,next:null,prev:t};return r.prev?r.prev.next=r:a=r,function(){!n||a===null||(n=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:a=r.next)}}}}var Ob={notify(){},get:()=>[]};function b8(a,t){let e,n=Ob,r=0,l=!1;function h(w){v();const M=n.subscribe(w);let D=!1;return()=>{D||(D=!0,M(),b())}}function f(){n.notify()}function d(){x.onStateChange&&x.onStateChange()}function p(){return l}function v(){r++,e||(e=a.subscribe(d),n=y8())}function b(){r--,e&&r===0&&(e(),e=void 0,n.clear(),n=Ob)}function A(){l||(l=!0,v())}function S(){l&&(l=!1,b())}const x={addNestedSub:h,notifyNestedSubs:f,handleChangeWrapper:d,isSubscribed:p,trySubscribe:A,tryUnsubscribe:S,getListeners:()=>n};return x}var _8=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S8=_8(),A8=()=>typeof navigator<"u"&&navigator.product==="ReactNative",x8=A8(),C8=()=>S8||x8?F.useLayoutEffect:F.useEffect,T8=C8(),t2=Symbol.for("react-redux-context"),e2=typeof globalThis<"u"?globalThis:{};function E8(){if(!F.createContext)return{};const a=e2[t2]??(e2[t2]=new Map);let t=a.get(F.createContext);return t||(t=F.createContext(null),a.set(F.createContext,t)),t}var Yl=E8();function w8(a){const{children:t,context:e,serverState:n,store:r}=a,l=F.useMemo(()=>{const d=b8(r);return{store:r,subscription:d,getServerState:n?()=>n:void 0}},[r,n]),h=F.useMemo(()=>r.getState(),[r]);T8(()=>{const{subscription:d}=l;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),h!==r.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[l,h]);const f=e||Yl;return F.createElement(f.Provider,{value:l},t)}var O8=w8;function wv(a=Yl){return function(){return F.useContext(a)}}var w_=wv();function O_(a=Yl){const t=a===Yl?w_:wv(a),e=()=>{const{store:n}=t();return n};return Object.assign(e,{withTypes:()=>e}),e}var M8=O_();function D8(a=Yl){const t=a===Yl?M8:O_(a),e=()=>t().dispatch;return Object.assign(e,{withTypes:()=>e}),e}var R8=D8(),N8=(a,t)=>a===t;function j8(a=Yl){const t=a===Yl?w_:wv(a),e=(n,r={})=>{const{equalityFn:l=N8}=typeof r=="function"?{equalityFn:r}:r,h=t(),{store:f,subscription:d,getServerState:p}=h;F.useRef(!0);const v=F.useCallback({[n.name](A){return n(A)}}[n.name],[n]),b=p8.useSyncExternalStoreWithSelector(d.addNestedSub,f.getState,p||f.getState,v,l);return F.useDebugValue(b),b};return Object.assign(e,{withTypes:()=>e}),e}var Lm=j8(),I1={exports:{}},md={},n2={},i2={},Mb;function le(){return Mb||(Mb=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a._registerNode=a.Konva=a.glob=void 0;const t=Math.PI/180;function e(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}a.glob=typeof rb<"u"?rb:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},a.Konva={_global:a.glob,version:"9.3.16",isBrowser:e(),isUnminified:/param/.test((function(r){}).toString()),dblClickWindow:400,getAngle(r){return a.Konva.angleDeg?r*t:r},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return a.Konva.DD.isDragging},isTransforming(){var r;return(r=a.Konva.Transformer)===null||r===void 0?void 0:r.isTransforming()},isDragReady(){return!!a.Konva.DD.node},releaseCanvasOnDestroy:!0,document:a.glob.document,_injectGlobal(r){a.glob.Konva=r}};const n=r=>{a.Konva[r.prototype.getClassName()]=r};a._registerNode=n,a.Konva._injectGlobal(a.Konva)}(i2)),i2}var a2={},Db;function Cn(){return Db||(Db=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Util=a.Transform=void 0;const t=le();class e{constructor(R=[1,0,0,1,0,0]){this.dirty=!1,this.m=R&&R.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new e(this.m)}copyInto(R){R.m[0]=this.m[0],R.m[1]=this.m[1],R.m[2]=this.m[2],R.m[3]=this.m[3],R.m[4]=this.m[4],R.m[5]=this.m[5]}point(R){const z=this.m;return{x:z[0]*R.x+z[2]*R.y+z[4],y:z[1]*R.x+z[3]*R.y+z[5]}}translate(R,z){return this.m[4]+=this.m[0]*R+this.m[2]*z,this.m[5]+=this.m[1]*R+this.m[3]*z,this}scale(R,z){return this.m[0]*=R,this.m[1]*=R,this.m[2]*=z,this.m[3]*=z,this}rotate(R){const z=Math.cos(R),H=Math.sin(R),V=this.m[0]*z+this.m[2]*H,P=this.m[1]*z+this.m[3]*H,K=this.m[0]*-H+this.m[2]*z,B=this.m[1]*-H+this.m[3]*z;return this.m[0]=V,this.m[1]=P,this.m[2]=K,this.m[3]=B,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(R,z){const H=this.m[0]+this.m[2]*z,V=this.m[1]+this.m[3]*z,P=this.m[2]+this.m[0]*R,K=this.m[3]+this.m[1]*R;return this.m[0]=H,this.m[1]=V,this.m[2]=P,this.m[3]=K,this}multiply(R){const z=this.m[0]*R.m[0]+this.m[2]*R.m[1],H=this.m[1]*R.m[0]+this.m[3]*R.m[1],V=this.m[0]*R.m[2]+this.m[2]*R.m[3],P=this.m[1]*R.m[2]+this.m[3]*R.m[3],K=this.m[0]*R.m[4]+this.m[2]*R.m[5]+this.m[4],B=this.m[1]*R.m[4]+this.m[3]*R.m[5]+this.m[5];return this.m[0]=z,this.m[1]=H,this.m[2]=V,this.m[3]=P,this.m[4]=K,this.m[5]=B,this}invert(){const R=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),z=this.m[3]*R,H=-this.m[1]*R,V=-this.m[2]*R,P=this.m[0]*R,K=R*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),B=R*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=z,this.m[1]=H,this.m[2]=V,this.m[3]=P,this.m[4]=K,this.m[5]=B,this}getMatrix(){return this.m}decompose(){const R=this.m[0],z=this.m[1],H=this.m[2],V=this.m[3],P=this.m[4],K=this.m[5],B=R*V-z*H,Y={x:P,y:K,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(R!=0||z!=0){const Z=Math.sqrt(R*R+z*z);Y.rotation=z>0?Math.acos(R/Z):-Math.acos(R/Z),Y.scaleX=Z,Y.scaleY=B/Z,Y.skewX=(R*H+z*V)/B,Y.skewY=0}else if(H!=0||V!=0){const Z=Math.sqrt(H*H+V*V);Y.rotation=Math.PI/2-(V>0?Math.acos(-H/Z):-Math.acos(H/Z)),Y.scaleX=B/Z,Y.scaleY=Z,Y.skewX=0,Y.skewY=(R*H+z*V)/B}return Y.rotation=a.Util._getRotation(Y.rotation),Y}}a.Transform=e;let n="[object Array]",r="[object Number]",l="[object String]",h="[object Boolean]",f=Math.PI/180,d=180/Math.PI,p="#",v="",b="0",A="Konva warning: ",S="Konva error: ",x="rgb(",w={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},M=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,D=[];const T=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(O){setTimeout(O,60)};a.Util={_isElement(O){return!!(O&&O.nodeType==1)},_isFunction(O){return!!(O&&O.constructor&&O.call&&O.apply)},_isPlainObject(O){return!!O&&O.constructor===Object},_isArray(O){return Object.prototype.toString.call(O)===n},_isNumber(O){return Object.prototype.toString.call(O)===r&&!isNaN(O)&&isFinite(O)},_isString(O){return Object.prototype.toString.call(O)===l},_isBoolean(O){return Object.prototype.toString.call(O)===h},isObject(O){return O instanceof Object},isValidSelector(O){if(typeof O!="string")return!1;const R=O[0];return R==="#"||R==="."||R===R.toUpperCase()},_sign(O){return O===0||O>0?1:-1},requestAnimFrame(O){D.push(O),D.length===1&&T(function(){const R=D;D=[],R.forEach(function(z){z()})})},createCanvasElement(){const O=document.createElement("canvas");try{O.style=O.style||{}}catch{}return O},createImageElement(){return document.createElement("img")},_isInDocument(O){for(;O=O.parentNode;)if(O==document)return!0;return!1},_urlToImage(O,R){const z=a.Util.createImageElement();z.onload=function(){R(z)},z.src=O},_rgbToHex(O,R,z){return((1<<24)+(O<<16)+(R<<8)+z).toString(16).slice(1)},_hexToRgb(O){O=O.replace(p,v);const R=parseInt(O,16);return{r:R>>16&255,g:R>>8&255,b:R&255}},getRandomColor(){let O=(Math.random()*16777215<<0).toString(16);for(;O.length<6;)O=b+O;return p+O},getRGB(O){let R;return O in w?(R=w[O],{r:R[0],g:R[1],b:R[2]}):O[0]===p?this._hexToRgb(O.substring(1)):O.substr(0,4)===x?(R=M.exec(O.replace(/ /g,"")),{r:parseInt(R[1],10),g:parseInt(R[2],10),b:parseInt(R[3],10)}):{r:0,g:0,b:0}},colorToRGBA(O){return O=O||"black",a.Util._namedColorToRBA(O)||a.Util._hex3ColorToRGBA(O)||a.Util._hex4ColorToRGBA(O)||a.Util._hex6ColorToRGBA(O)||a.Util._hex8ColorToRGBA(O)||a.Util._rgbColorToRGBA(O)||a.Util._rgbaColorToRGBA(O)||a.Util._hslColorToRGBA(O)},_namedColorToRBA(O){const R=w[O.toLowerCase()];return R?{r:R[0],g:R[1],b:R[2],a:1}:null},_rgbColorToRGBA(O){if(O.indexOf("rgb(")===0){O=O.match(/rgb\(([^)]+)\)/)[1];const R=O.split(/ *, */).map(Number);return{r:R[0],g:R[1],b:R[2],a:1}}},_rgbaColorToRGBA(O){if(O.indexOf("rgba(")===0){O=O.match(/rgba\(([^)]+)\)/)[1];const R=O.split(/ *, */).map((z,H)=>z.slice(-1)==="%"?H===3?parseInt(z)/100:parseInt(z)/100*255:Number(z));return{r:R[0],g:R[1],b:R[2],a:R[3]}}},_hex8ColorToRGBA(O){if(O[0]==="#"&&O.length===9)return{r:parseInt(O.slice(1,3),16),g:parseInt(O.slice(3,5),16),b:parseInt(O.slice(5,7),16),a:parseInt(O.slice(7,9),16)/255}},_hex6ColorToRGBA(O){if(O[0]==="#"&&O.length===7)return{r:parseInt(O.slice(1,3),16),g:parseInt(O.slice(3,5),16),b:parseInt(O.slice(5,7),16),a:1}},_hex4ColorToRGBA(O){if(O[0]==="#"&&O.length===5)return{r:parseInt(O[1]+O[1],16),g:parseInt(O[2]+O[2],16),b:parseInt(O[3]+O[3],16),a:parseInt(O[4]+O[4],16)/255}},_hex3ColorToRGBA(O){if(O[0]==="#"&&O.length===4)return{r:parseInt(O[1]+O[1],16),g:parseInt(O[2]+O[2],16),b:parseInt(O[3]+O[3],16),a:1}},_hslColorToRGBA(O){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(O)){const[R,...z]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(O),H=Number(z[0])/360,V=Number(z[1])/100,P=Number(z[2])/100;let K,B,Y;if(V===0)return Y=P*255,{r:Math.round(Y),g:Math.round(Y),b:Math.round(Y),a:1};P<.5?K=P*(1+V):K=P+V-P*V;const Z=2*P-K,j=[0,0,0];for(let U=0;U<3;U++)B=H+1/3*-(U-1),B<0&&B++,B>1&&B--,6*B<1?Y=Z+(K-Z)*6*B:2*B<1?Y=K:3*B<2?Y=Z+(K-Z)*(2/3-B)*6:Y=Z,j[U]=Y*255;return{r:Math.round(j[0]),g:Math.round(j[1]),b:Math.round(j[2]),a:1}}},haveIntersection(O,R){return!(R.x>O.x+O.width||R.x+R.width<O.x||R.y>O.y+O.height||R.y+R.height<O.y)},cloneObject(O){const R={};for(const z in O)this._isPlainObject(O[z])?R[z]=this.cloneObject(O[z]):this._isArray(O[z])?R[z]=this.cloneArray(O[z]):R[z]=O[z];return R},cloneArray(O){return O.slice(0)},degToRad(O){return O*f},radToDeg(O){return O*d},_degToRad(O){return a.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),a.Util.degToRad(O)},_radToDeg(O){return a.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),a.Util.radToDeg(O)},_getRotation(O){return t.Konva.angleDeg?a.Util.radToDeg(O):O},_capitalize(O){return O.charAt(0).toUpperCase()+O.slice(1)},throw(O){throw new Error(S+O)},error(O){console.error(S+O)},warn(O){t.Konva.showWarnings&&console.warn(A+O)},each(O,R){for(const z in O)R(z,O[z])},_inRange(O,R,z){return R<=O&&O<z},_getProjectionToSegment(O,R,z,H,V,P){let K,B,Y;const Z=(O-z)*(O-z)+(R-H)*(R-H);if(Z==0)K=O,B=R,Y=(V-z)*(V-z)+(P-H)*(P-H);else{const j=((V-O)*(z-O)+(P-R)*(H-R))/Z;j<0?(K=O,B=R,Y=(O-V)*(O-V)+(R-P)*(R-P)):j>1?(K=z,B=H,Y=(z-V)*(z-V)+(H-P)*(H-P)):(K=O+j*(z-O),B=R+j*(H-R),Y=(K-V)*(K-V)+(B-P)*(B-P))}return[K,B,Y]},_getProjectionToLine(O,R,z){const H=a.Util.cloneObject(O);let V=Number.MAX_VALUE;return R.forEach(function(P,K){if(!z&&K===R.length-1)return;const B=R[(K+1)%R.length],Y=a.Util._getProjectionToSegment(P.x,P.y,B.x,B.y,O.x,O.y),Z=Y[0],j=Y[1],U=Y[2];U<V&&(H.x=Z,H.y=j,V=U)}),H},_prepareArrayForTween(O,R,z){let H,V=[],P=[];if(O.length>R.length){const B=R;R=O,O=B}for(H=0;H<O.length;H+=2)V.push({x:O[H],y:O[H+1]});for(H=0;H<R.length;H+=2)P.push({x:R[H],y:R[H+1]});const K=[];return P.forEach(function(B){const Y=a.Util._getProjectionToLine(B,V,z);K.push(Y.x),K.push(Y.y)}),K},_prepareToStringify(O){let R;O.visitedByCircularReferenceRemoval=!0;for(const z in O)if(O.hasOwnProperty(z)&&O[z]&&typeof O[z]=="object"){if(R=Object.getOwnPropertyDescriptor(O,z),O[z].visitedByCircularReferenceRemoval||a.Util._isElement(O[z]))if(R.configurable)delete O[z];else return null;else if(a.Util._prepareToStringify(O[z])===null)if(R.configurable)delete O[z];else return null}return delete O.visitedByCircularReferenceRemoval,O},_assign(O,R){for(const z in R)O[z]=R[z];return O},_getFirstPointerId(O){return O.touches?O.changedTouches[0].identifier:O.pointerId||999},releaseCanvas(...O){t.Konva.releaseCanvasOnDestroy&&O.forEach(R=>{R.width=0,R.height=0})},drawRoundedRectPath(O,R,z,H){let V=0,P=0,K=0,B=0;typeof H=="number"?V=P=K=B=Math.min(H,R/2,z/2):(V=Math.min(H[0]||0,R/2,z/2),P=Math.min(H[1]||0,R/2,z/2),B=Math.min(H[2]||0,R/2,z/2),K=Math.min(H[3]||0,R/2,z/2)),O.moveTo(V,0),O.lineTo(R-P,0),O.arc(R-P,P,P,Math.PI*3/2,0,!1),O.lineTo(R,z-B),O.arc(R-B,z-B,B,0,Math.PI/2,!1),O.lineTo(K,z),O.arc(K,z-K,K,Math.PI/2,Math.PI,!1),O.lineTo(0,V),O.arc(V,V,V,Math.PI,Math.PI*3/2,!1)}}}(a2)),a2}var pd={},r2={},oa={},Rb;function fe(){if(Rb)return oa;Rb=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.RGBComponent=n,oa.alphaComponent=r,oa.getNumberValidator=l,oa.getNumberOrArrayOfNumbersValidator=h,oa.getNumberOrAutoValidator=f,oa.getStringValidator=d,oa.getStringOrGradientValidator=p,oa.getFunctionValidator=v,oa.getNumberArrayValidator=b,oa.getBooleanValidator=A,oa.getComponentValidator=S;const a=le(),t=Cn();function e(x){return t.Util._isString(x)?'"'+x+'"':Object.prototype.toString.call(x)==="[object Number]"||t.Util._isBoolean(x)?x:Object.prototype.toString.call(x)}function n(x){return x>255?255:x<0?0:Math.round(x)}function r(x){return x>1?1:x<1e-4?1e-4:x}function l(){if(a.Konva.isUnminified)return function(x,w){return t.Util._isNumber(x)||t.Util.warn(e(x)+' is a not valid value for "'+w+'" attribute. The value should be a number.'),x}}function h(x){if(a.Konva.isUnminified)return function(w,M){const D=t.Util._isNumber(w),T=t.Util._isArray(w)&&w.length==x;return!D&&!T&&t.Util.warn(e(w)+' is a not valid value for "'+M+'" attribute. The value should be a number or Array<number>('+x+")"),w}}function f(){if(a.Konva.isUnminified)return function(x,w){return t.Util._isNumber(x)||x==="auto"||t.Util.warn(e(x)+' is a not valid value for "'+w+'" attribute. The value should be a number or "auto".'),x}}function d(){if(a.Konva.isUnminified)return function(x,w){return t.Util._isString(x)||t.Util.warn(e(x)+' is a not valid value for "'+w+'" attribute. The value should be a string.'),x}}function p(){if(a.Konva.isUnminified)return function(x,w){const M=t.Util._isString(x),D=Object.prototype.toString.call(x)==="[object CanvasGradient]"||x&&x.addColorStop;return M||D||t.Util.warn(e(x)+' is a not valid value for "'+w+'" attribute. The value should be a string or a native gradient.'),x}}function v(){if(a.Konva.isUnminified)return function(x,w){return t.Util._isFunction(x)||t.Util.warn(e(x)+' is a not valid value for "'+w+'" attribute. The value should be a function.'),x}}function b(){if(a.Konva.isUnminified)return function(x,w){const M=Int8Array?Object.getPrototypeOf(Int8Array):null;return M&&x instanceof M||(t.Util._isArray(x)?x.forEach(function(D){t.Util._isNumber(D)||t.Util.warn('"'+w+'" attribute has non numeric element '+D+". Make sure that all elements are numbers.")}):t.Util.warn(e(x)+' is a not valid value for "'+w+'" attribute. The value should be a array of numbers.')),x}}function A(){if(a.Konva.isUnminified)return function(x,w){return x===!0||x===!1||t.Util.warn(e(x)+' is a not valid value for "'+w+'" attribute. The value should be a boolean.'),x}}function S(x){if(a.Konva.isUnminified)return function(w,M){return w==null||t.Util.isObject(w)||t.Util.warn(e(w)+' is a not valid value for "'+M+'" attribute. The value should be an object with properties '+x),w}}return oa}var Nb;function he(){return Nb||(Nb=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Factory=void 0;const t=Cn(),e=fe(),n="get",r="set";a.Factory={addGetterSetter(l,h,f,d,p){a.Factory.addGetter(l,h,f),a.Factory.addSetter(l,h,d,p),a.Factory.addOverloadedGetterSetter(l,h)},addGetter(l,h,f){const d=n+t.Util._capitalize(h);l.prototype[d]=l.prototype[d]||function(){const p=this.attrs[h];return p===void 0?f:p}},addSetter(l,h,f,d){const p=r+t.Util._capitalize(h);l.prototype[p]||a.Factory.overWriteSetter(l,h,f,d)},overWriteSetter(l,h,f,d){const p=r+t.Util._capitalize(h);l.prototype[p]=function(v){return f&&v!==void 0&&v!==null&&(v=f.call(this,v,h)),this._setAttr(h,v),d&&d.call(this),this}},addComponentsGetterSetter(l,h,f,d,p){let v=f.length,b=t.Util._capitalize,A=n+b(h),S=r+b(h),x,w;l.prototype[A]=function(){const D={};for(x=0;x<v;x++)w=f[x],D[w]=this.getAttr(h+b(w));return D};const M=(0,e.getComponentValidator)(f);l.prototype[S]=function(D){let T=this.attrs[h],O;d&&(D=d.call(this,D)),M&&M.call(this,D,h);for(O in D)D.hasOwnProperty(O)&&this._setAttr(h+b(O),D[O]);return D||f.forEach(R=>{this._setAttr(h+b(R),void 0)}),this._fireChangeEvent(h,T,D),p&&p.call(this),this},a.Factory.addOverloadedGetterSetter(l,h)},addOverloadedGetterSetter(l,h){const f=t.Util._capitalize(h),d=r+f,p=n+f;l.prototype[h]=function(){return arguments.length?(this[d](arguments[0]),this):this[p]()}},addDeprecatedGetterSetter(l,h,f,d){t.Util.error("Adding deprecated "+h);const p=n+t.Util._capitalize(h),v=h+" property is deprecated and will be removed soon. Look at Konva change log for more information.";l.prototype[p]=function(){t.Util.error(v);const b=this.attrs[h];return b===void 0?f:b},a.Factory.addSetter(l,h,d,function(){t.Util.error(v)}),a.Factory.addOverloadedGetterSetter(l,h)},backCompat(l,h){t.Util.each(h,function(f,d){const p=l.prototype[d],v=n+t.Util._capitalize(f),b=r+t.Util._capitalize(f);function A(){p.apply(this,arguments),t.Util.error('"'+f+'" method is deprecated and will be removed soon. Use ""'+d+'" instead.')}l.prototype[f]=A,l.prototype[v]=A,l.prototype[b]=A})},afterSetFilter(){this._filterUpToDate=!1}}}(r2)),r2}var xo={},Co={},jb;function M_(){if(jb)return Co;jb=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.HitContext=Co.SceneContext=Co.Context=void 0;const a=Cn(),t=le();function e(D){let T=[],O=D.length,R=a.Util,z,H;for(z=0;z<O;z++)H=D[z],R._isNumber(H)?H=Math.round(H*1e3)/1e3:R._isString(H)||(H=H+""),T.push(H);return T}const n=",",r="(",l=")",h="([",f="])",d=";",p="()",v="=",b=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],A=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],S=100;let x=class{constructor(T){this.canvas=T,t.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(T){T.fillEnabled()&&this._fill(T)}_fill(T){}strokeShape(T){T.hasStroke()&&this._stroke(T)}_stroke(T){}fillStrokeShape(T){T.attrs.fillAfterStrokeEnabled?(this.strokeShape(T),this.fillShape(T)):(this.fillShape(T),this.strokeShape(T))}getTrace(T,O){let R=this.traceArr,z=R.length,H="",V,P,K,B;for(V=0;V<z;V++)P=R[V],K=P.method,K?(B=P.args,H+=K,T?H+=p:a.Util._isArray(B[0])?H+=h+B.join(n)+f:(O&&(B=B.map(Y=>typeof Y=="number"?Math.floor(Y):Y)),H+=r+B.join(n)+l)):(H+=P.property,T||(H+=v+P.val)),H+=d;return H}clearTrace(){this.traceArr=[]}_trace(T){let O=this.traceArr,R;O.push(T),R=O.length,R>=S&&O.shift()}reset(){const T=this.getCanvas().getPixelRatio();this.setTransform(1*T,0,0,1*T,0,0)}getCanvas(){return this.canvas}clear(T){const O=this.getCanvas();T?this.clearRect(T.x||0,T.y||0,T.width||0,T.height||0):this.clearRect(0,0,O.getWidth()/O.pixelRatio,O.getHeight()/O.pixelRatio)}_applyLineCap(T){const O=T.attrs.lineCap;O&&this.setAttr("lineCap",O)}_applyOpacity(T){const O=T.getAbsoluteOpacity();O!==1&&this.setAttr("globalAlpha",O)}_applyLineJoin(T){const O=T.attrs.lineJoin;O&&this.setAttr("lineJoin",O)}setAttr(T,O){this._context[T]=O}arc(T,O,R,z,H,V){this._context.arc(T,O,R,z,H,V)}arcTo(T,O,R,z,H){this._context.arcTo(T,O,R,z,H)}beginPath(){this._context.beginPath()}bezierCurveTo(T,O,R,z,H,V){this._context.bezierCurveTo(T,O,R,z,H,V)}clearRect(T,O,R,z){this._context.clearRect(T,O,R,z)}clip(...T){this._context.clip.apply(this._context,T)}closePath(){this._context.closePath()}createImageData(T,O){const R=arguments;if(R.length===2)return this._context.createImageData(T,O);if(R.length===1)return this._context.createImageData(T)}createLinearGradient(T,O,R,z){return this._context.createLinearGradient(T,O,R,z)}createPattern(T,O){return this._context.createPattern(T,O)}createRadialGradient(T,O,R,z,H,V){return this._context.createRadialGradient(T,O,R,z,H,V)}drawImage(T,O,R,z,H,V,P,K,B){const Y=arguments,Z=this._context;Y.length===3?Z.drawImage(T,O,R):Y.length===5?Z.drawImage(T,O,R,z,H):Y.length===9&&Z.drawImage(T,O,R,z,H,V,P,K,B)}ellipse(T,O,R,z,H,V,P,K){this._context.ellipse(T,O,R,z,H,V,P,K)}isPointInPath(T,O,R,z){return R?this._context.isPointInPath(R,T,O,z):this._context.isPointInPath(T,O,z)}fill(...T){this._context.fill.apply(this._context,T)}fillRect(T,O,R,z){this._context.fillRect(T,O,R,z)}strokeRect(T,O,R,z){this._context.strokeRect(T,O,R,z)}fillText(T,O,R,z){z?this._context.fillText(T,O,R,z):this._context.fillText(T,O,R)}measureText(T){return this._context.measureText(T)}getImageData(T,O,R,z){return this._context.getImageData(T,O,R,z)}lineTo(T,O){this._context.lineTo(T,O)}moveTo(T,O){this._context.moveTo(T,O)}rect(T,O,R,z){this._context.rect(T,O,R,z)}roundRect(T,O,R,z,H){this._context.roundRect(T,O,R,z,H)}putImageData(T,O,R){this._context.putImageData(T,O,R)}quadraticCurveTo(T,O,R,z){this._context.quadraticCurveTo(T,O,R,z)}restore(){this._context.restore()}rotate(T){this._context.rotate(T)}save(){this._context.save()}scale(T,O){this._context.scale(T,O)}setLineDash(T){this._context.setLineDash?this._context.setLineDash(T):"mozDash"in this._context?this._context.mozDash=T:"webkitLineDash"in this._context&&(this._context.webkitLineDash=T)}getLineDash(){return this._context.getLineDash()}setTransform(T,O,R,z,H,V){this._context.setTransform(T,O,R,z,H,V)}stroke(T){T?this._context.stroke(T):this._context.stroke()}strokeText(T,O,R,z){this._context.strokeText(T,O,R,z)}transform(T,O,R,z,H,V){this._context.transform(T,O,R,z,H,V)}translate(T,O){this._context.translate(T,O)}_enableTrace(){let T=this,O=b.length,R=this.setAttr,z,H;const V=function(P){let K=T[P],B;T[P]=function(){return H=e(Array.prototype.slice.call(arguments,0)),B=K.apply(T,arguments),T._trace({method:P,args:H}),B}};for(z=0;z<O;z++)V(b[z]);T.setAttr=function(){R.apply(T,arguments);const P=arguments[0];let K=arguments[1];(P==="shadowOffsetX"||P==="shadowOffsetY"||P==="shadowBlur")&&(K=K/this.canvas.getPixelRatio()),T._trace({property:P,val:K})}}_applyGlobalCompositeOperation(T){const O=T.attrs.globalCompositeOperation;!O||O==="source-over"||this.setAttr("globalCompositeOperation",O)}};Co.Context=x,A.forEach(function(D){Object.defineProperty(x.prototype,D,{get(){return this._context[D]},set(T){this._context[D]=T}})});class w extends x{constructor(T,{willReadFrequently:O=!1}={}){super(T),this._context=T._canvas.getContext("2d",{willReadFrequently:O})}_fillColor(T){const O=T.fill();this.setAttr("fillStyle",O),T._fillFunc(this)}_fillPattern(T){this.setAttr("fillStyle",T._getFillPattern()),T._fillFunc(this)}_fillLinearGradient(T){const O=T._getLinearGradient();O&&(this.setAttr("fillStyle",O),T._fillFunc(this))}_fillRadialGradient(T){const O=T._getRadialGradient();O&&(this.setAttr("fillStyle",O),T._fillFunc(this))}_fill(T){const O=T.fill(),R=T.getFillPriority();if(O&&R==="color"){this._fillColor(T);return}const z=T.getFillPatternImage();if(z&&R==="pattern"){this._fillPattern(T);return}const H=T.getFillLinearGradientColorStops();if(H&&R==="linear-gradient"){this._fillLinearGradient(T);return}const V=T.getFillRadialGradientColorStops();if(V&&R==="radial-gradient"){this._fillRadialGradient(T);return}O?this._fillColor(T):z?this._fillPattern(T):H?this._fillLinearGradient(T):V&&this._fillRadialGradient(T)}_strokeLinearGradient(T){const O=T.getStrokeLinearGradientStartPoint(),R=T.getStrokeLinearGradientEndPoint(),z=T.getStrokeLinearGradientColorStops(),H=this.createLinearGradient(O.x,O.y,R.x,R.y);if(z){for(let V=0;V<z.length;V+=2)H.addColorStop(z[V],z[V+1]);this.setAttr("strokeStyle",H)}}_stroke(T){const O=T.dash(),R=T.getStrokeScaleEnabled();if(T.hasStroke()){if(!R){this.save();const H=this.getCanvas().getPixelRatio();this.setTransform(H,0,0,H,0,0)}this._applyLineCap(T),O&&T.dashEnabled()&&(this.setLineDash(O),this.setAttr("lineDashOffset",T.dashOffset())),this.setAttr("lineWidth",T.strokeWidth()),T.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),T.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(T):this.setAttr("strokeStyle",T.stroke()),T._strokeFunc(this),R||this.restore()}}_applyShadow(T){var O,R,z;const H=(O=T.getShadowRGBA())!==null&&O!==void 0?O:"black",V=(R=T.getShadowBlur())!==null&&R!==void 0?R:5,P=(z=T.getShadowOffset())!==null&&z!==void 0?z:{x:0,y:0},K=T.getAbsoluteScale(),B=this.canvas.getPixelRatio(),Y=K.x*B,Z=K.y*B;this.setAttr("shadowColor",H),this.setAttr("shadowBlur",V*Math.min(Math.abs(Y),Math.abs(Z))),this.setAttr("shadowOffsetX",P.x*Y),this.setAttr("shadowOffsetY",P.y*Z)}}Co.SceneContext=w;class M extends x{constructor(T){super(T),this._context=T._canvas.getContext("2d",{willReadFrequently:!0})}_fill(T){this.save(),this.setAttr("fillStyle",T.colorKey),T._fillFuncHit(this),this.restore()}strokeShape(T){T.hasHitStroke()&&this._stroke(T)}_stroke(T){if(T.hasHitStroke()){const O=T.getStrokeScaleEnabled();if(!O){this.save();const H=this.getCanvas().getPixelRatio();this.setTransform(H,0,0,H,0,0)}this._applyLineCap(T);const R=T.hitStrokeWidth(),z=R==="auto"?T.strokeWidth():R;this.setAttr("lineWidth",z),this.setAttr("strokeStyle",T.colorKey),T._strokeFuncHit(this),O||this.restore()}}}return Co.HitContext=M,Co}var zb;function Um(){if(zb)return xo;zb=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.HitCanvas=xo.SceneCanvas=xo.Canvas=void 0;const a=Cn(),t=M_(),e=le(),n=he(),r=fe();let l;function h(){if(l)return l;const v=a.Util.createCanvasElement(),b=v.getContext("2d");return l=function(){const A=e.Konva._global.devicePixelRatio||1,S=b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1;return A/S}(),a.Util.releaseCanvas(v),l}let f=class{constructor(b){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const S=(b||{}).pixelRatio||e.Konva.pixelRatio||h();this.pixelRatio=S,this._canvas=a.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(b){const A=this.pixelRatio;this.pixelRatio=b,this.setSize(this.getWidth()/A,this.getHeight()/A)}setWidth(b){this.width=this._canvas.width=b*this.pixelRatio,this._canvas.style.width=b+"px";const A=this.pixelRatio;this.getContext()._context.scale(A,A)}setHeight(b){this.height=this._canvas.height=b*this.pixelRatio,this._canvas.style.height=b+"px";const A=this.pixelRatio;this.getContext()._context.scale(A,A)}getWidth(){return this.width}getHeight(){return this.height}setSize(b,A){this.setWidth(b||0),this.setHeight(A||0)}toDataURL(b,A){try{return this._canvas.toDataURL(b,A)}catch{try{return this._canvas.toDataURL()}catch(x){return a.Util.error("Unable to get data URL. "+x.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};xo.Canvas=f,n.Factory.addGetterSetter(f,"pixelRatio",void 0,(0,r.getNumberValidator)());class d extends f{constructor(b={width:0,height:0,willReadFrequently:!1}){super(b),this.context=new t.SceneContext(this,{willReadFrequently:b.willReadFrequently}),this.setSize(b.width,b.height)}}xo.SceneCanvas=d;class p extends f{constructor(b={width:0,height:0}){super(b),this.hitCanvas=!0,this.context=new t.HitContext(this),this.setSize(b.width,b.height)}}return xo.HitCanvas=p,xo}var s2={},Bb;function Ov(){return Bb||(Bb=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DD=void 0;const t=le(),e=Cn();a.DD={get isDragging(){let n=!1;return a.DD._dragElements.forEach(r=>{r.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){let n;return a.DD._dragElements.forEach(r=>{n=r.node}),n},_dragElements:new Map,_drag(n){const r=[];a.DD._dragElements.forEach((l,h)=>{const{node:f}=l,d=f.getStage();d.setPointersPositions(n),l.pointerId===void 0&&(l.pointerId=e.Util._getFirstPointerId(n));const p=d._changedPointerPositions.find(v=>v.id===l.pointerId);if(p){if(l.dragStatus!=="dragging"){const v=f.dragDistance();if(Math.max(Math.abs(p.x-l.startPointerPos.x),Math.abs(p.y-l.startPointerPos.y))<v||(f.startDrag({evt:n}),!f.isDragging()))return}f._setDragPosition(n,l),r.push(f)}}),r.forEach(l=>{l.fire("dragmove",{type:"dragmove",target:l,evt:n},!0)})},_endDragBefore(n){const r=[];a.DD._dragElements.forEach(l=>{const{node:h}=l,f=h.getStage();if(n&&f.setPointersPositions(n),!f._changedPointerPositions.find(v=>v.id===l.pointerId))return;(l.dragStatus==="dragging"||l.dragStatus==="stopped")&&(a.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,l.dragStatus="stopped");const p=l.node.getLayer()||l.node instanceof t.Konva.Stage&&l.node;p&&r.indexOf(p)===-1&&r.push(p)}),r.forEach(l=>{l.draw()})},_endDragAfter(n){a.DD._dragElements.forEach((r,l)=>{r.dragStatus==="stopped"&&r.node.fire("dragend",{type:"dragend",target:r.node,evt:n},!0),r.dragStatus!=="dragging"&&a.DD._dragElements.delete(l)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",a.DD._endDragBefore,!0),window.addEventListener("touchend",a.DD._endDragBefore,!0),window.addEventListener("touchcancel",a.DD._endDragBefore,!0),window.addEventListener("mousemove",a.DD._drag),window.addEventListener("touchmove",a.DD._drag),window.addEventListener("mouseup",a.DD._endDragAfter,!1),window.addEventListener("touchend",a.DD._endDragAfter,!1),window.addEventListener("touchcancel",a.DD._endDragAfter,!1))}(s2)),s2}var Lb;function Rn(){if(Lb)return pd;Lb=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.Node=void 0;const a=Cn(),t=he(),e=Um(),n=le(),r=Ov(),l=fe(),h="absoluteOpacity",f="allEventListeners",d="absoluteTransform",p="absoluteScale",v="canvas",b="Change",A="children",S="konva",x="listening",w="mouseenter",M="mouseleave",D="set",T="Shape",O=" ",R="stage",z="transform",H="Stage",V="visible",P=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(O);let K=1;class B{constructor(j){this._id=K++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(j),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(j){(j===z||j===d)&&this._cache.get(j)?this._cache.get(j).dirty=!0:j?this._cache.delete(j):this._cache.clear()}_getCache(j,U){let G=this._cache.get(j);return(G===void 0||(j===z||j===d)&&G.dirty===!0)&&(G=U.call(this),this._cache.set(j,G)),G}_calculate(j,U,G){if(!this._attachedDepsListeners.get(j)){const k=U.map(X=>X+"Change.konva").join(O);this.on(k,()=>{this._clearCache(j)}),this._attachedDepsListeners.set(j,!0)}return this._getCache(j,G)}_getCanvasCache(){return this._cache.get(v)}_clearSelfAndDescendantCache(j){this._clearCache(j),j===d&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(v)){const{scene:j,filter:U,hit:G}=this._cache.get(v);a.Util.releaseCanvas(j,U,G),this._cache.delete(v)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(j){const U=j||{};let G={};(U.x===void 0||U.y===void 0||U.width===void 0||U.height===void 0)&&(G=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let k=Math.ceil(U.width||G.width),X=Math.ceil(U.height||G.height),I=U.pixelRatio,it=U.x===void 0?Math.floor(G.x):U.x,q=U.y===void 0?Math.floor(G.y):U.y,tt=U.offset||0,mt=U.drawBorder||!1,lt=U.hitCanvasPixelRatio||1;if(!k||!X){a.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const dt=Math.abs(Math.round(G.x)-it)>.5?1:0,Tt=Math.abs(Math.round(G.y)-q)>.5?1:0;k+=tt*2+dt,X+=tt*2+Tt,it-=tt,q-=tt;const Ct=new e.SceneCanvas({pixelRatio:I,width:k,height:X}),et=new e.SceneCanvas({pixelRatio:I,width:0,height:0,willReadFrequently:!0}),rt=new e.HitCanvas({pixelRatio:lt,width:k,height:X}),_t=Ct.getContext(),wt=rt.getContext();return rt.isCache=!0,Ct.isCache=!0,this._cache.delete(v),this._filterUpToDate=!1,U.imageSmoothingEnabled===!1&&(Ct.getContext()._context.imageSmoothingEnabled=!1,et.getContext()._context.imageSmoothingEnabled=!1),_t.save(),wt.save(),_t.translate(-it,-q),wt.translate(-it,-q),this._isUnderCache=!0,this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(p),this.drawScene(Ct,this),this.drawHit(rt,this),this._isUnderCache=!1,_t.restore(),wt.restore(),mt&&(_t.save(),_t.beginPath(),_t.rect(0,0,k,X),_t.closePath(),_t.setAttr("strokeStyle","red"),_t.setAttr("lineWidth",5),_t.stroke(),_t.restore()),this._cache.set(v,{scene:Ct,filter:et,hit:rt,x:it,y:q}),this._requestDraw(),this}isCached(){return this._cache.has(v)}getClientRect(j){throw new Error('abstract "getClientRect" method call')}_transformedRect(j,U){const G=[{x:j.x,y:j.y},{x:j.x+j.width,y:j.y},{x:j.x+j.width,y:j.y+j.height},{x:j.x,y:j.y+j.height}];let k=1/0,X=1/0,I=-1/0,it=-1/0;const q=this.getAbsoluteTransform(U);return G.forEach(function(tt){const mt=q.point(tt);k===void 0&&(k=I=mt.x,X=it=mt.y),k=Math.min(k,mt.x),X=Math.min(X,mt.y),I=Math.max(I,mt.x),it=Math.max(it,mt.y)}),{x:k,y:X,width:I-k,height:it-X}}_drawCachedSceneCanvas(j){j.save(),j._applyOpacity(this),j._applyGlobalCompositeOperation(this);const U=this._getCanvasCache();j.translate(U.x,U.y);const G=this._getCachedSceneCanvas(),k=G.pixelRatio;j.drawImage(G._canvas,0,0,G.width/k,G.height/k),j.restore()}_drawCachedHitCanvas(j){const U=this._getCanvasCache(),G=U.hit;j.save(),j.translate(U.x,U.y),j.drawImage(G._canvas,0,0,G.width/G.pixelRatio,G.height/G.pixelRatio),j.restore()}_getCachedSceneCanvas(){let j=this.filters(),U=this._getCanvasCache(),G=U.scene,k=U.filter,X=k.getContext(),I,it,q,tt;if(j){if(!this._filterUpToDate){const mt=G.pixelRatio;k.setSize(G.width/G.pixelRatio,G.height/G.pixelRatio);try{for(I=j.length,X.clear(),X.drawImage(G._canvas,0,0,G.getWidth()/mt,G.getHeight()/mt),it=X.getImageData(0,0,k.getWidth(),k.getHeight()),q=0;q<I;q++){if(tt=j[q],typeof tt!="function"){a.Util.error("Filter should be type of function, but got "+typeof tt+" instead. Please check correct filters");continue}tt.call(this,it),X.putImageData(it,0,0)}}catch(lt){a.Util.error("Unable to apply filter. "+lt.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return k}return G}on(j,U){if(this._cache&&this._cache.delete(f),arguments.length===3)return this._delegate.apply(this,arguments);let G=j.split(O),k=G.length,X,I,it,q,tt;for(X=0;X<k;X++)I=G[X],it=I.split("."),q=it[0],tt=it[1]||"",this.eventListeners[q]||(this.eventListeners[q]=[]),this.eventListeners[q].push({name:tt,handler:U});return this}off(j,U){let G=(j||"").split(O),k=G.length,X,I,it,q,tt,mt;if(this._cache&&this._cache.delete(f),!j)for(I in this.eventListeners)this._off(I);for(X=0;X<k;X++)if(it=G[X],q=it.split("."),tt=q[0],mt=q[1],tt)this.eventListeners[tt]&&this._off(tt,mt,U);else for(I in this.eventListeners)this._off(I,mt,U);return this}dispatchEvent(j){const U={target:this,type:j.type,evt:j};return this.fire(j.type,U),this}addEventListener(j,U){return this.on(j,function(G){U.call(this,G.evt)}),this}removeEventListener(j){return this.off(j),this}_delegate(j,U,G){const k=this;this.on(j,function(X){const I=X.target.findAncestors(U,!0,k);for(let it=0;it<I.length;it++)X=a.Util.cloneObject(X),X.currentTarget=I[it],G.call(I[it],X)})}remove(){return this.isDragging()&&this.stopDrag(),r.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(R),this._clearSelfAndDescendantCache(V),this._clearSelfAndDescendantCache(x)}_remove(){this._clearCaches();const j=this.getParent();j&&j.children&&(j.children.splice(this.index,1),j._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(j){const U="get"+a.Util._capitalize(j);return a.Util._isFunction(this[U])?this[U]():this.attrs[j]}getAncestors(){let j=this.getParent(),U=[];for(;j;)U.push(j),j=j.getParent();return U}getAttrs(){return this.attrs||{}}setAttrs(j){return this._batchTransformChanges(()=>{let U,G;if(!j)return this;for(U in j)U!==A&&(G=D+a.Util._capitalize(U),a.Util._isFunction(this[G])?this[G](j[U]):this._setAttr(U,j[U]))}),this}isListening(){return this._getCache(x,this._isListening)}_isListening(j){if(!this.listening())return!1;const G=this.getParent();return G&&G!==j&&this!==j?G._isListening(j):!0}isVisible(){return this._getCache(V,this._isVisible)}_isVisible(j){if(!this.visible())return!1;const G=this.getParent();return G&&G!==j&&this!==j?G._isVisible(j):!0}shouldDrawHit(j,U=!1){if(j)return this._isVisible(j)&&this._isListening(j);const G=this.getLayer();let k=!1;r.DD._dragElements.forEach(I=>{I.dragStatus==="dragging"&&(I.node.nodeType==="Stage"||I.node.getLayer()===G)&&(k=!0)});const X=!U&&!n.Konva.hitOnDragEnabled&&(k||n.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!X}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let j=this.getDepth(),U=this,G=0,k,X,I,it;function q(mt){for(k=[],X=mt.length,I=0;I<X;I++)it=mt[I],G++,it.nodeType!==T&&(k=k.concat(it.getChildren().slice())),it._id===U._id&&(I=X);k.length>0&&k[0].getDepth()<=j&&q(k)}const tt=this.getStage();return U.nodeType!==H&&tt&&q(tt.getChildren()),G}getDepth(){let j=0,U=this.parent;for(;U;)j++,U=U.parent;return j}_batchTransformChanges(j){this._batchingTransformChange=!0,j(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(z),this._clearSelfAndDescendantCache(d)),this._needClearTransformCache=!1}setPosition(j){return this._batchTransformChanges(()=>{this.x(j.x),this.y(j.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const j=this.getStage();if(!j)return null;const U=j.getPointerPosition();if(!U)return null;const G=this.getAbsoluteTransform().copy();return G.invert(),G.point(U)}getAbsolutePosition(j){let U=!1,G=this.parent;for(;G;){if(G.isCached()){U=!0;break}G=G.parent}U&&!j&&(j=!0);const k=this.getAbsoluteTransform(j).getMatrix(),X=new a.Transform,I=this.offset();return X.m=k.slice(),X.translate(I.x,I.y),X.getTranslation()}setAbsolutePosition(j){const{x:U,y:G,...k}=this._clearTransform();this.attrs.x=U,this.attrs.y=G,this._clearCache(z);const X=this._getAbsoluteTransform().copy();return X.invert(),X.translate(j.x,j.y),j={x:this.attrs.x+X.getTranslation().x,y:this.attrs.y+X.getTranslation().y},this._setTransform(k),this.setPosition({x:j.x,y:j.y}),this._clearCache(z),this._clearSelfAndDescendantCache(d),this}_setTransform(j){let U;for(U in j)this.attrs[U]=j[U]}_clearTransform(){const j={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,j}move(j){let U=j.x,G=j.y,k=this.x(),X=this.y();return U!==void 0&&(k+=U),G!==void 0&&(X+=G),this.setPosition({x:k,y:X}),this}_eachAncestorReverse(j,U){let G=[],k=this.getParent(),X,I;if(!(U&&U._id===this._id)){for(G.unshift(this);k&&(!U||k._id!==U._id);)G.unshift(k),k=k.parent;for(X=G.length,I=0;I<X;I++)j(G[I])}}rotate(j){return this.rotation(this.rotation()+j),this}moveToTop(){if(!this.parent)return a.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const j=this.index,U=this.parent.getChildren().length;return j<U-1?(this.parent.children.splice(j,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return a.Util.warn("Node has no parent. moveUp function is ignored."),!1;const j=this.index,U=this.parent.getChildren().length;return j<U-1?(this.parent.children.splice(j,1),this.parent.children.splice(j+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return a.Util.warn("Node has no parent. moveDown function is ignored."),!1;const j=this.index;return j>0?(this.parent.children.splice(j,1),this.parent.children.splice(j-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return a.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const j=this.index;return j>0?(this.parent.children.splice(j,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(j){if(!this.parent)return a.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(j<0||j>=this.parent.children.length)&&a.Util.warn("Unexpected value "+j+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const U=this.index;return this.parent.children.splice(U,1),this.parent.children.splice(j,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(h,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let j=this.opacity();const U=this.getParent();return U&&!U._isUnderCache&&(j*=U.getAbsoluteOpacity()),j}moveTo(j){return this.getParent()!==j&&(this._remove(),j.add(this)),this}toObject(){let j=this.getAttrs(),U,G,k,X,I;const it={attrs:{},className:this.getClassName()};for(U in j)G=j[U],I=a.Util.isObject(G)&&!a.Util._isPlainObject(G)&&!a.Util._isArray(G),!I&&(k=typeof this[U]=="function"&&this[U],delete j[U],X=k?k.call(this):null,j[U]=G,X!==G&&(it.attrs[U]=G));return a.Util._prepareToStringify(it)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(j,U,G){const k=[];U&&this._isMatch(j)&&k.push(this);let X=this.parent;for(;X;){if(X===G)return k;X._isMatch(j)&&k.push(X),X=X.parent}return k}isAncestorOf(j){return!1}findAncestor(j,U,G){return this.findAncestors(j,U,G)[0]}_isMatch(j){if(!j)return!1;if(typeof j=="function")return j(this);let U=j.replace(/ /g,"").split(","),G=U.length,k,X;for(k=0;k<G;k++)if(X=U[k],a.Util.isValidSelector(X)||(a.Util.warn('Selector "'+X+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),a.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),a.Util.warn("Konva is awesome, right?")),X.charAt(0)==="#"){if(this.id()===X.slice(1))return!0}else if(X.charAt(0)==="."){if(this.hasName(X.slice(1)))return!0}else if(this.className===X||this.nodeType===X)return!0;return!1}getLayer(){const j=this.getParent();return j?j.getLayer():null}getStage(){return this._getCache(R,this._getStage)}_getStage(){const j=this.getParent();return j?j.getStage():null}fire(j,U={},G){return U.target=U.target||this,G?this._fireAndBubble(j,U):this._fire(j,U),this}getAbsoluteTransform(j){return j?this._getAbsoluteTransform(j):this._getCache(d,this._getAbsoluteTransform)}_getAbsoluteTransform(j){let U;if(j)return U=new a.Transform,this._eachAncestorReverse(function(G){const k=G.transformsEnabled();k==="all"?U.multiply(G.getTransform()):k==="position"&&U.translate(G.x()-G.offsetX(),G.y()-G.offsetY())},j),U;{U=this._cache.get(d)||new a.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(U):U.reset();const G=this.transformsEnabled();if(G==="all")U.multiply(this.getTransform());else if(G==="position"){const k=this.attrs.x||0,X=this.attrs.y||0,I=this.attrs.offsetX||0,it=this.attrs.offsetY||0;U.translate(k-I,X-it)}return U.dirty=!1,U}}getAbsoluteScale(j){let U=this;for(;U;)U._isUnderCache&&(j=U),U=U.getParent();const k=this.getAbsoluteTransform(j).decompose();return{x:k.scaleX,y:k.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(z,this._getTransform)}_getTransform(){var j,U;const G=this._cache.get(z)||new a.Transform;G.reset();const k=this.x(),X=this.y(),I=n.Konva.getAngle(this.rotation()),it=(j=this.attrs.scaleX)!==null&&j!==void 0?j:1,q=(U=this.attrs.scaleY)!==null&&U!==void 0?U:1,tt=this.attrs.skewX||0,mt=this.attrs.skewY||0,lt=this.attrs.offsetX||0,dt=this.attrs.offsetY||0;return(k!==0||X!==0)&&G.translate(k,X),I!==0&&G.rotate(I),(tt!==0||mt!==0)&&G.skew(tt,mt),(it!==1||q!==1)&&G.scale(it,q),(lt!==0||dt!==0)&&G.translate(-1*lt,-1*dt),G.dirty=!1,G}clone(j){let U=a.Util.cloneObject(this.attrs),G,k,X,I,it;for(G in j)U[G]=j[G];const q=new this.constructor(U);for(G in this.eventListeners)for(k=this.eventListeners[G],X=k.length,I=0;I<X;I++)it=k[I],it.name.indexOf(S)<0&&(q.eventListeners[G]||(q.eventListeners[G]=[]),q.eventListeners[G].push(it));return q}_toKonvaCanvas(j){j=j||{};const U=this.getClientRect(),G=this.getStage(),k=j.x!==void 0?j.x:Math.floor(U.x),X=j.y!==void 0?j.y:Math.floor(U.y),I=j.pixelRatio||1,it=new e.SceneCanvas({width:j.width||Math.ceil(U.width)||(G?G.width():0),height:j.height||Math.ceil(U.height)||(G?G.height():0),pixelRatio:I}),q=it.getContext(),tt=new e.SceneCanvas({width:it.width/it.pixelRatio+Math.abs(k),height:it.height/it.pixelRatio+Math.abs(X),pixelRatio:it.pixelRatio});return j.imageSmoothingEnabled===!1&&(q._context.imageSmoothingEnabled=!1),q.save(),(k||X)&&q.translate(-1*k,-1*X),this.drawScene(it,void 0,tt),q.restore(),it}toCanvas(j){return this._toKonvaCanvas(j)._canvas}toDataURL(j){j=j||{};const U=j.mimeType||null,G=j.quality||null,k=this._toKonvaCanvas(j).toDataURL(U,G);return j.callback&&j.callback(k),k}toImage(j){return new Promise((U,G)=>{try{const k=j==null?void 0:j.callback;k&&delete j.callback,a.Util._urlToImage(this.toDataURL(j),function(X){U(X),k==null||k(X)})}catch(k){G(k)}})}toBlob(j){return new Promise((U,G)=>{try{const k=j==null?void 0:j.callback;k&&delete j.callback,this.toCanvas(j).toBlob(X=>{U(X),k==null||k(X)},j==null?void 0:j.mimeType,j==null?void 0:j.quality)}catch(k){G(k)}})}setSize(j){return this.width(j.width),this.height(j.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():n.Konva.dragDistance}_off(j,U,G){let k=this.eventListeners[j],X,I,it;for(X=0;X<k.length;X++)if(I=k[X].name,it=k[X].handler,(I!=="konva"||U==="konva")&&(!U||I===U)&&(!G||G===it)){if(k.splice(X,1),k.length===0){delete this.eventListeners[j];break}X--}}_fireChangeEvent(j,U,G){this._fire(j+b,{oldVal:U,newVal:G})}addName(j){if(!this.hasName(j)){const U=this.name(),G=U?U+" "+j:j;this.name(G)}return this}hasName(j){if(!j)return!1;const U=this.name();return U?(U||"").split(/\s/g).indexOf(j)!==-1:!1}removeName(j){const U=(this.name()||"").split(/\s/g),G=U.indexOf(j);return G!==-1&&(U.splice(G,1),this.name(U.join(" "))),this}setAttr(j,U){const G=this[D+a.Util._capitalize(j)];return a.Util._isFunction(G)?G.call(this,U):this._setAttr(j,U),this}_requestDraw(){if(n.Konva.autoDrawEnabled){const j=this.getLayer()||this.getStage();j==null||j.batchDraw()}}_setAttr(j,U){const G=this.attrs[j];G===U&&!a.Util.isObject(U)||(U==null?delete this.attrs[j]:this.attrs[j]=U,this._shouldFireChangeEvents&&this._fireChangeEvent(j,G,U),this._requestDraw())}_setComponentAttr(j,U,G){let k;G!==void 0&&(k=this.attrs[j],k||(this.attrs[j]=this.getAttr(j)),this.attrs[j][U]=G,this._fireChangeEvent(j,k,G))}_fireAndBubble(j,U,G){if(U&&this.nodeType===T&&(U.target=this),!((j===w||j===M)&&(G&&(this===G||this.isAncestorOf&&this.isAncestorOf(G))||this.nodeType==="Stage"&&!G))){this._fire(j,U);const X=(j===w||j===M)&&G&&G.isAncestorOf&&G.isAncestorOf(this)&&!G.isAncestorOf(this.parent);(U&&!U.cancelBubble||!U)&&this.parent&&this.parent.isListening()&&!X&&(G&&G.parent?this._fireAndBubble.call(this.parent,j,U,G):this._fireAndBubble.call(this.parent,j,U))}}_getProtoListeners(j){var U,G,k;const X=(U=this._cache.get(f))!==null&&U!==void 0?U:{};let I=X==null?void 0:X[j];if(I===void 0){I=[];let it=Object.getPrototypeOf(this);for(;it;){const q=(k=(G=it.eventListeners)===null||G===void 0?void 0:G[j])!==null&&k!==void 0?k:[];I.push(...q),it=Object.getPrototypeOf(it)}X[j]=I,this._cache.set(f,X)}return I}_fire(j,U){U=U||{},U.currentTarget=this,U.type=j;const G=this._getProtoListeners(j);if(G)for(var k=0;k<G.length;k++)G[k].handler.call(this,U);const X=this.eventListeners[j];if(X)for(var k=0;k<X.length;k++)X[k].handler.call(this,U)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(j){const U=j?j.pointerId:void 0,G=this.getStage(),k=this.getAbsolutePosition();if(!G)return;const X=G._getPointerById(U)||G._changedPointerPositions[0]||k;r.DD._dragElements.set(this._id,{node:this,startPointerPos:X,offset:{x:X.x-k.x,y:X.y-k.y},dragStatus:"ready",pointerId:U})}startDrag(j,U=!0){r.DD._dragElements.has(this._id)||this._createDragElement(j);const G=r.DD._dragElements.get(this._id);G.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:j&&j.evt},U)}_setDragPosition(j,U){const G=this.getStage()._getPointerById(U.pointerId);if(!G)return;let k={x:G.x-U.offset.x,y:G.y-U.offset.y};const X=this.dragBoundFunc();if(X!==void 0){const I=X.call(this,k,j);I?k=I:a.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==k.x||this._lastPos.y!==k.y)&&(this.setAbsolutePosition(k),this._requestDraw()),this._lastPos=k}stopDrag(j){const U=r.DD._dragElements.get(this._id);U&&(U.dragStatus="stopped"),r.DD._endDragBefore(j),r.DD._endDragAfter(j)}setDraggable(j){this._setAttr("draggable",j),this._dragChange()}isDragging(){const j=r.DD._dragElements.get(this._id);return j?j.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(j){if(!(!(j.evt.button!==void 0)||n.Konva.dragButtons.indexOf(j.evt.button)>=0)||this.isDragging())return;let k=!1;r.DD._dragElements.forEach(X=>{this.isAncestorOf(X.node)&&(k=!0)}),k||this._createDragElement(j)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const U=r.DD._dragElements.get(this._id),G=U&&U.dragStatus==="dragging",k=U&&U.dragStatus==="ready";G?this.stopDrag():k&&r.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(j={x:0,y:0}){const U=this.getStage();if(!U)return!1;const G={x:-j.x,y:-j.y,width:U.width()+2*j.x,height:U.height()+2*j.y};return a.Util.haveIntersection(G,this.getClientRect())}static create(j,U){return a.Util._isString(j)&&(j=JSON.parse(j)),this._createNode(j,U)}static _createNode(j,U){let G=B.prototype.getClassName.call(j),k=j.children,X,I,it;U&&(j.attrs.container=U),n.Konva[G]||(a.Util.warn('Can not find a node with class name "'+G+'". Fallback to "Shape".'),G="Shape");const q=n.Konva[G];if(X=new q(j.attrs),k)for(I=k.length,it=0;it<I;it++)X.add(B._createNode(k[it]));return X}}pd.Node=B,B.prototype.nodeType="Node",B.prototype._attrsAffectingSize=[],B.prototype.eventListeners={},B.prototype.on.call(B.prototype,P,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(z),this._clearSelfAndDescendantCache(d)}),B.prototype.on.call(B.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(V)}),B.prototype.on.call(B.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(x)}),B.prototype.on.call(B.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(h)});const Y=t.Factory.addGetterSetter;return Y(B,"zIndex"),Y(B,"absolutePosition"),Y(B,"position"),Y(B,"x",0,(0,l.getNumberValidator)()),Y(B,"y",0,(0,l.getNumberValidator)()),Y(B,"globalCompositeOperation","source-over",(0,l.getStringValidator)()),Y(B,"opacity",1,(0,l.getNumberValidator)()),Y(B,"name","",(0,l.getStringValidator)()),Y(B,"id","",(0,l.getStringValidator)()),Y(B,"rotation",0,(0,l.getNumberValidator)()),t.Factory.addComponentsGetterSetter(B,"scale",["x","y"]),Y(B,"scaleX",1,(0,l.getNumberValidator)()),Y(B,"scaleY",1,(0,l.getNumberValidator)()),t.Factory.addComponentsGetterSetter(B,"skew",["x","y"]),Y(B,"skewX",0,(0,l.getNumberValidator)()),Y(B,"skewY",0,(0,l.getNumberValidator)()),t.Factory.addComponentsGetterSetter(B,"offset",["x","y"]),Y(B,"offsetX",0,(0,l.getNumberValidator)()),Y(B,"offsetY",0,(0,l.getNumberValidator)()),Y(B,"dragDistance",null,(0,l.getNumberValidator)()),Y(B,"width",0,(0,l.getNumberValidator)()),Y(B,"height",0,(0,l.getNumberValidator)()),Y(B,"listening",!0,(0,l.getBooleanValidator)()),Y(B,"preventDefault",!0,(0,l.getBooleanValidator)()),Y(B,"filters",null,function(Z){return this._filterUpToDate=!1,Z}),Y(B,"visible",!0,(0,l.getBooleanValidator)()),Y(B,"transformsEnabled","all",(0,l.getStringValidator)()),Y(B,"size"),Y(B,"dragBoundFunc"),Y(B,"draggable",!1,(0,l.getBooleanValidator)()),t.Factory.backCompat(B,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),pd}var vd={},Ub;function Gm(){if(Ub)return vd;Ub=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.Container=void 0;const a=he(),t=Rn(),e=fe();let n=class extends t.Node{constructor(){super(...arguments),this.children=[]}getChildren(l){if(!l)return this.children||[];const h=this.children||[],f=[];return h.forEach(function(d){l(d)&&f.push(d)}),f}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(l=>{l.parent=null,l.index=0,l.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(l=>{l.parent=null,l.index=0,l.destroy()}),this.children=[],this._requestDraw(),this}add(...l){if(l.length===0)return this;if(l.length>1){for(let f=0;f<l.length;f++)this.add(l[f]);return this}const h=l[0];return h.getParent()?(h.moveTo(this),this):(this._validateAdd(h),h.index=this.getChildren().length,h.parent=this,h._clearCaches(),this.getChildren().push(h),this._fire("add",{child:h}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(l){return this._generalFind(l,!1)}findOne(l){const h=this._generalFind(l,!0);return h.length>0?h[0]:void 0}_generalFind(l,h){const f=[];return this._descendants(d=>{const p=d._isMatch(l);return p&&f.push(d),!!(p&&h)}),f}_descendants(l){let h=!1;const f=this.getChildren();for(const d of f){if(h=l(d),h)return!0;if(d.hasChildren()&&(h=d._descendants(l),h))return!0}return!1}toObject(){const l=t.Node.prototype.toObject.call(this);return l.children=[],this.getChildren().forEach(h=>{l.children.push(h.toObject())}),l}isAncestorOf(l){let h=l.getParent();for(;h;){if(h._id===this._id)return!0;h=h.getParent()}return!1}clone(l){const h=t.Node.prototype.clone.call(this,l);return this.getChildren().forEach(function(f){h.add(f.clone())}),h}getAllIntersections(l){const h=[];return this.find("Shape").forEach(f=>{f.isVisible()&&f.intersects(l)&&h.push(f)}),h}_clearSelfAndDescendantCache(l){var h;super._clearSelfAndDescendantCache(l),!this.isCached()&&((h=this.children)===null||h===void 0||h.forEach(function(f){f._clearSelfAndDescendantCache(l)}))}_setChildrenIndices(){var l;(l=this.children)===null||l===void 0||l.forEach(function(h,f){h.index=f}),this._requestDraw()}drawScene(l,h,f){const d=this.getLayer(),p=l||d&&d.getCanvas(),v=p&&p.getContext(),b=this._getCanvasCache(),A=b&&b.scene,S=p&&p.isCache;if(!this.isVisible()&&!S)return this;if(A){v.save();const x=this.getAbsoluteTransform(h).getMatrix();v.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._drawCachedSceneCanvas(v),v.restore()}else this._drawChildren("drawScene",p,h,f);return this}drawHit(l,h){if(!this.shouldDrawHit(h))return this;const f=this.getLayer(),d=l||f&&f.hitCanvas,p=d&&d.getContext(),v=this._getCanvasCache();if(v&&v.hit){p.save();const A=this.getAbsoluteTransform(h).getMatrix();p.transform(A[0],A[1],A[2],A[3],A[4],A[5]),this._drawCachedHitCanvas(p),p.restore()}else this._drawChildren("drawHit",d,h);return this}_drawChildren(l,h,f,d){var p;const v=h&&h.getContext(),b=this.clipWidth(),A=this.clipHeight(),S=this.clipFunc(),x=typeof b=="number"&&typeof A=="number"||S,w=f===this;if(x){v.save();const D=this.getAbsoluteTransform(f);let T=D.getMatrix();v.transform(T[0],T[1],T[2],T[3],T[4],T[5]),v.beginPath();let O;if(S)O=S.call(this,v,this);else{const R=this.clipX(),z=this.clipY();v.rect(R||0,z||0,b,A)}v.clip.apply(v,O),T=D.copy().invert().getMatrix(),v.transform(T[0],T[1],T[2],T[3],T[4],T[5])}const M=!w&&this.globalCompositeOperation()!=="source-over"&&l==="drawScene";M&&(v.save(),v._applyGlobalCompositeOperation(this)),(p=this.children)===null||p===void 0||p.forEach(function(D){D[l](h,f,d)}),M&&v.restore(),x&&v.restore()}getClientRect(l={}){var h;const f=l.skipTransform,d=l.relativeTo;let p,v,b,A,S={x:1/0,y:1/0,width:0,height:0};const x=this;(h=this.children)===null||h===void 0||h.forEach(function(D){if(!D.visible())return;const T=D.getClientRect({relativeTo:x,skipShadow:l.skipShadow,skipStroke:l.skipStroke});T.width===0&&T.height===0||(p===void 0?(p=T.x,v=T.y,b=T.x+T.width,A=T.y+T.height):(p=Math.min(p,T.x),v=Math.min(v,T.y),b=Math.max(b,T.x+T.width),A=Math.max(A,T.y+T.height)))});const w=this.find("Shape");let M=!1;for(let D=0;D<w.length;D++)if(w[D]._isVisible(this)){M=!0;break}return M&&p!==void 0?S={x:p,y:v,width:b-p,height:A-v}:S={x:0,y:0,width:0,height:0},f?S:this._transformedRect(S,d)}};return vd.Container=n,a.Factory.addComponentsGetterSetter(n,"clip",["x","y","width","height"]),a.Factory.addGetterSetter(n,"clipX",void 0,(0,e.getNumberValidator)()),a.Factory.addGetterSetter(n,"clipY",void 0,(0,e.getNumberValidator)()),a.Factory.addGetterSetter(n,"clipWidth",void 0,(0,e.getNumberValidator)()),a.Factory.addGetterSetter(n,"clipHeight",void 0,(0,e.getNumberValidator)()),a.Factory.addGetterSetter(n,"clipFunc"),vd}var o2={},Ll={},Gb;function D_(){if(Gb)return Ll;Gb=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.getCapturedShape=n,Ll.createEvent=r,Ll.hasPointerCapture=l,Ll.setPointerCapture=h,Ll.releaseCapture=f;const a=le(),t=new Map,e=a.Konva._global.PointerEvent!==void 0;function n(d){return t.get(d)}function r(d){return{evt:d,pointerId:d.pointerId}}function l(d,p){return t.get(d)===p}function h(d,p){f(d),p.getStage()&&(t.set(d,p),e&&p._fire("gotpointercapture",r(new PointerEvent("gotpointercapture"))))}function f(d,p){const v=t.get(d);if(!v)return;const b=v.getStage();b&&b.content,t.delete(d),e&&v._fire("lostpointercapture",r(new PointerEvent("lostpointercapture")))}return Ll}var Hb;function z8(){return Hb||(Hb=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Stage=a.stages=void 0;const t=Cn(),e=he(),n=Gm(),r=le(),l=Um(),h=Ov(),f=le(),d=D_(),p="Stage",v="string",b="px",A="mouseout",S="mouseleave",x="mouseover",w="mouseenter",M="mousemove",D="mousedown",T="mouseup",O="pointermove",R="pointerdown",z="pointerup",H="pointercancel",V="lostpointercapture",P="pointerout",K="pointerleave",B="pointerover",Y="pointerenter",Z="contextmenu",j="touchstart",U="touchend",G="touchmove",k="touchcancel",X="wheel",I=5,it=[[w,"_pointerenter"],[D,"_pointerdown"],[M,"_pointermove"],[T,"_pointerup"],[S,"_pointerleave"],[j,"_pointerdown"],[G,"_pointermove"],[U,"_pointerup"],[k,"_pointercancel"],[x,"_pointerover"],[X,"_wheel"],[Z,"_contextmenu"],[R,"_pointerdown"],[O,"_pointermove"],[z,"_pointerup"],[H,"_pointercancel"],[V,"_lostpointercapture"]],q={mouse:{[P]:A,[K]:S,[B]:x,[Y]:w,[O]:M,[R]:D,[z]:T,[H]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[P]:"touchout",[K]:"touchleave",[B]:"touchover",[Y]:"touchenter",[O]:G,[R]:j,[z]:U,[H]:k,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[P]:P,[K]:K,[B]:B,[Y]:Y,[O]:O,[R]:R,[z]:z,[H]:H,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},tt=Ct=>Ct.indexOf("pointer")>=0?"pointer":Ct.indexOf("touch")>=0?"touch":"mouse",mt=Ct=>{const et=tt(Ct);if(et==="pointer")return r.Konva.pointerEventsEnabled&&q.pointer;if(et==="touch")return q.touch;if(et==="mouse")return q.mouse};function lt(Ct={}){return(Ct.clipFunc||Ct.clipWidth||Ct.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Ct}const dt="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";a.stages=[];class Tt extends n.Container{constructor(et){super(lt(et)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),a.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{lt(this.attrs)}),this._checkVisibility()}_validateAdd(et){const rt=et.getType()==="Layer",_t=et.getType()==="FastLayer";rt||_t||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const et=this.visible()?"":"none";this.content.style.display=et}setContainer(et){if(typeof et===v){if(et.charAt(0)==="."){const _t=et.slice(1);et=document.getElementsByClassName(_t)[0]}else{var rt;et.charAt(0)!=="#"?rt=et:rt=et.slice(1),et=document.getElementById(rt)}if(!et)throw"Can not find container in document with id "+rt}return this._setAttr("container",et),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),et.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){let et=this.children,rt=et.length,_t;for(_t=0;_t<rt;_t++)et[_t].clear();return this}clone(et){return et||(et={}),et.container=typeof document<"u"&&document.createElement("div"),n.Container.prototype.clone.call(this,et)}destroy(){super.destroy();const et=this.content;et&&t.Util._isInDocument(et)&&this.container().removeChild(et);const rt=a.stages.indexOf(this);return rt>-1&&a.stages.splice(rt,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const et=this._pointerPositions[0]||this._changedPointerPositions[0];return et?{x:et.x,y:et.y}:(t.Util.warn(dt),null)}_getPointerById(et){return this._pointerPositions.find(rt=>rt.id===et)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(et){et=et||{},et.x=et.x||0,et.y=et.y||0,et.width=et.width||this.width(),et.height=et.height||this.height();const rt=new l.SceneCanvas({width:et.width,height:et.height,pixelRatio:et.pixelRatio||1}),_t=rt.getContext()._context,wt=this.children;return(et.x||et.y)&&_t.translate(-1*et.x,-1*et.y),wt.forEach(function(Nt){if(!Nt.isVisible())return;const Bt=Nt._toKonvaCanvas(et);_t.drawImage(Bt._canvas,et.x,et.y,Bt.getWidth()/Bt.getPixelRatio(),Bt.getHeight()/Bt.getPixelRatio())}),rt}getIntersection(et){if(!et)return null;let rt=this.children,_t=rt.length,wt=_t-1,Nt;for(Nt=wt;Nt>=0;Nt--){const Bt=rt[Nt].getIntersection(et);if(Bt)return Bt}return null}_resizeDOM(){const et=this.width(),rt=this.height();this.content&&(this.content.style.width=et+b,this.content.style.height=rt+b),this.bufferCanvas.setSize(et,rt),this.bufferHitCanvas.setSize(et,rt),this.children.forEach(_t=>{_t.setSize({width:et,height:rt}),_t.draw()})}add(et,...rt){if(arguments.length>1){for(let wt=0;wt<arguments.length;wt++)this.add(arguments[wt]);return this}super.add(et);const _t=this.children.length;return _t>I&&t.Util.warn("The stage has "+_t+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),et.setSize({width:this.width(),height:this.height()}),et.draw(),r.Konva.isBrowser&&this.content.appendChild(et.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(et){return d.hasPointerCapture(et,this)}setPointerCapture(et){d.setPointerCapture(et,this)}releaseCapture(et){d.releaseCapture(et,this)}getLayers(){return this.children}_bindContentEvents(){r.Konva.isBrowser&&it.forEach(([et,rt])=>{this.content.addEventListener(et,_t=>{this[rt](_t)},{passive:!1})})}_pointerenter(et){this.setPointersPositions(et);const rt=mt(et.type);rt&&this._fire(rt.pointerenter,{evt:et,target:this,currentTarget:this})}_pointerover(et){this.setPointersPositions(et);const rt=mt(et.type);rt&&this._fire(rt.pointerover,{evt:et,target:this,currentTarget:this})}_getTargetShape(et){let rt=this[et+"targetShape"];return rt&&!rt.getStage()&&(rt=null),rt}_pointerleave(et){const rt=mt(et.type),_t=tt(et.type);if(!rt)return;this.setPointersPositions(et);const wt=this._getTargetShape(_t),Nt=!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled;wt&&Nt?(wt._fireAndBubble(rt.pointerout,{evt:et}),wt._fireAndBubble(rt.pointerleave,{evt:et}),this._fire(rt.pointerleave,{evt:et,target:this,currentTarget:this}),this[_t+"targetShape"]=null):Nt&&(this._fire(rt.pointerleave,{evt:et,target:this,currentTarget:this}),this._fire(rt.pointerout,{evt:et,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(et){const rt=mt(et.type),_t=tt(et.type);if(!rt)return;this.setPointersPositions(et);let wt=!1;this._changedPointerPositions.forEach(Nt=>{const Bt=this.getIntersection(Nt);if(h.DD.justDragged=!1,r.Konva["_"+_t+"ListenClick"]=!0,!Bt||!Bt.isListening()){this[_t+"ClickStartShape"]=void 0;return}r.Konva.capturePointerEventsEnabled&&Bt.setPointerCapture(Nt.id),this[_t+"ClickStartShape"]=Bt,Bt._fireAndBubble(rt.pointerdown,{evt:et,pointerId:Nt.id}),wt=!0;const Xt=et.type.indexOf("touch")>=0;Bt.preventDefault()&&et.cancelable&&Xt&&et.preventDefault()}),wt||this._fire(rt.pointerdown,{evt:et,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(et){const rt=mt(et.type),_t=tt(et.type);if(!rt||(r.Konva.isDragging()&&h.DD.node.preventDefault()&&et.cancelable&&et.preventDefault(),this.setPointersPositions(et),!(!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled)))return;const Nt={};let Bt=!1;const Xt=this._getTargetShape(_t);this._changedPointerPositions.forEach(It=>{const Pt=d.getCapturedShape(It.id)||this.getIntersection(It),Ne=It.id,Wt={evt:et,pointerId:Ne},Ee=Xt!==Pt;if(Ee&&Xt&&(Xt._fireAndBubble(rt.pointerout,{...Wt},Pt),Xt._fireAndBubble(rt.pointerleave,{...Wt},Pt)),Pt){if(Nt[Pt._id])return;Nt[Pt._id]=!0}Pt&&Pt.isListening()?(Bt=!0,Ee&&(Pt._fireAndBubble(rt.pointerover,{...Wt},Xt),Pt._fireAndBubble(rt.pointerenter,{...Wt},Xt),this[_t+"targetShape"]=Pt),Pt._fireAndBubble(rt.pointermove,{...Wt})):Xt&&(this._fire(rt.pointerover,{evt:et,target:this,currentTarget:this,pointerId:Ne}),this[_t+"targetShape"]=null)}),Bt||this._fire(rt.pointermove,{evt:et,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(et){const rt=mt(et.type),_t=tt(et.type);if(!rt)return;this.setPointersPositions(et);const wt=this[_t+"ClickStartShape"],Nt=this[_t+"ClickEndShape"],Bt={};let Xt=!1;this._changedPointerPositions.forEach(It=>{const Pt=d.getCapturedShape(It.id)||this.getIntersection(It);if(Pt){if(Pt.releaseCapture(It.id),Bt[Pt._id])return;Bt[Pt._id]=!0}const Ne=It.id,Wt={evt:et,pointerId:Ne};let Ee=!1;r.Konva["_"+_t+"InDblClickWindow"]?(Ee=!0,clearTimeout(this[_t+"DblTimeout"])):h.DD.justDragged||(r.Konva["_"+_t+"InDblClickWindow"]=!0,clearTimeout(this[_t+"DblTimeout"])),this[_t+"DblTimeout"]=setTimeout(function(){r.Konva["_"+_t+"InDblClickWindow"]=!1},r.Konva.dblClickWindow),Pt&&Pt.isListening()?(Xt=!0,this[_t+"ClickEndShape"]=Pt,Pt._fireAndBubble(rt.pointerup,{...Wt}),r.Konva["_"+_t+"ListenClick"]&&wt&&wt===Pt&&(Pt._fireAndBubble(rt.pointerclick,{...Wt}),Ee&&Nt&&Nt===Pt&&Pt._fireAndBubble(rt.pointerdblclick,{...Wt}))):(this[_t+"ClickEndShape"]=null,r.Konva["_"+_t+"ListenClick"]&&this._fire(rt.pointerclick,{evt:et,target:this,currentTarget:this,pointerId:Ne}),Ee&&this._fire(rt.pointerdblclick,{evt:et,target:this,currentTarget:this,pointerId:Ne}))}),Xt||this._fire(rt.pointerup,{evt:et,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),r.Konva["_"+_t+"ListenClick"]=!1,et.cancelable&&_t!=="touch"&&et.preventDefault()}_contextmenu(et){this.setPointersPositions(et);const rt=this.getIntersection(this.getPointerPosition());rt&&rt.isListening()?rt._fireAndBubble(Z,{evt:et}):this._fire(Z,{evt:et,target:this,currentTarget:this})}_wheel(et){this.setPointersPositions(et);const rt=this.getIntersection(this.getPointerPosition());rt&&rt.isListening()?rt._fireAndBubble(X,{evt:et}):this._fire(X,{evt:et,target:this,currentTarget:this})}_pointercancel(et){this.setPointersPositions(et);const rt=d.getCapturedShape(et.pointerId)||this.getIntersection(this.getPointerPosition());rt&&rt._fireAndBubble(z,d.createEvent(et)),d.releaseCapture(et.pointerId)}_lostpointercapture(et){d.releaseCapture(et.pointerId)}setPointersPositions(et){let rt=this._getContentPosition(),_t=null,wt=null;et=et||window.event,et.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(et.touches,Nt=>{this._pointerPositions.push({id:Nt.identifier,x:(Nt.clientX-rt.left)/rt.scaleX,y:(Nt.clientY-rt.top)/rt.scaleY})}),Array.prototype.forEach.call(et.changedTouches||et.touches,Nt=>{this._changedPointerPositions.push({id:Nt.identifier,x:(Nt.clientX-rt.left)/rt.scaleX,y:(Nt.clientY-rt.top)/rt.scaleY})})):(_t=(et.clientX-rt.left)/rt.scaleX,wt=(et.clientY-rt.top)/rt.scaleY,this.pointerPos={x:_t,y:wt},this._pointerPositions=[{x:_t,y:wt,id:t.Util._getFirstPointerId(et)}],this._changedPointerPositions=[{x:_t,y:wt,id:t.Util._getFirstPointerId(et)}])}_setPointerPosition(et){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(et)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const et=this.content.getBoundingClientRect();return{top:et.top,left:et.left,scaleX:et.width/this.content.clientWidth||1,scaleY:et.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new l.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new l.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!r.Konva.isBrowser)return;const et=this.container();if(!et)throw"Stage has no container. A container is required.";et.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),et.appendChild(this.content),this._resizeDOM()}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(et){et.batchDraw()}),this}}a.Stage=Tt,Tt.prototype.nodeType=p,(0,f._registerNode)(Tt),e.Factory.addGetterSetter(Tt,"container"),r.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{a.stages.forEach(Ct=>{Ct.batchDraw()})})}(o2)),o2}var yd={},l2={},kb;function ii(){return kb||(kb=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Shape=a.shapes=void 0;const t=le(),e=Cn(),n=he(),r=Rn(),l=fe(),h=le(),f=D_(),d="hasShadow",p="shadowRGBA",v="patternImage",b="linearGradient",A="radialGradient";let S;function x(){return S||(S=e.Util.createCanvasElement().getContext("2d"),S)}a.shapes={};function w(K){const B=this.attrs.fillRule;B?K.fill(B):K.fill()}function M(K){K.stroke()}function D(K){const B=this.attrs.fillRule;B?K.fill(B):K.fill()}function T(K){K.stroke()}function O(){this._clearCache(d)}function R(){this._clearCache(p)}function z(){this._clearCache(v)}function H(){this._clearCache(b)}function V(){this._clearCache(A)}class P extends r.Node{constructor(B){super(B);let Y;for(;Y=e.Util.getRandomColor(),!(Y&&!(Y in a.shapes)););this.colorKey=Y,a.shapes[Y]=this}getContext(){return e.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return e.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(d,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(v,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const Y=x().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(Y&&Y.setTransform){const Z=new e.Transform;Z.translate(this.fillPatternX(),this.fillPatternY()),Z.rotate(t.Konva.getAngle(this.fillPatternRotation())),Z.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),Z.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const j=Z.getMatrix(),U=typeof DOMMatrix>"u"?{a:j[0],b:j[1],c:j[2],d:j[3],e:j[4],f:j[5]}:new DOMMatrix(j);Y.setTransform(U)}return Y}}_getLinearGradient(){return this._getCache(b,this.__getLinearGradient)}__getLinearGradient(){const B=this.fillLinearGradientColorStops();if(B){const Y=x(),Z=this.fillLinearGradientStartPoint(),j=this.fillLinearGradientEndPoint(),U=Y.createLinearGradient(Z.x,Z.y,j.x,j.y);for(let G=0;G<B.length;G+=2)U.addColorStop(B[G],B[G+1]);return U}}_getRadialGradient(){return this._getCache(A,this.__getRadialGradient)}__getRadialGradient(){const B=this.fillRadialGradientColorStops();if(B){const Y=x(),Z=this.fillRadialGradientStartPoint(),j=this.fillRadialGradientEndPoint(),U=Y.createRadialGradient(Z.x,Z.y,this.fillRadialGradientStartRadius(),j.x,j.y,this.fillRadialGradientEndRadius());for(let G=0;G<B.length;G+=2)U.addColorStop(B[G],B[G+1]);return U}}getShadowRGBA(){return this._getCache(p,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const B=e.Util.colorToRGBA(this.shadowColor());if(B)return"rgba("+B.r+","+B.g+","+B.b+","+B.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const B=this.hitStrokeWidth();return B==="auto"?this.hasStroke():this.strokeEnabled()&&!!B}intersects(B){const Y=this.getStage();if(!Y)return!1;const Z=Y.bufferHitCanvas;return Z.getContext().clear(),this.drawHit(Z,void 0,!0),Z.context.getImageData(Math.round(B.x),Math.round(B.y),1,1).data[3]>0}destroy(){return r.Node.prototype.destroy.call(this),delete a.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(B){var Y;if(!((Y=this.attrs.perfectDrawEnabled)!==null&&Y!==void 0?Y:!0))return!1;const j=B||this.hasFill(),U=this.hasStroke(),G=this.getAbsoluteOpacity()!==1;if(j&&U&&G)return!0;const k=this.hasShadow(),X=this.shadowForStrokeEnabled();return!!(j&&U&&k&&X)}setStrokeHitEnabled(B){e.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),B?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const B=this.size();return{x:this._centroid?-B.width/2:0,y:this._centroid?-B.height/2:0,width:B.width,height:B.height}}getClientRect(B={}){let Y=!1,Z=this.getParent();for(;Z;){if(Z.isCached()){Y=!0;break}Z=Z.getParent()}const j=B.skipTransform,U=B.relativeTo||Y&&this.getStage()||void 0,G=this.getSelfRect(),X=!B.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,I=G.width+X,it=G.height+X,q=!B.skipShadow&&this.hasShadow(),tt=q?this.shadowOffsetX():0,mt=q?this.shadowOffsetY():0,lt=I+Math.abs(tt),dt=it+Math.abs(mt),Tt=q&&this.shadowBlur()||0,Ct=lt+Tt*2,et=dt+Tt*2,rt={width:Ct,height:et,x:-(X/2+Tt)+Math.min(tt,0)+G.x,y:-(X/2+Tt)+Math.min(mt,0)+G.y};return j?rt:this._transformedRect(rt,U)}drawScene(B,Y,Z){const j=this.getLayer();let U=B||j.getCanvas(),G=U.getContext(),k=this._getCanvasCache(),X=this.getSceneFunc(),I=this.hasShadow(),it,q;const tt=U.isCache,mt=Y===this;if(!this.isVisible()&&!mt)return this;if(k){G.save();const dt=this.getAbsoluteTransform(Y).getMatrix();return G.transform(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]),this._drawCachedSceneCanvas(G),G.restore(),this}if(!X)return this;if(G.save(),this._useBufferCanvas()&&!tt){it=this.getStage();const dt=Z||it.bufferCanvas;q=dt.getContext(),q.clear(),q.save(),q._applyLineJoin(this);var lt=this.getAbsoluteTransform(Y).getMatrix();q.transform(lt[0],lt[1],lt[2],lt[3],lt[4],lt[5]),X.call(this,q,this),q.restore();const Tt=dt.pixelRatio;I&&G._applyShadow(this),G._applyOpacity(this),G._applyGlobalCompositeOperation(this),G.drawImage(dt._canvas,0,0,dt.width/Tt,dt.height/Tt)}else{if(G._applyLineJoin(this),!mt){var lt=this.getAbsoluteTransform(Y).getMatrix();G.transform(lt[0],lt[1],lt[2],lt[3],lt[4],lt[5]),G._applyOpacity(this),G._applyGlobalCompositeOperation(this)}I&&G._applyShadow(this),X.call(this,G,this)}return G.restore(),this}drawHit(B,Y,Z=!1){if(!this.shouldDrawHit(Y,Z))return this;const j=this.getLayer(),U=B||j.hitCanvas,G=U&&U.getContext(),k=this.hitFunc()||this.sceneFunc(),X=this._getCanvasCache(),I=X&&X.hit;if(this.colorKey||e.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),I){G.save();const q=this.getAbsoluteTransform(Y).getMatrix();return G.transform(q[0],q[1],q[2],q[3],q[4],q[5]),this._drawCachedHitCanvas(G),G.restore(),this}if(!k)return this;if(G.save(),G._applyLineJoin(this),!(this===Y)){const q=this.getAbsoluteTransform(Y).getMatrix();G.transform(q[0],q[1],q[2],q[3],q[4],q[5])}return k.call(this,G,this),G.restore(),this}drawHitFromCache(B=0){let Y=this._getCanvasCache(),Z=this._getCachedSceneCanvas(),j=Y.hit,U=j.getContext(),G=j.getWidth(),k=j.getHeight(),X,I,it,q,tt,mt;U.clear(),U.drawImage(Z._canvas,0,0,G,k);try{for(X=U.getImageData(0,0,G,k),I=X.data,it=I.length,q=e.Util._hexToRgb(this.colorKey),tt=0;tt<it;tt+=4)mt=I[tt+3],mt>B?(I[tt]=q.r,I[tt+1]=q.g,I[tt+2]=q.b,I[tt+3]=255):I[tt+3]=0;U.putImageData(X,0,0)}catch(lt){e.Util.error("Unable to draw hit graph from cached scene canvas. "+lt.message)}return this}hasPointerCapture(B){return f.hasPointerCapture(B,this)}setPointerCapture(B){f.setPointerCapture(B,this)}releaseCapture(B){f.releaseCapture(B,this)}}a.Shape=P,P.prototype._fillFunc=w,P.prototype._strokeFunc=M,P.prototype._fillFuncHit=D,P.prototype._strokeFuncHit=T,P.prototype._centroid=!1,P.prototype.nodeType="Shape",(0,h._registerNode)(P),P.prototype.eventListeners={},P.prototype.on.call(P.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",O),P.prototype.on.call(P.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",R),P.prototype.on.call(P.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",z),P.prototype.on.call(P.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",H),P.prototype.on.call(P.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",V),n.Factory.addGetterSetter(P,"stroke",void 0,(0,l.getStringOrGradientValidator)()),n.Factory.addGetterSetter(P,"strokeWidth",2,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(P,"fillAfterStrokeEnabled",!1),n.Factory.addGetterSetter(P,"hitStrokeWidth","auto",(0,l.getNumberOrAutoValidator)()),n.Factory.addGetterSetter(P,"strokeHitEnabled",!0,(0,l.getBooleanValidator)()),n.Factory.addGetterSetter(P,"perfectDrawEnabled",!0,(0,l.getBooleanValidator)()),n.Factory.addGetterSetter(P,"shadowForStrokeEnabled",!0,(0,l.getBooleanValidator)()),n.Factory.addGetterSetter(P,"lineJoin"),n.Factory.addGetterSetter(P,"lineCap"),n.Factory.addGetterSetter(P,"sceneFunc"),n.Factory.addGetterSetter(P,"hitFunc"),n.Factory.addGetterSetter(P,"dash"),n.Factory.addGetterSetter(P,"dashOffset",0,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(P,"shadowColor",void 0,(0,l.getStringValidator)()),n.Factory.addGetterSetter(P,"shadowBlur",0,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(P,"shadowOpacity",1,(0,l.getNumberValidator)()),n.Factory.addComponentsGetterSetter(P,"shadowOffset",["x","y"]),n.Factory.addGetterSetter(P,"shadowOffsetX",0,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(P,"shadowOffsetY",0,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(P,"fillPatternImage"),n.Factory.addGetterSetter(P,"fill",void 0,(0,l.getStringOrGradientValidator)()),n.Factory.addGetterSetter(P,"fillPatternX",0,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(P,"fillPatternY",0,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(P,"fillLinearGradientColorStops"),n.Factory.addGetterSetter(P,"strokeLinearGradientColorStops"),n.Factory.addGetterSetter(P,"fillRadialGradientStartRadius",0),n.Factory.addGetterSetter(P,"fillRadialGradientEndRadius",0),n.Factory.addGetterSetter(P,"fillRadialGradientColorStops"),n.Factory.addGetterSetter(P,"fillPatternRepeat","repeat"),n.Factory.addGetterSetter(P,"fillEnabled",!0),n.Factory.addGetterSetter(P,"strokeEnabled",!0),n.Factory.addGetterSetter(P,"shadowEnabled",!0),n.Factory.addGetterSetter(P,"dashEnabled",!0),n.Factory.addGetterSetter(P,"strokeScaleEnabled",!0),n.Factory.addGetterSetter(P,"fillPriority","color"),n.Factory.addComponentsGetterSetter(P,"fillPatternOffset",["x","y"]),n.Factory.addGetterSetter(P,"fillPatternOffsetX",0,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(P,"fillPatternOffsetY",0,(0,l.getNumberValidator)()),n.Factory.addComponentsGetterSetter(P,"fillPatternScale",["x","y"]),n.Factory.addGetterSetter(P,"fillPatternScaleX",1,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(P,"fillPatternScaleY",1,(0,l.getNumberValidator)()),n.Factory.addComponentsGetterSetter(P,"fillLinearGradientStartPoint",["x","y"]),n.Factory.addComponentsGetterSetter(P,"strokeLinearGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(P,"fillLinearGradientStartPointX",0),n.Factory.addGetterSetter(P,"strokeLinearGradientStartPointX",0),n.Factory.addGetterSetter(P,"fillLinearGradientStartPointY",0),n.Factory.addGetterSetter(P,"strokeLinearGradientStartPointY",0),n.Factory.addComponentsGetterSetter(P,"fillLinearGradientEndPoint",["x","y"]),n.Factory.addComponentsGetterSetter(P,"strokeLinearGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(P,"fillLinearGradientEndPointX",0),n.Factory.addGetterSetter(P,"strokeLinearGradientEndPointX",0),n.Factory.addGetterSetter(P,"fillLinearGradientEndPointY",0),n.Factory.addGetterSetter(P,"strokeLinearGradientEndPointY",0),n.Factory.addComponentsGetterSetter(P,"fillRadialGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(P,"fillRadialGradientStartPointX",0),n.Factory.addGetterSetter(P,"fillRadialGradientStartPointY",0),n.Factory.addComponentsGetterSetter(P,"fillRadialGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(P,"fillRadialGradientEndPointX",0),n.Factory.addGetterSetter(P,"fillRadialGradientEndPointY",0),n.Factory.addGetterSetter(P,"fillPatternRotation",0),n.Factory.addGetterSetter(P,"fillRule",void 0,(0,l.getStringValidator)()),n.Factory.backCompat(P,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(l2)),l2}var Pb;function R_(){if(Pb)return yd;Pb=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.Layer=void 0;const a=Cn(),t=Gm(),e=Rn(),n=he(),r=Um(),l=fe(),h=ii(),f=le(),d="#",p="beforeDraw",v="draw",b=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],A=b.length;class S extends t.Container{constructor(w){super(w),this.canvas=new r.SceneCanvas,this.hitCanvas=new r.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(w){return this.getContext().clear(w),this.getHitCanvas().getContext().clear(w),this}setZIndex(w){super.setZIndex(w);const M=this.getStage();return M&&M.content&&(M.content.removeChild(this.getNativeCanvasElement()),w<M.children.length-1?M.content.insertBefore(this.getNativeCanvasElement(),M.children[w+1].getCanvas()._canvas):M.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){e.Node.prototype.moveToTop.call(this);const w=this.getStage();return w&&w.content&&(w.content.removeChild(this.getNativeCanvasElement()),w.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!e.Node.prototype.moveUp.call(this))return!1;const M=this.getStage();return!M||!M.content?!1:(M.content.removeChild(this.getNativeCanvasElement()),this.index<M.children.length-1?M.content.insertBefore(this.getNativeCanvasElement(),M.children[this.index+1].getCanvas()._canvas):M.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(e.Node.prototype.moveDown.call(this)){const w=this.getStage();if(w){const M=w.children;w.content&&(w.content.removeChild(this.getNativeCanvasElement()),w.content.insertBefore(this.getNativeCanvasElement(),M[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(e.Node.prototype.moveToBottom.call(this)){const w=this.getStage();if(w){const M=w.children;w.content&&(w.content.removeChild(this.getNativeCanvasElement()),w.content.insertBefore(this.getNativeCanvasElement(),M[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const w=this.getNativeCanvasElement();return e.Node.prototype.remove.call(this),w&&w.parentNode&&a.Util._isInDocument(w)&&w.parentNode.removeChild(w),this}getStage(){return this.parent}setSize({width:w,height:M}){return this.canvas.setSize(w,M),this.hitCanvas.setSize(w,M),this._setSmoothEnabled(),this}_validateAdd(w){const M=w.getType();M!=="Group"&&M!=="Shape"&&a.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(w){return w=w||{},w.width=w.width||this.getWidth(),w.height=w.height||this.getHeight(),w.x=w.x!==void 0?w.x:this.x(),w.y=w.y!==void 0?w.y:this.y(),e.Node.prototype._toKonvaCanvas.call(this,w)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){a.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){a.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,a.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(w){if(!this.isListening()||!this.isVisible())return null;let M=1,D=!1;for(;;){for(let T=0;T<A;T++){const O=b[T],R=this._getIntersection({x:w.x+O.x*M,y:w.y+O.y*M}),z=R.shape;if(z)return z;if(D=!!R.antialiased,!R.antialiased)break}if(D)M+=1;else return null}}_getIntersection(w){const M=this.hitCanvas.pixelRatio,D=this.hitCanvas.context.getImageData(Math.round(w.x*M),Math.round(w.y*M),1,1).data,T=D[3];if(T===255){const O=a.Util._rgbToHex(D[0],D[1],D[2]),R=h.shapes[d+O];return R?{shape:R}:{antialiased:!0}}else if(T>0)return{antialiased:!0};return{}}drawScene(w,M){const D=this.getLayer(),T=w||D&&D.getCanvas();return this._fire(p,{node:this}),this.clearBeforeDraw()&&T.getContext().clear(),t.Container.prototype.drawScene.call(this,T,M),this._fire(v,{node:this}),this}drawHit(w,M){const D=this.getLayer(),T=w||D&&D.hitCanvas;return D&&D.clearBeforeDraw()&&D.getHitCanvas().getContext().clear(),t.Container.prototype.drawHit.call(this,T,M),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(w){a.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(w)}getHitGraphEnabled(w){return a.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const w=this.parent;!!this.hitCanvas._canvas.parentNode?w.content.removeChild(this.hitCanvas._canvas):w.content.appendChild(this.hitCanvas._canvas)}destroy(){return a.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return yd.Layer=S,S.prototype.nodeType="Layer",(0,f._registerNode)(S),n.Factory.addGetterSetter(S,"imageSmoothingEnabled",!0),n.Factory.addGetterSetter(S,"clearBeforeDraw",!0),n.Factory.addGetterSetter(S,"hitGraphEnabled",!0,(0,l.getBooleanValidator)()),yd}var bd={},Fb;function B8(){if(Fb)return bd;Fb=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.FastLayer=void 0;const a=Cn(),t=R_(),e=le();let n=class extends t.Layer{constructor(l){super(l),this.listening(!1),a.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return bd.FastLayer=n,n.prototype.nodeType="FastLayer",(0,e._registerNode)(n),bd}var _d={},Vb;function Mv(){if(Vb)return _d;Vb=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.Group=void 0;const a=Cn(),t=Gm(),e=le();let n=class extends t.Container{_validateAdd(l){const h=l.getType();h!=="Group"&&h!=="Shape"&&a.Util.throw("You may only add groups and shapes to groups.")}};return _d.Group=n,n.prototype.nodeType="Group",(0,e._registerNode)(n),_d}var Sd={},Yb;function Dv(){if(Yb)return Sd;Yb=1,Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.Animation=void 0;const a=le(),t=Cn(),e=function(){return a.glob.performance&&a.glob.performance.now?function(){return a.glob.performance.now()}:function(){return new Date().getTime()}}();let n=class Ah{constructor(l,h){this.id=Ah.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:e(),frameRate:0},this.func=l,this.setLayers(h)}setLayers(l){let h=[];return l&&(h=Array.isArray(l)?l:[l]),this.layers=h,this}getLayers(){return this.layers}addLayer(l){const h=this.layers,f=h.length;for(let d=0;d<f;d++)if(h[d]._id===l._id)return!1;return this.layers.push(l),!0}isRunning(){const h=Ah.animations,f=h.length;for(let d=0;d<f;d++)if(h[d].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=e(),Ah._addAnimation(this),this}stop(){return Ah._removeAnimation(this),this}_updateFrameObject(l){this.frame.timeDiff=l-this.frame.lastTime,this.frame.lastTime=l,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(l){this.animations.push(l),this._handleAnimation()}static _removeAnimation(l){const h=l.id,f=this.animations,d=f.length;for(let p=0;p<d;p++)if(f[p].id===h){this.animations.splice(p,1);break}}static _runFrames(){const l={},h=this.animations;for(let f=0;f<h.length;f++){const d=h[f],p=d.layers,v=d.func;d._updateFrameObject(e());const b=p.length;let A;if(v?A=v.call(d,d.frame)!==!1:A=!0,!!A)for(let S=0;S<b;S++){const x=p[S];x._id!==void 0&&(l[x._id]=x)}}for(const f in l)l.hasOwnProperty(f)&&l[f].batchDraw()}static _animationLoop(){const l=Ah;l.animations.length?(l._runFrames(),t.Util.requestAnimFrame(l._animationLoop)):l.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,t.Util.requestAnimFrame(this._animationLoop))}};return Sd.Animation=n,n.animations=[],n.animIdCounter=0,n.animRunning=!1,Sd}var c2={},Xb;function L8(){return Xb||(Xb=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Easings=a.Tween=void 0;const t=Cn(),e=Dv(),n=Rn(),r=le();let l={node:1,duration:1,easing:1,onFinish:1,yoyo:1},h=1,f=2,d=3,p=0,v=["fill","stroke","shadowColor"];class b{constructor(x,w,M,D,T,O,R){this.prop=x,this.propFunc=w,this.begin=D,this._pos=D,this.duration=O,this._change=0,this.prevPos=0,this.yoyo=R,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=M,this._change=T-this.begin,this.pause()}fire(x){const w=this[x];w&&w()}setTime(x){x>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():x<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=x,this.update())}getTime(){return this._time}setPosition(x){this.prevPos=this._pos,this.propFunc(x),this._pos=x}getPosition(x){return x===void 0&&(x=this._time),this.func(x,this.begin,this._change,this.duration)}play(){this.state=f,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=d,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(x){this.pause(),this._time=x,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const x=this.getTimer()-this._startTime;this.state===f?this.setTime(x):this.state===d&&this.setTime(this.duration-x)}pause(){this.state=h,this.fire("onPause")}getTimer(){return new Date().getTime()}}class A{constructor(x){let w=this,M=x.node,D=M._id,T,O=x.easing||a.Easings.Linear,R=!!x.yoyo,z;typeof x.duration>"u"?T=.3:x.duration===0?T=.001:T=x.duration,this.node=M,this._id=p++;const H=M.getLayer()||(M instanceof r.Konva.Stage?M.getLayers():null);H||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new e.Animation(function(){w.tween.onEnterFrame()},H),this.tween=new b(z,function(V){w._tweenFunc(V)},O,0,1,T*1e3,R),this._addListeners(),A.attrs[D]||(A.attrs[D]={}),A.attrs[D][this._id]||(A.attrs[D][this._id]={}),A.tweens[D]||(A.tweens[D]={});for(z in x)l[z]===void 0&&this._addAttr(z,x[z]);this.reset(),this.onFinish=x.onFinish,this.onReset=x.onReset,this.onUpdate=x.onUpdate}_addAttr(x,w){let M=this.node,D=M._id,T,O,R,z,H,V,P,K;if(R=A.tweens[D][x],R&&delete A.attrs[D][R][x],T=M.getAttr(x),t.Util._isArray(w))if(O=[],H=Math.max(w.length,T.length),x==="points"&&w.length!==T.length&&(w.length>T.length?(P=T,T=t.Util._prepareArrayForTween(T,w,M.closed())):(V=w,w=t.Util._prepareArrayForTween(w,T,M.closed()))),x.indexOf("fill")===0)for(z=0;z<H;z++)if(z%2===0)O.push(w[z]-T[z]);else{const B=t.Util.colorToRGBA(T[z]);K=t.Util.colorToRGBA(w[z]),T[z]=B,O.push({r:K.r-B.r,g:K.g-B.g,b:K.b-B.b,a:K.a-B.a})}else for(z=0;z<H;z++)O.push(w[z]-T[z]);else v.indexOf(x)!==-1?(T=t.Util.colorToRGBA(T),K=t.Util.colorToRGBA(w),O={r:K.r-T.r,g:K.g-T.g,b:K.b-T.b,a:K.a-T.a}):O=w-T;A.attrs[D][this._id][x]={start:T,diff:O,end:w,trueEnd:V,trueStart:P},A.tweens[D][x]=this._id}_tweenFunc(x){let w=this.node,M=A.attrs[w._id][this._id],D,T,O,R,z,H,V,P;for(D in M){if(T=M[D],O=T.start,R=T.diff,P=T.end,t.Util._isArray(O))if(z=[],V=Math.max(O.length,P.length),D.indexOf("fill")===0)for(H=0;H<V;H++)H%2===0?z.push((O[H]||0)+R[H]*x):z.push("rgba("+Math.round(O[H].r+R[H].r*x)+","+Math.round(O[H].g+R[H].g*x)+","+Math.round(O[H].b+R[H].b*x)+","+(O[H].a+R[H].a*x)+")");else for(H=0;H<V;H++)z.push((O[H]||0)+R[H]*x);else v.indexOf(D)!==-1?z="rgba("+Math.round(O.r+R.r*x)+","+Math.round(O.g+R.g*x)+","+Math.round(O.b+R.b*x)+","+(O.a+R.a*x)+")":z=O+R*x;w.setAttr(D,z)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const x=this.node,w=A.attrs[x._id][this._id];w.points&&w.points.trueEnd&&x.setAttr("points",w.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const x=this.node,w=A.attrs[x._id][this._id];w.points&&w.points.trueStart&&x.points(w.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(x){return this.tween.seek(x*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){let x=this.node._id,w=this._id,M=A.tweens[x],D;this.pause();for(D in M)delete A.tweens[x][D];delete A.attrs[x][w]}}a.Tween=A,A.attrs={},A.tweens={},n.Node.prototype.to=function(S){const x=S.onFinish;S.node=this,S.onFinish=function(){this.destroy(),x&&x()},new A(S).play()},a.Easings={BackEaseIn(S,x,w,M){return w*(S/=M)*S*((1.70158+1)*S-1.70158)+x},BackEaseOut(S,x,w,M){return w*((S=S/M-1)*S*((1.70158+1)*S+1.70158)+1)+x},BackEaseInOut(S,x,w,M){let D=1.70158;return(S/=M/2)<1?w/2*(S*S*(((D*=1.525)+1)*S-D))+x:w/2*((S-=2)*S*(((D*=1.525)+1)*S+D)+2)+x},ElasticEaseIn(S,x,w,M,D,T){let O=0;return S===0?x:(S/=M)===1?x+w:(T||(T=M*.3),!D||D<Math.abs(w)?(D=w,O=T/4):O=T/(2*Math.PI)*Math.asin(w/D),-(D*Math.pow(2,10*(S-=1))*Math.sin((S*M-O)*(2*Math.PI)/T))+x)},ElasticEaseOut(S,x,w,M,D,T){let O=0;return S===0?x:(S/=M)===1?x+w:(T||(T=M*.3),!D||D<Math.abs(w)?(D=w,O=T/4):O=T/(2*Math.PI)*Math.asin(w/D),D*Math.pow(2,-10*S)*Math.sin((S*M-O)*(2*Math.PI)/T)+w+x)},ElasticEaseInOut(S,x,w,M,D,T){let O=0;return S===0?x:(S/=M/2)===2?x+w:(T||(T=M*(.3*1.5)),!D||D<Math.abs(w)?(D=w,O=T/4):O=T/(2*Math.PI)*Math.asin(w/D),S<1?-.5*(D*Math.pow(2,10*(S-=1))*Math.sin((S*M-O)*(2*Math.PI)/T))+x:D*Math.pow(2,-10*(S-=1))*Math.sin((S*M-O)*(2*Math.PI)/T)*.5+w+x)},BounceEaseOut(S,x,w,M){return(S/=M)<1/2.75?w*(7.5625*S*S)+x:S<2/2.75?w*(7.5625*(S-=1.5/2.75)*S+.75)+x:S<2.5/2.75?w*(7.5625*(S-=2.25/2.75)*S+.9375)+x:w*(7.5625*(S-=2.625/2.75)*S+.984375)+x},BounceEaseIn(S,x,w,M){return w-a.Easings.BounceEaseOut(M-S,0,w,M)+x},BounceEaseInOut(S,x,w,M){return S<M/2?a.Easings.BounceEaseIn(S*2,0,w,M)*.5+x:a.Easings.BounceEaseOut(S*2-M,0,w,M)*.5+w*.5+x},EaseIn(S,x,w,M){return w*(S/=M)*S+x},EaseOut(S,x,w,M){return-w*(S/=M)*(S-2)+x},EaseInOut(S,x,w,M){return(S/=M/2)<1?w/2*S*S+x:-w/2*(--S*(S-2)-1)+x},StrongEaseIn(S,x,w,M){return w*(S/=M)*S*S*S*S+x},StrongEaseOut(S,x,w,M){return w*((S=S/M-1)*S*S*S*S+1)+x},StrongEaseInOut(S,x,w,M){return(S/=M/2)<1?w/2*S*S*S*S*S+x:w/2*((S-=2)*S*S*S*S+2)+x},Linear(S,x,w,M){return w*S/M+x}}}(c2)),c2}var qb;function X2(){return qb||(qb=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Konva=void 0;const t=le(),e=Cn(),n=Rn(),r=Gm(),l=z8(),h=R_(),f=B8(),d=Mv(),p=Ov(),v=ii(),b=Dv(),A=L8(),S=M_(),x=Um();a.Konva=e.Util._assign(t.Konva,{Util:e.Util,Transform:e.Transform,Node:n.Node,Container:r.Container,Stage:l.Stage,stages:l.stages,Layer:h.Layer,FastLayer:f.FastLayer,Group:d.Group,DD:p.DD,Shape:v.Shape,shapes:v.shapes,Animation:b.Animation,Tween:A.Tween,Easings:A.Easings,Context:S.Context,Canvas:x.Canvas}),a.default=a.Konva}(n2)),n2}var Ad={},Kb;function U8(){if(Kb)return Ad;Kb=1,Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.Arc=void 0;const a=he(),t=ii(),e=le(),n=fe(),r=le();let l=class extends t.Shape{_sceneFunc(f){const d=e.Konva.getAngle(this.angle()),p=this.clockwise();f.beginPath(),f.arc(0,0,this.outerRadius(),0,d,p),f.arc(0,0,this.innerRadius(),d,0,!p),f.closePath(),f.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(f){this.outerRadius(f/2)}setHeight(f){this.outerRadius(f/2)}getSelfRect(){const f=this.innerRadius(),d=this.outerRadius(),p=this.clockwise(),v=e.Konva.getAngle(p?360-this.angle():this.angle()),b=Math.cos(Math.min(v,Math.PI)),A=1,S=Math.sin(Math.min(Math.max(Math.PI,v),3*Math.PI/2)),x=Math.sin(Math.min(v,Math.PI/2)),w=b*(b>0?f:d),M=A*d,D=S*(S>0?f:d),T=x*(x>0?d:f);return{x:w,y:p?-1*T:D,width:M-w,height:T-D}}};return Ad.Arc=l,l.prototype._centroid=!0,l.prototype.className="Arc",l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(l),a.Factory.addGetterSetter(l,"innerRadius",0,(0,n.getNumberValidator)()),a.Factory.addGetterSetter(l,"outerRadius",0,(0,n.getNumberValidator)()),a.Factory.addGetterSetter(l,"angle",0,(0,n.getNumberValidator)()),a.Factory.addGetterSetter(l,"clockwise",!1,(0,n.getBooleanValidator)()),Ad}var xd={},Cd={},Qb;function N_(){if(Qb)return Cd;Qb=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.Line=void 0;const a=he(),t=le(),e=ii(),n=fe();function r(f,d,p,v,b,A,S){const x=Math.sqrt(Math.pow(p-f,2)+Math.pow(v-d,2)),w=Math.sqrt(Math.pow(b-p,2)+Math.pow(A-v,2)),M=S*x/(x+w),D=S*w/(x+w),T=p-M*(b-f),O=v-M*(A-d),R=p+D*(b-f),z=v+D*(A-d);return[T,O,R,z]}function l(f,d){const p=f.length,v=[];for(let b=2;b<p-2;b+=2){const A=r(f[b-2],f[b-1],f[b],f[b+1],f[b+2],f[b+3],d);isNaN(A[0])||(v.push(A[0]),v.push(A[1]),v.push(f[b]),v.push(f[b+1]),v.push(A[2]),v.push(A[3]))}return v}let h=class extends e.Shape{constructor(d){super(d),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(d){let p=this.points(),v=p.length,b=this.tension(),A=this.closed(),S=this.bezier(),x,w,M;if(v){if(d.beginPath(),d.moveTo(p[0],p[1]),b!==0&&v>4){for(x=this.getTensionPoints(),w=x.length,M=A?0:4,A||d.quadraticCurveTo(x[0],x[1],x[2],x[3]);M<w-2;)d.bezierCurveTo(x[M++],x[M++],x[M++],x[M++],x[M++],x[M++]);A||d.quadraticCurveTo(x[w-2],x[w-1],p[v-2],p[v-1])}else if(S)for(M=2;M<v;)d.bezierCurveTo(p[M++],p[M++],p[M++],p[M++],p[M++],p[M++]);else for(M=2;M<v;M+=2)d.lineTo(p[M],p[M+1]);A?(d.closePath(),d.fillStrokeShape(this)):d.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():l(this.points(),this.tension())}_getTensionPointsClosed(){const d=this.points(),p=d.length,v=this.tension(),b=r(d[p-2],d[p-1],d[0],d[1],d[2],d[3],v),A=r(d[p-4],d[p-3],d[p-2],d[p-1],d[0],d[1],v),S=l(d,v);return[b[2],b[3]].concat(S).concat([A[0],A[1],d[p-2],d[p-1],A[2],A[3],b[0],b[1],d[0],d[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let d=this.points();if(d.length<4)return{x:d[0]||0,y:d[1]||0,width:0,height:0};this.tension()!==0?d=[d[0],d[1],...this._getTensionPoints(),d[d.length-2],d[d.length-1]]:d=this.points();let p=d[0],v=d[0],b=d[1],A=d[1],S,x;for(let w=0;w<d.length/2;w++)S=d[w*2],x=d[w*2+1],p=Math.min(p,S),v=Math.max(v,S),b=Math.min(b,x),A=Math.max(A,x);return{x:p,y:b,width:v-p,height:A-b}}};return Cd.Line=h,h.prototype.className="Line",h.prototype._attrsAffectingSize=["points","bezier","tension"],(0,t._registerNode)(h),a.Factory.addGetterSetter(h,"closed",!1),a.Factory.addGetterSetter(h,"bezier",!1),a.Factory.addGetterSetter(h,"tension",0,(0,n.getNumberValidator)()),a.Factory.addGetterSetter(h,"points",[],(0,n.getNumberArrayValidator)()),Cd}var Td={},u2={},Wb;function G8(){return Wb||(Wb=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.t2length=a.getQuadraticArcLength=a.getCubicArcLength=a.binomialCoefficients=a.cValues=a.tValues=void 0,a.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],a.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],a.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(h,f,d)=>{let p,v;const A=d/2;p=0;for(let S=0;S<20;S++)v=A*a.tValues[20][S]+A,p+=a.cValues[20][S]*n(h,f,v);return A*p};a.getCubicArcLength=t;const e=(h,f,d)=>{d===void 0&&(d=1);const p=h[0]-2*h[1]+h[2],v=f[0]-2*f[1]+f[2],b=2*h[1]-2*h[0],A=2*f[1]-2*f[0],S=4*(p*p+v*v),x=4*(p*b+v*A),w=b*b+A*A;if(S===0)return d*Math.sqrt(Math.pow(h[2]-h[0],2)+Math.pow(f[2]-f[0],2));const M=x/(2*S),D=w/S,T=d+M,O=D-M*M,R=T*T+O>0?Math.sqrt(T*T+O):0,z=M*M+O>0?Math.sqrt(M*M+O):0,H=M+Math.sqrt(M*M+O)!==0?O*Math.log(Math.abs((T+R)/(M+z))):0;return Math.sqrt(S)/2*(T*R-M*z+H)};a.getQuadraticArcLength=e;function n(h,f,d){const p=r(1,d,h),v=r(1,d,f),b=p*p+v*v;return Math.sqrt(b)}const r=(h,f,d)=>{const p=d.length-1;let v,b;if(p===0)return 0;if(h===0){b=0;for(let A=0;A<=p;A++)b+=a.binomialCoefficients[p][A]*Math.pow(1-f,p-A)*Math.pow(f,A)*d[A];return b}else{v=new Array(p);for(let A=0;A<p;A++)v[A]=p*(d[A+1]-d[A]);return r(h-1,f,v)}},l=(h,f,d)=>{let p=1,v=h/f,b=(h-d(v))/f,A=0;for(;p>.001;){const S=d(v+b),x=Math.abs(h-S)/f;if(x<p)p=x,v+=b;else{const w=d(v-b),M=Math.abs(h-w)/f;M<p?(p=M,v-=b):b/=2}if(A++,A>500)break}return v};a.t2length=l}(u2)),u2}var Zb;function Rv(){if(Zb)return Td;Zb=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.Path=void 0;const a=he(),t=ii(),e=le(),n=G8();let r=class la extends t.Shape{constructor(h){super(h),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=la.parsePathData(this.data()),this.pathLength=la.getPathLength(this.dataArray)}_sceneFunc(h){const f=this.dataArray;h.beginPath();let d=!1;for(let R=0;R<f.length;R++){const z=f[R].command,H=f[R].points;switch(z){case"L":h.lineTo(H[0],H[1]);break;case"M":h.moveTo(H[0],H[1]);break;case"C":h.bezierCurveTo(H[0],H[1],H[2],H[3],H[4],H[5]);break;case"Q":h.quadraticCurveTo(H[0],H[1],H[2],H[3]);break;case"A":var p=H[0],v=H[1],b=H[2],A=H[3],S=H[4],x=H[5],w=H[6],M=H[7],D=b>A?b:A,T=b>A?1:b/A,O=b>A?A/b:1;h.translate(p,v),h.rotate(w),h.scale(T,O),h.arc(0,0,D,S,S+x,1-M),h.scale(1/T,1/O),h.rotate(-w),h.translate(-p,-v);break;case"z":d=!0,h.closePath();break}}!d&&!this.hasFill()?h.strokeShape(this):h.fillStrokeShape(this)}getSelfRect(){let h=[];this.dataArray.forEach(function(S){if(S.command==="A"){const x=S.points[4],w=S.points[5],M=S.points[4]+w;let D=Math.PI/180;if(Math.abs(x-M)<D&&(D=Math.abs(x-M)),w<0)for(let T=x-D;T>M;T-=D){const O=la.getPointOnEllipticalArc(S.points[0],S.points[1],S.points[2],S.points[3],T,0);h.push(O.x,O.y)}else for(let T=x+D;T<M;T+=D){const O=la.getPointOnEllipticalArc(S.points[0],S.points[1],S.points[2],S.points[3],T,0);h.push(O.x,O.y)}}else if(S.command==="C")for(let x=0;x<=1;x+=.01){const w=la.getPointOnCubicBezier(x,S.start.x,S.start.y,S.points[0],S.points[1],S.points[2],S.points[3],S.points[4],S.points[5]);h.push(w.x,w.y)}else h=h.concat(S.points)});let f=h[0],d=h[0],p=h[1],v=h[1],b,A;for(let S=0;S<h.length/2;S++)b=h[S*2],A=h[S*2+1],isNaN(b)||(f=Math.min(f,b),d=Math.max(d,b)),isNaN(A)||(p=Math.min(p,A),v=Math.max(v,A));return{x:f,y:p,width:d-f,height:v-p}}getLength(){return this.pathLength}getPointAtLength(h){return la.getPointAtLengthOfDataArray(h,this.dataArray)}static getLineLength(h,f,d,p){return Math.sqrt((d-h)*(d-h)+(p-f)*(p-f))}static getPathLength(h){let f=0;for(let d=0;d<h.length;++d)f+=h[d].pathLength;return f}static getPointAtLengthOfDataArray(h,f){let d,p=0,v=f.length;if(!v)return null;for(;p<v&&h>f[p].pathLength;)h-=f[p].pathLength,++p;if(p===v)return d=f[p-1].points.slice(-2),{x:d[0],y:d[1]};if(h<.01)return d=f[p].points.slice(0,2),{x:d[0],y:d[1]};const b=f[p],A=b.points;switch(b.command){case"L":return la.getPointOnLine(h,b.start.x,b.start.y,A[0],A[1]);case"C":return la.getPointOnCubicBezier((0,n.t2length)(h,la.getPathLength(f),R=>(0,n.getCubicArcLength)([b.start.x,A[0],A[2],A[4]],[b.start.y,A[1],A[3],A[5]],R)),b.start.x,b.start.y,A[0],A[1],A[2],A[3],A[4],A[5]);case"Q":return la.getPointOnQuadraticBezier((0,n.t2length)(h,la.getPathLength(f),R=>(0,n.getQuadraticArcLength)([b.start.x,A[0],A[2]],[b.start.y,A[1],A[3]],R)),b.start.x,b.start.y,A[0],A[1],A[2],A[3]);case"A":var S=A[0],x=A[1],w=A[2],M=A[3],D=A[4],T=A[5],O=A[6];return D+=T*h/b.pathLength,la.getPointOnEllipticalArc(S,x,w,M,D,O)}return null}static getPointOnLine(h,f,d,p,v,b,A){b=b??f,A=A??d;const S=this.getLineLength(f,d,p,v);if(S<1e-10)return{x:f,y:d};if(p===f)return{x:b,y:A+(v>d?h:-h)};const x=(v-d)/(p-f),w=Math.sqrt(h*h/(1+x*x))*(p<f?-1:1),M=x*w;if(Math.abs(A-d-x*(b-f))<1e-10)return{x:b+w,y:A+M};const D=((b-f)*(p-f)+(A-d)*(v-d))/(S*S),T=f+D*(p-f),O=d+D*(v-d),R=this.getLineLength(b,A,T,O),z=Math.sqrt(h*h-R*R),H=Math.sqrt(z*z/(1+x*x))*(p<f?-1:1),V=x*H;return{x:T+H,y:O+V}}static getPointOnCubicBezier(h,f,d,p,v,b,A,S,x){function w(z){return z*z*z}function M(z){return 3*z*z*(1-z)}function D(z){return 3*z*(1-z)*(1-z)}function T(z){return(1-z)*(1-z)*(1-z)}const O=S*w(h)+b*M(h)+p*D(h)+f*T(h),R=x*w(h)+A*M(h)+v*D(h)+d*T(h);return{x:O,y:R}}static getPointOnQuadraticBezier(h,f,d,p,v,b,A){function S(T){return T*T}function x(T){return 2*T*(1-T)}function w(T){return(1-T)*(1-T)}const M=b*S(h)+p*x(h)+f*w(h),D=A*S(h)+v*x(h)+d*w(h);return{x:M,y:D}}static getPointOnEllipticalArc(h,f,d,p,v,b){const A=Math.cos(b),S=Math.sin(b),x={x:d*Math.cos(v),y:p*Math.sin(v)};return{x:h+(x.x*A-x.y*S),y:f+(x.x*S+x.y*A)}}static parsePathData(h){if(!h)return[];let f=h;const d=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];f=f.replace(new RegExp(" ","g"),",");for(var p=0;p<d.length;p++)f=f.replace(new RegExp(d[p],"g"),"|"+d[p]);const v=f.split("|"),b=[],A=[];let S=0,x=0;const w=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let M;for(p=1;p<v.length;p++){let j=v[p],U=j.charAt(0);for(j=j.slice(1),A.length=0;M=w.exec(j);)A.push(M[0]);const G=[];for(let k=0,X=A.length;k<X;k++){if(A[k]==="00"){G.push(0,0);continue}const I=parseFloat(A[k]);isNaN(I)?G.push(0):G.push(I)}for(;G.length>0&&!isNaN(G[0]);){let k="",X=[];const I=S,it=x;var D,T,O,R,z,H,V,P,K,B;switch(U){case"l":S+=G.shift(),x+=G.shift(),k="L",X.push(S,x);break;case"L":S=G.shift(),x=G.shift(),X.push(S,x);break;case"m":var Y=G.shift(),Z=G.shift();if(S+=Y,x+=Z,k="M",b.length>2&&b[b.length-1].command==="z"){for(let q=b.length-2;q>=0;q--)if(b[q].command==="M"){S=b[q].points[0]+Y,x=b[q].points[1]+Z;break}}X.push(S,x),U="l";break;case"M":S=G.shift(),x=G.shift(),k="M",X.push(S,x),U="L";break;case"h":S+=G.shift(),k="L",X.push(S,x);break;case"H":S=G.shift(),k="L",X.push(S,x);break;case"v":x+=G.shift(),k="L",X.push(S,x);break;case"V":x=G.shift(),k="L",X.push(S,x);break;case"C":X.push(G.shift(),G.shift(),G.shift(),G.shift()),S=G.shift(),x=G.shift(),X.push(S,x);break;case"c":X.push(S+G.shift(),x+G.shift(),S+G.shift(),x+G.shift()),S+=G.shift(),x+=G.shift(),k="C",X.push(S,x);break;case"S":T=S,O=x,D=b[b.length-1],D.command==="C"&&(T=S+(S-D.points[2]),O=x+(x-D.points[3])),X.push(T,O,G.shift(),G.shift()),S=G.shift(),x=G.shift(),k="C",X.push(S,x);break;case"s":T=S,O=x,D=b[b.length-1],D.command==="C"&&(T=S+(S-D.points[2]),O=x+(x-D.points[3])),X.push(T,O,S+G.shift(),x+G.shift()),S+=G.shift(),x+=G.shift(),k="C",X.push(S,x);break;case"Q":X.push(G.shift(),G.shift()),S=G.shift(),x=G.shift(),X.push(S,x);break;case"q":X.push(S+G.shift(),x+G.shift()),S+=G.shift(),x+=G.shift(),k="Q",X.push(S,x);break;case"T":T=S,O=x,D=b[b.length-1],D.command==="Q"&&(T=S+(S-D.points[0]),O=x+(x-D.points[1])),S=G.shift(),x=G.shift(),k="Q",X.push(T,O,S,x);break;case"t":T=S,O=x,D=b[b.length-1],D.command==="Q"&&(T=S+(S-D.points[0]),O=x+(x-D.points[1])),S+=G.shift(),x+=G.shift(),k="Q",X.push(T,O,S,x);break;case"A":R=G.shift(),z=G.shift(),H=G.shift(),V=G.shift(),P=G.shift(),K=S,B=x,S=G.shift(),x=G.shift(),k="A",X=this.convertEndpointToCenterParameterization(K,B,S,x,V,P,R,z,H);break;case"a":R=G.shift(),z=G.shift(),H=G.shift(),V=G.shift(),P=G.shift(),K=S,B=x,S+=G.shift(),x+=G.shift(),k="A",X=this.convertEndpointToCenterParameterization(K,B,S,x,V,P,R,z,H);break}b.push({command:k||U,points:X,start:{x:I,y:it},pathLength:this.calcLength(I,it,k||U,X)})}(U==="z"||U==="Z")&&b.push({command:"z",points:[],start:void 0,pathLength:0})}return b}static calcLength(h,f,d,p){let v,b,A,S;const x=la;switch(d){case"L":return x.getLineLength(h,f,p[0],p[1]);case"C":return(0,n.getCubicArcLength)([h,p[0],p[2],p[4]],[f,p[1],p[3],p[5]],1);case"Q":return(0,n.getQuadraticArcLength)([h,p[0],p[2]],[f,p[1],p[3]],1);case"A":v=0;var w=p[4],M=p[5],D=p[4]+M,T=Math.PI/180;if(Math.abs(w-D)<T&&(T=Math.abs(w-D)),b=x.getPointOnEllipticalArc(p[0],p[1],p[2],p[3],w,0),M<0)for(S=w-T;S>D;S-=T)A=x.getPointOnEllipticalArc(p[0],p[1],p[2],p[3],S,0),v+=x.getLineLength(b.x,b.y,A.x,A.y),b=A;else for(S=w+T;S<D;S+=T)A=x.getPointOnEllipticalArc(p[0],p[1],p[2],p[3],S,0),v+=x.getLineLength(b.x,b.y,A.x,A.y),b=A;return A=x.getPointOnEllipticalArc(p[0],p[1],p[2],p[3],D,0),v+=x.getLineLength(b.x,b.y,A.x,A.y),v}return 0}static convertEndpointToCenterParameterization(h,f,d,p,v,b,A,S,x){const w=x*(Math.PI/180),M=Math.cos(w)*(h-d)/2+Math.sin(w)*(f-p)/2,D=-1*Math.sin(w)*(h-d)/2+Math.cos(w)*(f-p)/2,T=M*M/(A*A)+D*D/(S*S);T>1&&(A*=Math.sqrt(T),S*=Math.sqrt(T));let O=Math.sqrt((A*A*(S*S)-A*A*(D*D)-S*S*(M*M))/(A*A*(D*D)+S*S*(M*M)));v===b&&(O*=-1),isNaN(O)&&(O=0);const R=O*A*D/S,z=O*-S*M/A,H=(h+d)/2+Math.cos(w)*R-Math.sin(w)*z,V=(f+p)/2+Math.sin(w)*R+Math.cos(w)*z,P=function(G){return Math.sqrt(G[0]*G[0]+G[1]*G[1])},K=function(G,k){return(G[0]*k[0]+G[1]*k[1])/(P(G)*P(k))},B=function(G,k){return(G[0]*k[1]<G[1]*k[0]?-1:1)*Math.acos(K(G,k))},Y=B([1,0],[(M-R)/A,(D-z)/S]),Z=[(M-R)/A,(D-z)/S],j=[(-1*M-R)/A,(-1*D-z)/S];let U=B(Z,j);return K(Z,j)<=-1&&(U=Math.PI),K(Z,j)>=1&&(U=0),b===0&&U>0&&(U=U-2*Math.PI),b===1&&U<0&&(U=U+2*Math.PI),[H,V,A,S,Y,U,w,b]}};return Td.Path=r,r.prototype.className="Path",r.prototype._attrsAffectingSize=["data"],(0,e._registerNode)(r),a.Factory.addGetterSetter(r,"data"),Td}var Ib;function H8(){if(Ib)return xd;Ib=1,Object.defineProperty(xd,"__esModule",{value:!0}),xd.Arrow=void 0;const a=he(),t=N_(),e=fe(),n=le(),r=Rv();class l extends t.Line{_sceneFunc(f){super._sceneFunc(f);const d=Math.PI*2,p=this.points();let v=p;const b=this.tension()!==0&&p.length>4;b&&(v=this.getTensionPoints());const A=this.pointerLength(),S=p.length;let x,w;if(b){const T=[v[v.length-4],v[v.length-3],v[v.length-2],v[v.length-1],p[S-2],p[S-1]],O=r.Path.calcLength(v[v.length-4],v[v.length-3],"C",T),R=r.Path.getPointOnQuadraticBezier(Math.min(1,1-A/O),T[0],T[1],T[2],T[3],T[4],T[5]);x=p[S-2]-R.x,w=p[S-1]-R.y}else x=p[S-2]-p[S-4],w=p[S-1]-p[S-3];const M=(Math.atan2(w,x)+d)%d,D=this.pointerWidth();this.pointerAtEnding()&&(f.save(),f.beginPath(),f.translate(p[S-2],p[S-1]),f.rotate(M),f.moveTo(0,0),f.lineTo(-A,D/2),f.lineTo(-A,-D/2),f.closePath(),f.restore(),this.__fillStroke(f)),this.pointerAtBeginning()&&(f.save(),f.beginPath(),f.translate(p[0],p[1]),b?(x=(v[0]+v[2])/2-p[0],w=(v[1]+v[3])/2-p[1]):(x=p[2]-p[0],w=p[3]-p[1]),f.rotate((Math.atan2(-w,-x)+d)%d),f.moveTo(0,0),f.lineTo(-A,D/2),f.lineTo(-A,-D/2),f.closePath(),f.restore(),this.__fillStroke(f))}__fillStroke(f){const d=this.dashEnabled();d&&(this.attrs.dashEnabled=!1,f.setLineDash([])),f.fillStrokeShape(this),d&&(this.attrs.dashEnabled=!0)}getSelfRect(){const f=super.getSelfRect(),d=this.pointerWidth()/2;return{x:f.x-d,y:f.y-d,width:f.width+d*2,height:f.height+d*2}}}return xd.Arrow=l,l.prototype.className="Arrow",(0,n._registerNode)(l),a.Factory.addGetterSetter(l,"pointerLength",10,(0,e.getNumberValidator)()),a.Factory.addGetterSetter(l,"pointerWidth",10,(0,e.getNumberValidator)()),a.Factory.addGetterSetter(l,"pointerAtBeginning",!1),a.Factory.addGetterSetter(l,"pointerAtEnding",!0),xd}var Ed={},Jb;function k8(){if(Jb)return Ed;Jb=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.Circle=void 0;const a=he(),t=ii(),e=fe(),n=le();let r=class extends t.Shape{_sceneFunc(h){h.beginPath(),h.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),h.closePath(),h.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(h){this.radius()!==h/2&&this.radius(h/2)}setHeight(h){this.radius()!==h/2&&this.radius(h/2)}};return Ed.Circle=r,r.prototype._centroid=!0,r.prototype.className="Circle",r.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(r),a.Factory.addGetterSetter(r,"radius",0,(0,e.getNumberValidator)()),Ed}var wd={},$b;function P8(){if($b)return wd;$b=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.Ellipse=void 0;const a=he(),t=ii(),e=fe(),n=le();let r=class extends t.Shape{_sceneFunc(h){const f=this.radiusX(),d=this.radiusY();h.beginPath(),h.save(),f!==d&&h.scale(1,d/f),h.arc(0,0,f,0,Math.PI*2,!1),h.restore(),h.closePath(),h.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(h){this.radiusX(h/2)}setHeight(h){this.radiusY(h/2)}};return wd.Ellipse=r,r.prototype.className="Ellipse",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,n._registerNode)(r),a.Factory.addComponentsGetterSetter(r,"radius",["x","y"]),a.Factory.addGetterSetter(r,"radiusX",0,(0,e.getNumberValidator)()),a.Factory.addGetterSetter(r,"radiusY",0,(0,e.getNumberValidator)()),wd}var Od={},t5;function F8(){if(t5)return Od;t5=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.Image=void 0;const a=Cn(),t=he(),e=ii(),n=le(),r=fe();class l extends e.Shape{constructor(f){super(f),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const f=this.image();f&&f.complete||f&&f.readyState===4||f&&f.addEventListener&&f.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){const f=!!this.cornerRadius(),d=this.hasShadow();return f&&d?!0:super._useBufferCanvas(!0)}_sceneFunc(f){const d=this.getWidth(),p=this.getHeight(),v=this.cornerRadius(),b=this.attrs.image;let A;if(b){const S=this.attrs.cropWidth,x=this.attrs.cropHeight;S&&x?A=[b,this.cropX(),this.cropY(),S,x,0,0,d,p]:A=[b,0,0,d,p]}(this.hasFill()||this.hasStroke()||v)&&(f.beginPath(),v?a.Util.drawRoundedRectPath(f,d,p,v):f.rect(0,0,d,p),f.closePath(),f.fillStrokeShape(this)),b&&(v&&f.clip(),f.drawImage.apply(f,A))}_hitFunc(f){const d=this.width(),p=this.height(),v=this.cornerRadius();f.beginPath(),v?a.Util.drawRoundedRectPath(f,d,p,v):f.rect(0,0,d,p),f.closePath(),f.fillStrokeShape(this)}getWidth(){var f,d;return(f=this.attrs.width)!==null&&f!==void 0?f:(d=this.image())===null||d===void 0?void 0:d.width}getHeight(){var f,d;return(f=this.attrs.height)!==null&&f!==void 0?f:(d=this.image())===null||d===void 0?void 0:d.height}static fromURL(f,d,p=null){const v=a.Util.createImageElement();v.onload=function(){const b=new l({image:v});d(b)},v.onerror=p,v.crossOrigin="Anonymous",v.src=f}}return Od.Image=l,l.prototype.className="Image",(0,n._registerNode)(l),t.Factory.addGetterSetter(l,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),t.Factory.addGetterSetter(l,"image"),t.Factory.addComponentsGetterSetter(l,"crop",["x","y","width","height"]),t.Factory.addGetterSetter(l,"cropX",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(l,"cropY",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(l,"cropWidth",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(l,"cropHeight",0,(0,r.getNumberValidator)()),Od}var Ic={},e5;function V8(){if(e5)return Ic;e5=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.Tag=Ic.Label=void 0;const a=he(),t=ii(),e=Mv(),n=fe(),r=le(),l=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],h="Change.konva",f="none",d="up",p="right",v="down",b="left",A=l.length;let S=class extends e.Group{constructor(M){super(M),this.on("add.konva",function(D){this._addListeners(D.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(M){let D=this,T;const O=function(){D._sync()};for(T=0;T<A;T++)M.on(l[T]+h,O)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let M=this.getText(),D=this.getTag(),T,O,R,z,H,V,P;if(M&&D){switch(T=M.width(),O=M.height(),R=D.pointerDirection(),z=D.pointerWidth(),P=D.pointerHeight(),H=0,V=0,R){case d:H=T/2,V=-1*P;break;case p:H=T+z,V=O/2;break;case v:H=T/2,V=O+P;break;case b:H=-1*z,V=O/2;break}D.setAttrs({x:-1*H,y:-1*V,width:T,height:O}),M.setAttrs({x:-1*H,y:-1*V})}}};Ic.Label=S,S.prototype.className="Label",(0,r._registerNode)(S);class x extends t.Shape{_sceneFunc(M){const D=this.width(),T=this.height(),O=this.pointerDirection(),R=this.pointerWidth(),z=this.pointerHeight(),H=this.cornerRadius();let V=0,P=0,K=0,B=0;typeof H=="number"?V=P=K=B=Math.min(H,D/2,T/2):(V=Math.min(H[0]||0,D/2,T/2),P=Math.min(H[1]||0,D/2,T/2),B=Math.min(H[2]||0,D/2,T/2),K=Math.min(H[3]||0,D/2,T/2)),M.beginPath(),M.moveTo(V,0),O===d&&(M.lineTo((D-R)/2,0),M.lineTo(D/2,-1*z),M.lineTo((D+R)/2,0)),M.lineTo(D-P,0),M.arc(D-P,P,P,Math.PI*3/2,0,!1),O===p&&(M.lineTo(D,(T-z)/2),M.lineTo(D+R,T/2),M.lineTo(D,(T+z)/2)),M.lineTo(D,T-B),M.arc(D-B,T-B,B,0,Math.PI/2,!1),O===v&&(M.lineTo((D+R)/2,T),M.lineTo(D/2,T+z),M.lineTo((D-R)/2,T)),M.lineTo(K,T),M.arc(K,T-K,K,Math.PI/2,Math.PI,!1),O===b&&(M.lineTo(0,(T+z)/2),M.lineTo(-1*R,T/2),M.lineTo(0,(T-z)/2)),M.lineTo(0,V),M.arc(V,V,V,Math.PI,Math.PI*3/2,!1),M.closePath(),M.fillStrokeShape(this)}getSelfRect(){let M=0,D=0,T=this.pointerWidth(),O=this.pointerHeight(),R=this.pointerDirection(),z=this.width(),H=this.height();return R===d?(D-=O,H+=O):R===v?H+=O:R===b?(M-=T*1.5,z+=T):R===p&&(z+=T*1.5),{x:M,y:D,width:z,height:H}}}return Ic.Tag=x,x.prototype.className="Tag",(0,r._registerNode)(x),a.Factory.addGetterSetter(x,"pointerDirection",f),a.Factory.addGetterSetter(x,"pointerWidth",0,(0,n.getNumberValidator)()),a.Factory.addGetterSetter(x,"pointerHeight",0,(0,n.getNumberValidator)()),a.Factory.addGetterSetter(x,"cornerRadius",0,(0,n.getNumberOrArrayOfNumbersValidator)(4)),Ic}var Md={},n5;function j_(){if(n5)return Md;n5=1,Object.defineProperty(Md,"__esModule",{value:!0}),Md.Rect=void 0;const a=he(),t=ii(),e=le(),n=Cn(),r=fe();let l=class extends t.Shape{_sceneFunc(f){const d=this.cornerRadius(),p=this.width(),v=this.height();f.beginPath(),d?n.Util.drawRoundedRectPath(f,p,v,d):f.rect(0,0,p,v),f.closePath(),f.fillStrokeShape(this)}};return Md.Rect=l,l.prototype.className="Rect",(0,e._registerNode)(l),a.Factory.addGetterSetter(l,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),Md}var Dd={},i5;function Y8(){if(i5)return Dd;i5=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.RegularPolygon=void 0;const a=he(),t=ii(),e=fe(),n=le();let r=class extends t.Shape{_sceneFunc(h){const f=this._getPoints();h.beginPath(),h.moveTo(f[0].x,f[0].y);for(let d=1;d<f.length;d++)h.lineTo(f[d].x,f[d].y);h.closePath(),h.fillStrokeShape(this)}_getPoints(){const h=this.attrs.sides,f=this.attrs.radius||0,d=[];for(let p=0;p<h;p++)d.push({x:f*Math.sin(p*2*Math.PI/h),y:-1*f*Math.cos(p*2*Math.PI/h)});return d}getSelfRect(){const h=this._getPoints();let f=h[0].x,d=h[0].y,p=h[0].x,v=h[0].y;return h.forEach(b=>{f=Math.min(f,b.x),d=Math.max(d,b.x),p=Math.min(p,b.y),v=Math.max(v,b.y)}),{x:f,y:p,width:d-f,height:v-p}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(h){this.radius(h/2)}setHeight(h){this.radius(h/2)}};return Dd.RegularPolygon=r,r.prototype.className="RegularPolygon",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(r),a.Factory.addGetterSetter(r,"radius",0,(0,e.getNumberValidator)()),a.Factory.addGetterSetter(r,"sides",0,(0,e.getNumberValidator)()),Dd}var Rd={},a5;function X8(){if(a5)return Rd;a5=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.Ring=void 0;const a=he(),t=ii(),e=fe(),n=le(),r=Math.PI*2;let l=class extends t.Shape{_sceneFunc(f){f.beginPath(),f.arc(0,0,this.innerRadius(),0,r,!1),f.moveTo(this.outerRadius(),0),f.arc(0,0,this.outerRadius(),r,0,!0),f.closePath(),f.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(f){this.outerRadius(f/2)}setHeight(f){this.outerRadius(f/2)}};return Rd.Ring=l,l.prototype.className="Ring",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(l),a.Factory.addGetterSetter(l,"innerRadius",0,(0,e.getNumberValidator)()),a.Factory.addGetterSetter(l,"outerRadius",0,(0,e.getNumberValidator)()),Rd}var Nd={},r5;function q8(){if(r5)return Nd;r5=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.Sprite=void 0;const a=he(),t=ii(),e=Dv(),n=fe(),r=le();let l=class extends t.Shape{constructor(f){super(f),this._updated=!0,this.anim=new e.Animation(()=>{const d=this._updated;return this._updated=!1,d}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(f){const d=this.animation(),p=this.frameIndex(),v=p*4,b=this.animations()[d],A=this.frameOffsets(),S=b[v+0],x=b[v+1],w=b[v+2],M=b[v+3],D=this.image();if((this.hasFill()||this.hasStroke())&&(f.beginPath(),f.rect(0,0,w,M),f.closePath(),f.fillStrokeShape(this)),D)if(A){const T=A[d],O=p*2;f.drawImage(D,S,x,w,M,T[O+0],T[O+1],w,M)}else f.drawImage(D,S,x,w,M,0,0,w,M)}_hitFunc(f){const d=this.animation(),p=this.frameIndex(),v=p*4,b=this.animations()[d],A=this.frameOffsets(),S=b[v+2],x=b[v+3];if(f.beginPath(),A){const w=A[d],M=p*2;f.rect(w[M+0],w[M+1],S,x)}else f.rect(0,0,S,x);f.closePath(),f.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const f=this;this.interval=setInterval(function(){f._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const f=this.getLayer();this.anim.setLayers(f),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const f=this.frameIndex(),d=this.animation(),p=this.animations(),v=p[d],b=v.length/4;f<b-1?this.frameIndex(f+1):this.frameIndex(0)}};return Nd.Sprite=l,l.prototype.className="Sprite",(0,r._registerNode)(l),a.Factory.addGetterSetter(l,"animation"),a.Factory.addGetterSetter(l,"animations"),a.Factory.addGetterSetter(l,"frameOffsets"),a.Factory.addGetterSetter(l,"image"),a.Factory.addGetterSetter(l,"frameIndex",0,(0,n.getNumberValidator)()),a.Factory.addGetterSetter(l,"frameRate",17,(0,n.getNumberValidator)()),a.Factory.backCompat(l,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Nd}var jd={},s5;function K8(){if(s5)return jd;s5=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.Star=void 0;const a=he(),t=ii(),e=fe(),n=le();let r=class extends t.Shape{_sceneFunc(h){const f=this.innerRadius(),d=this.outerRadius(),p=this.numPoints();h.beginPath(),h.moveTo(0,0-d);for(let v=1;v<p*2;v++){const b=v%2===0?d:f,A=b*Math.sin(v*Math.PI/p),S=-1*b*Math.cos(v*Math.PI/p);h.lineTo(A,S)}h.closePath(),h.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(h){this.outerRadius(h/2)}setHeight(h){this.outerRadius(h/2)}};return jd.Star=r,r.prototype.className="Star",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(r),a.Factory.addGetterSetter(r,"numPoints",5,(0,e.getNumberValidator)()),a.Factory.addGetterSetter(r,"innerRadius",0,(0,e.getNumberValidator)()),a.Factory.addGetterSetter(r,"outerRadius",0,(0,e.getNumberValidator)()),jd}var mh={},o5;function z_(){if(o5)return mh;o5=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.Text=void 0,mh.stringToArray=h;const a=Cn(),t=he(),e=ii(),n=le(),r=fe(),l=le();function h(mt){return[...mt].reduce((lt,dt,Tt,Ct)=>(new RegExp("\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?(?:\\u200D\\p{Emoji_Presentation})+","u").test(dt)?lt.push(dt):new RegExp("\\p{Regional_Indicator}{2}","u").test(dt+(Ct[Tt+1]||""))?lt.push(dt+Ct[Tt+1]):Tt>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(dt)?lt[lt.length-1]+=dt:lt.push(dt),lt),[])}const f="auto",d="center",p="inherit",v="justify",b="Change.konva",A="2d",S="-",x="left",w="text",M="Text",D="top",T="bottom",O="middle",R="normal",z="px ",H=" ",V="right",P="rtl",K="word",B="char",Y="none",Z="…",j=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],U=j.length;function G(mt){return mt.split(",").map(lt=>{lt=lt.trim();const dt=lt.indexOf(" ")>=0,Tt=lt.indexOf('"')>=0||lt.indexOf("'")>=0;return dt&&!Tt&&(lt=`"${lt}"`),lt}).join(", ")}let k;function X(){return k||(k=a.Util.createCanvasElement().getContext(A),k)}function I(mt){mt.fillText(this._partialText,this._partialTextX,this._partialTextY)}function it(mt){mt.setAttr("miterLimit",2),mt.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function q(mt){return mt=mt||{},!mt.fillLinearGradientColorStops&&!mt.fillRadialGradientColorStops&&!mt.fillPatternImage&&(mt.fill=mt.fill||"black"),mt}let tt=class extends e.Shape{constructor(lt){super(q(lt)),this._partialTextX=0,this._partialTextY=0;for(let dt=0;dt<U;dt++)this.on(j[dt]+b,this._setTextData);this._setTextData()}_sceneFunc(lt){const dt=this.textArr,Tt=dt.length;if(!this.text())return;let Ct=this.padding(),et=this.fontSize(),rt=this.lineHeight()*et,_t=this.verticalAlign(),wt=this.direction(),Nt=0,Bt=this.align(),Xt=this.getWidth(),It=this.letterSpacing(),Pt=this.fill(),Ne=this.textDecoration(),Wt=Ne.indexOf("underline")!==-1,Ee=Ne.indexOf("line-through")!==-1,Nn;wt=wt===p?lt.direction:wt;let He=rt/2,Xn=O;if(n.Konva._fixTextRendering){const Ba=this.measureSize("M");Xn="alphabetic",He=(Ba.fontBoundingBoxAscent-Ba.fontBoundingBoxDescent)/2+rt/2}var ri=0,Qe=0;for(wt===P&&lt.setAttr("direction",wt),lt.setAttr("font",this._getContextFont()),lt.setAttr("textBaseline",Xn),lt.setAttr("textAlign",x),_t===O?Nt=(this.getHeight()-Tt*rt-Ct*2)/2:_t===T&&(Nt=this.getHeight()-Tt*rt-Ct*2),lt.translate(Ct,Nt+Ct),Nn=0;Nn<Tt;Nn++){var ri=0,Qe=0,tn=dt[Nn],si=tn.text,Yi=tn.width,en=tn.lastInParagraph,qn,ma,Di;if(lt.save(),Bt===V?ri+=Xt-Yi-Ct*2:Bt===d&&(ri+=(Xt-Yi-Ct*2)/2),Wt){lt.save(),lt.beginPath();const mn=n.Konva._fixTextRendering?Math.round(et/4):Math.round(et/2),xe=ri,Xi=He+Qe+mn;lt.moveTo(xe,Xi),qn=si.split(" ").length-1,ma=qn===0,Di=Bt===v&&!en?Xt-Ct*2:Yi,lt.lineTo(xe+Math.round(Di),Xi),lt.lineWidth=et/15;const qi=this._getLinearGradient();lt.strokeStyle=qi||Pt,lt.stroke(),lt.restore()}if(Ee){lt.save(),lt.beginPath();const mn=n.Konva._fixTextRendering?-Math.round(et/4):0;lt.moveTo(ri,He+Qe+mn),qn=si.split(" ").length-1,ma=qn===0,Di=Bt===v&&en&&!ma?Xt-Ct*2:Yi,lt.lineTo(ri+Math.round(Di),He+Qe+mn),lt.lineWidth=et/15;const xe=this._getLinearGradient();lt.strokeStyle=xe||Pt,lt.stroke(),lt.restore()}if(wt!==P&&(It!==0||Bt===v)){qn=si.split(" ").length-1;const mn=h(si);for(let xe=0;xe<mn.length;xe++){const Xi=mn[xe];Xi===" "&&!en&&Bt===v&&(ri+=(Xt-Ct*2-Yi)/qn),this._partialTextX=ri,this._partialTextY=He+Qe,this._partialText=Xi,lt.fillStrokeShape(this),ri+=this.measureSize(Xi).width+It}}else It!==0&&lt.setAttr("letterSpacing",`${It}px`),this._partialTextX=ri,this._partialTextY=He+Qe,this._partialText=si,lt.fillStrokeShape(this);lt.restore(),Tt>1&&(He+=rt)}}_hitFunc(lt){const dt=this.getWidth(),Tt=this.getHeight();lt.beginPath(),lt.rect(0,0,dt,Tt),lt.closePath(),lt.fillStrokeShape(this)}setText(lt){const dt=a.Util._isString(lt)?lt:lt==null?"":lt+"";return this._setAttr(w,dt),this}getWidth(){return this.attrs.width===f||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===f||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(lt){var dt,Tt,Ct,et,rt,_t,wt,Nt,Bt,Xt,It;let Pt=X(),Ne=this.fontSize(),Wt;Pt.save(),Pt.font=this._getContextFont(),Wt=Pt.measureText(lt),Pt.restore();const Ee=Ne/100;return{actualBoundingBoxAscent:(dt=Wt.actualBoundingBoxAscent)!==null&&dt!==void 0?dt:71.58203125*Ee,actualBoundingBoxDescent:(Tt=Wt.actualBoundingBoxDescent)!==null&&Tt!==void 0?Tt:0,actualBoundingBoxLeft:(Ct=Wt.actualBoundingBoxLeft)!==null&&Ct!==void 0?Ct:-7.421875*Ee,actualBoundingBoxRight:(et=Wt.actualBoundingBoxRight)!==null&&et!==void 0?et:75.732421875*Ee,alphabeticBaseline:(rt=Wt.alphabeticBaseline)!==null&&rt!==void 0?rt:0,emHeightAscent:(_t=Wt.emHeightAscent)!==null&&_t!==void 0?_t:100*Ee,emHeightDescent:(wt=Wt.emHeightDescent)!==null&&wt!==void 0?wt:-20*Ee,fontBoundingBoxAscent:(Nt=Wt.fontBoundingBoxAscent)!==null&&Nt!==void 0?Nt:91*Ee,fontBoundingBoxDescent:(Bt=Wt.fontBoundingBoxDescent)!==null&&Bt!==void 0?Bt:21*Ee,hangingBaseline:(Xt=Wt.hangingBaseline)!==null&&Xt!==void 0?Xt:72.80000305175781*Ee,ideographicBaseline:(It=Wt.ideographicBaseline)!==null&&It!==void 0?It:-21*Ee,width:Wt.width,height:Ne}}_getContextFont(){return this.fontStyle()+H+this.fontVariant()+H+(this.fontSize()+z)+G(this.fontFamily())}_addTextLine(lt){this.align()===v&&(lt=lt.trim());const Tt=this._getTextWidth(lt);return this.textArr.push({text:lt,width:Tt,lastInParagraph:!1})}_getTextWidth(lt){const dt=this.letterSpacing(),Tt=lt.length;return X().measureText(lt).width+(Tt?dt*(Tt-1):0)}_setTextData(){let lt=this.text().split(`
`),dt=+this.fontSize(),Tt=0,Ct=this.lineHeight()*dt,et=this.attrs.width,rt=this.attrs.height,_t=et!==f&&et!==void 0,wt=rt!==f&&rt!==void 0,Nt=this.padding(),Bt=et-Nt*2,Xt=rt-Nt*2,It=0,Pt=this.wrap(),Ne=Pt!==Y,Wt=Pt!==B&&Ne,Ee=this.ellipsis();this.textArr=[],X().font=this._getContextFont();const Nn=Ee?this._getTextWidth(Z):0;for(let Xn=0,ri=lt.length;Xn<ri;++Xn){let Qe=lt[Xn],tn=this._getTextWidth(Qe);if(_t&&tn>Bt)for(;Qe.length>0;){let si=0,Yi=Qe.length,en="",qn=0;for(;si<Yi;){const ma=si+Yi>>>1,Di=Qe.slice(0,ma+1),Ba=this._getTextWidth(Di)+Nn;Ba<=Bt?(si=ma+1,en=Di,qn=Ba):Yi=ma}if(en){if(Wt){var He;const Di=Qe[en.length];(Di===H||Di===S)&&qn<=Bt?He=en.length:He=Math.max(en.lastIndexOf(H),en.lastIndexOf(S))+1,He>0&&(si=He,en=en.slice(0,si),qn=this._getTextWidth(en))}if(en=en.trimRight(),this._addTextLine(en),Tt=Math.max(Tt,qn),It+=Ct,this._shouldHandleEllipsis(It)){this._tryToAddEllipsisToLastLine();break}if(Qe=Qe.slice(si),Qe=Qe.trimLeft(),Qe.length>0&&(tn=this._getTextWidth(Qe),tn<=Bt)){this._addTextLine(Qe),It+=Ct,Tt=Math.max(Tt,tn);break}}else break}else this._addTextLine(Qe),It+=Ct,Tt=Math.max(Tt,tn),this._shouldHandleEllipsis(It)&&Xn<ri-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),wt&&It+Ct>Xt)break}this.textHeight=dt,this.textWidth=Tt}_shouldHandleEllipsis(lt){const dt=+this.fontSize(),Tt=this.lineHeight()*dt,Ct=this.attrs.height,et=Ct!==f&&Ct!==void 0,rt=this.padding(),_t=Ct-rt*2;return!(this.wrap()!==Y)||et&&lt+Tt>_t}_tryToAddEllipsisToLastLine(){const lt=this.attrs.width,dt=lt!==f&&lt!==void 0,Tt=this.padding(),Ct=lt-Tt*2,et=this.ellipsis(),rt=this.textArr[this.textArr.length-1];!rt||!et||(dt&&(this._getTextWidth(rt.text+Z)<Ct||(rt.text=rt.text.slice(0,rt.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(rt.text+Z))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const lt=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,dt=this.hasShadow();return lt&&dt?!0:super._useBufferCanvas()}};return mh.Text=tt,tt.prototype._fillFunc=I,tt.prototype._strokeFunc=it,tt.prototype.className=M,tt.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,l._registerNode)(tt),t.Factory.overWriteSetter(tt,"width",(0,r.getNumberOrAutoValidator)()),t.Factory.overWriteSetter(tt,"height",(0,r.getNumberOrAutoValidator)()),t.Factory.addGetterSetter(tt,"direction",p),t.Factory.addGetterSetter(tt,"fontFamily","Arial"),t.Factory.addGetterSetter(tt,"fontSize",12,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(tt,"fontStyle",R),t.Factory.addGetterSetter(tt,"fontVariant",R),t.Factory.addGetterSetter(tt,"padding",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(tt,"align",x),t.Factory.addGetterSetter(tt,"verticalAlign",D),t.Factory.addGetterSetter(tt,"lineHeight",1,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(tt,"wrap",K),t.Factory.addGetterSetter(tt,"ellipsis",!1,(0,r.getBooleanValidator)()),t.Factory.addGetterSetter(tt,"letterSpacing",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(tt,"text","",(0,r.getStringValidator)()),t.Factory.addGetterSetter(tt,"textDecoration",""),mh}var zd={},l5;function Q8(){if(l5)return zd;l5=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.TextPath=void 0;const a=Cn(),t=he(),e=ii(),n=Rv(),r=z_(),l=fe(),h=le(),f="",d="normal";function p(A){A.fillText(this.partialText,0,0)}function v(A){A.strokeText(this.partialText,0,0)}let b=class extends e.Shape{constructor(S){super(S),this.dummyCanvas=a.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return n.Path.getPathLength(this.dataArray)}_getPointAtLength(S){if(!this.attrs.data)return null;const x=this.pathLength;return S-1>x?null:n.Path.getPointAtLengthOfDataArray(S,this.dataArray)}_readDataAttribute(){this.dataArray=n.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(S){S.setAttr("font",this._getContextFont()),S.setAttr("textBaseline",this.textBaseline()),S.setAttr("textAlign","left"),S.save();const x=this.textDecoration(),w=this.fill(),M=this.fontSize(),D=this.glyphInfo;x==="underline"&&S.beginPath();for(let T=0;T<D.length;T++){S.save();const O=D[T].p0;S.translate(O.x,O.y),S.rotate(D[T].rotation),this.partialText=D[T].text,S.fillStrokeShape(this),x==="underline"&&(T===0&&S.moveTo(0,M/2+1),S.lineTo(M,M/2+1)),S.restore()}x==="underline"&&(S.strokeStyle=w,S.lineWidth=M/20,S.stroke()),S.restore()}_hitFunc(S){S.beginPath();const x=this.glyphInfo;if(x.length>=1){const w=x[0].p0;S.moveTo(w.x,w.y)}for(let w=0;w<x.length;w++){const M=x[w].p1;S.lineTo(M.x,M.y)}S.setAttr("lineWidth",this.fontSize()),S.setAttr("strokeStyle",this.colorKey),S.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(S){return r.Text.prototype.setText.call(this,S)}_getContextFont(){return r.Text.prototype._getContextFont.call(this)}_getTextSize(S){const w=this.dummyCanvas.getContext("2d");w.save(),w.font=this._getContextFont();const M=w.measureText(S);return w.restore(),{width:M.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:S,height:x}=this._getTextSize(this.attrs.text);if(this.textWidth=S,this.textHeight=x,this.glyphInfo=[],!this.attrs.data)return null;const w=this.letterSpacing(),M=this.align(),D=this.kerningFunc(),T=Math.max(this.textWidth+((this.attrs.text||"").length-1)*w,0);let O=0;M==="center"&&(O=Math.max(0,this.pathLength/2-T/2)),M==="right"&&(O=Math.max(0,this.pathLength-T));const R=(0,r.stringToArray)(this.text());let z=O;for(let H=0;H<R.length;H++){const V=this._getPointAtLength(z);if(!V)return;let P=this._getTextSize(R[H]).width+w;if(R[H]===" "&&M==="justify"){const U=this.text().split(" ").length-1;P+=(this.pathLength-T)/U}const K=this._getPointAtLength(z+P);if(!K)return;const B=n.Path.getLineLength(V.x,V.y,K.x,K.y);let Y=0;if(D)try{Y=D(R[H-1],R[H])*this.fontSize()}catch{Y=0}V.x+=Y,K.x+=Y,this.textWidth+=Y;const Z=n.Path.getPointOnLine(Y+B/2,V.x,V.y,K.x,K.y),j=Math.atan2(K.y-V.y,K.x-V.x);this.glyphInfo.push({transposeX:Z.x,transposeY:Z.y,text:R[H],rotation:j,p0:V,p1:K}),z+=P}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const S=[];this.glyphInfo.forEach(function(z){S.push(z.p0.x),S.push(z.p0.y),S.push(z.p1.x),S.push(z.p1.y)});let x=S[0]||0,w=S[0]||0,M=S[1]||0,D=S[1]||0,T,O;for(let z=0;z<S.length/2;z++)T=S[z*2],O=S[z*2+1],x=Math.min(x,T),w=Math.max(w,T),M=Math.min(M,O),D=Math.max(D,O);const R=this.fontSize();return{x:x-R/2,y:M-R/2,width:w-x+R,height:D-M+R}}destroy(){return a.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return zd.TextPath=b,b.prototype._fillFunc=p,b.prototype._strokeFunc=v,b.prototype._fillFuncHit=p,b.prototype._strokeFuncHit=v,b.prototype.className="TextPath",b.prototype._attrsAffectingSize=["text","fontSize","data"],(0,h._registerNode)(b),t.Factory.addGetterSetter(b,"data"),t.Factory.addGetterSetter(b,"fontFamily","Arial"),t.Factory.addGetterSetter(b,"fontSize",12,(0,l.getNumberValidator)()),t.Factory.addGetterSetter(b,"fontStyle",d),t.Factory.addGetterSetter(b,"align","left"),t.Factory.addGetterSetter(b,"letterSpacing",0,(0,l.getNumberValidator)()),t.Factory.addGetterSetter(b,"textBaseline","middle"),t.Factory.addGetterSetter(b,"fontVariant",d),t.Factory.addGetterSetter(b,"text",f),t.Factory.addGetterSetter(b,"textDecoration",null),t.Factory.addGetterSetter(b,"kerningFunc",null),zd}var Bd={},c5;function W8(){if(c5)return Bd;c5=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.Transformer=void 0;const a=Cn(),t=he(),e=Rn(),n=ii(),r=j_(),l=Mv(),h=le(),f=fe(),d=le(),p="tr-konva",v=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(K=>K+`.${p}`).join(" "),b="nodesRect",A=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],S={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},x="ontouchstart"in h.Konva._global;function w(K,B,Y){if(K==="rotater")return Y;B+=a.Util.degToRad(S[K]||0);const Z=(a.Util.radToDeg(B)%360+360)%360;return a.Util._inRange(Z,315+22.5,360)||a.Util._inRange(Z,0,22.5)?"ns-resize":a.Util._inRange(Z,45-22.5,45+22.5)?"nesw-resize":a.Util._inRange(Z,90-22.5,90+22.5)?"ew-resize":a.Util._inRange(Z,135-22.5,135+22.5)?"nwse-resize":a.Util._inRange(Z,180-22.5,180+22.5)?"ns-resize":a.Util._inRange(Z,225-22.5,225+22.5)?"nesw-resize":a.Util._inRange(Z,270-22.5,270+22.5)?"ew-resize":a.Util._inRange(Z,315-22.5,315+22.5)?"nwse-resize":(a.Util.error("Transformer has unknown angle for cursor detection: "+Z),"pointer")}const M=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],D=1e8;function T(K){return{x:K.x+K.width/2*Math.cos(K.rotation)+K.height/2*Math.sin(-K.rotation),y:K.y+K.height/2*Math.cos(K.rotation)+K.width/2*Math.sin(K.rotation)}}function O(K,B,Y){const Z=Y.x+(K.x-Y.x)*Math.cos(B)-(K.y-Y.y)*Math.sin(B),j=Y.y+(K.x-Y.x)*Math.sin(B)+(K.y-Y.y)*Math.cos(B);return{...K,rotation:K.rotation+B,x:Z,y:j}}function R(K,B){const Y=T(K);return O(K,B,Y)}function z(K,B,Y){let Z=B;for(let j=0;j<K.length;j++){const U=h.Konva.getAngle(K[j]),G=Math.abs(U-B)%(Math.PI*2);Math.min(G,Math.PI*2-G)<Y&&(Z=U)}return Z}let H=0;class V extends l.Group{constructor(B){super(B),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(v,this.update),this.getNode()&&this.update()}attachTo(B){return this.setNode(B),this}setNode(B){return a.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([B])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return p+this._id}setNodes(B=[]){this._nodes&&this._nodes.length&&this.detach();const Y=B.filter(j=>j.isAncestorOf(this)?(a.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=B=Y,B.length===1&&this.useSingleNodeRotation()?this.rotation(B[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(j=>{const U=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},G=j._attrsAffectingSize.map(k=>k+"Change."+this._getEventNamespace()).join(" ");j.on(G,U),j.on(A.map(k=>k+`.${this._getEventNamespace()}`).join(" "),U),j.on(`absoluteTransformChange.${this._getEventNamespace()}`,U),this._proxyDrag(j)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(B){let Y;B.on(`dragstart.${this._getEventNamespace()}`,Z=>{Y=B.getAbsolutePosition(),!this.isDragging()&&B!==this.findOne(".back")&&this.startDrag(Z,!1)}),B.on(`dragmove.${this._getEventNamespace()}`,Z=>{if(!Y)return;const j=B.getAbsolutePosition(),U=j.x-Y.x,G=j.y-Y.y;this.nodes().forEach(k=>{if(k===B||k.isDragging())return;const X=k.getAbsolutePosition();k.setAbsolutePosition({x:X.x+U,y:X.y+G}),k.startDrag(Z)}),Y=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(B=>{B.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(b),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(b,this.__getNodeRect)}__getNodeShape(B,Y=this.rotation(),Z){const j=B.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),U=B.getAbsoluteScale(Z),G=B.getAbsolutePosition(Z),k=j.x*U.x-B.offsetX()*U.x,X=j.y*U.y-B.offsetY()*U.y,I=(h.Konva.getAngle(B.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),it={x:G.x+k*Math.cos(I)+X*Math.sin(-I),y:G.y+X*Math.cos(I)+k*Math.sin(I),width:j.width*U.x,height:j.height*U.y,rotation:I};return O(it,-h.Konva.getAngle(Y),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-D,y:-D,width:0,height:0,rotation:0};const Y=[];this.nodes().map(I=>{const it=I.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),q=[{x:it.x,y:it.y},{x:it.x+it.width,y:it.y},{x:it.x+it.width,y:it.y+it.height},{x:it.x,y:it.y+it.height}],tt=I.getAbsoluteTransform();q.forEach(function(mt){const lt=tt.point(mt);Y.push(lt)})});const Z=new a.Transform;Z.rotate(-h.Konva.getAngle(this.rotation()));let j=1/0,U=1/0,G=-1/0,k=-1/0;Y.forEach(function(I){const it=Z.point(I);j===void 0&&(j=G=it.x,U=k=it.y),j=Math.min(j,it.x),U=Math.min(U,it.y),G=Math.max(G,it.x),k=Math.max(k,it.y)}),Z.invert();const X=Z.point({x:j,y:U});return{x:X.x,y:X.y,width:G-j,height:k-U,rotation:h.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),M.forEach(B=>{this._createAnchor(B)}),this._createAnchor("rotater")}_createAnchor(B){const Y=new r.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:B+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:x?10:"auto"}),Z=this;Y.on("mousedown touchstart",function(j){Z._handleMouseDown(j)}),Y.on("dragstart",j=>{Y.stopDrag(),j.cancelBubble=!0}),Y.on("dragend",j=>{j.cancelBubble=!0}),Y.on("mouseenter",()=>{const j=h.Konva.getAngle(this.rotation()),U=this.rotateAnchorCursor(),G=w(B,j,U);Y.getStage().content&&(Y.getStage().content.style.cursor=G),this._cursorChange=!0}),Y.on("mouseout",()=>{Y.getStage().content&&(Y.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(Y)}_createBack(){const B=new n.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(Y,Z){const j=Z.getParent(),U=j.padding();Y.beginPath(),Y.rect(-U,-U,Z.width()+U*2,Z.height()+U*2),Y.moveTo(Z.width()/2,-U),j.rotateEnabled()&&j.rotateLineVisible()&&Y.lineTo(Z.width()/2,-j.rotateAnchorOffset()*a.Util._sign(Z.height())-U),Y.fillStrokeShape(Z)},hitFunc:(Y,Z)=>{if(!this.shouldOverdrawWholeArea())return;const j=this.padding();Y.beginPath(),Y.rect(-j,-j,Z.width()+j*2,Z.height()+j*2),Y.fillStrokeShape(Z)}});this.add(B),this._proxyDrag(B),B.on("dragstart",Y=>{Y.cancelBubble=!0}),B.on("dragmove",Y=>{Y.cancelBubble=!0}),B.on("dragend",Y=>{Y.cancelBubble=!0}),this.on("dragmove",Y=>{this.update()})}_handleMouseDown(B){if(this._transforming)return;this._movingAnchorName=B.target.name().split(" ")[0];const Y=this._getNodeRect(),Z=Y.width,j=Y.height,U=Math.sqrt(Math.pow(Z,2)+Math.pow(j,2));this.sin=Math.abs(j/U),this.cos=Math.abs(Z/U),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const G=B.target.getAbsolutePosition(),k=B.target.getStage().getPointerPosition();this._anchorDragOffset={x:k.x-G.x,y:k.y-G.y},H++,this._fire("transformstart",{evt:B.evt,target:this.getNode()}),this._nodes.forEach(X=>{X._fire("transformstart",{evt:B.evt,target:X})})}_handleMouseMove(B){let Y,Z,j;const U=this.findOne("."+this._movingAnchorName),G=U.getStage();G.setPointersPositions(B);const k=G.getPointerPosition();let X={x:k.x-this._anchorDragOffset.x,y:k.y-this._anchorDragOffset.y};const I=U.getAbsolutePosition();this.anchorDragBoundFunc()&&(X=this.anchorDragBoundFunc()(I,X,B)),U.setAbsolutePosition(X);const it=U.getAbsolutePosition();if(I.x===it.x&&I.y===it.y)return;if(this._movingAnchorName==="rotater"){const wt=this._getNodeRect();Y=U.x()-wt.width/2,Z=-U.y()+wt.height/2;let Nt=Math.atan2(-Z,Y)+Math.PI/2;wt.height<0&&(Nt-=Math.PI);const Xt=h.Konva.getAngle(this.rotation())+Nt,It=h.Konva.getAngle(this.rotationSnapTolerance()),Ne=z(this.rotationSnaps(),Xt,It)-wt.rotation,Wt=R(wt,Ne);this._fitNodesInto(Wt,B);return}const q=this.shiftBehavior();let tt;q==="inverted"?tt=this.keepRatio()&&!B.shiftKey:q==="none"?tt=this.keepRatio():tt=this.keepRatio()||B.shiftKey;var Ct=this.centeredScaling()||B.altKey;if(this._movingAnchorName==="top-left"){if(tt){var mt=Ct?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};j=Math.sqrt(Math.pow(mt.x-U.x(),2)+Math.pow(mt.y-U.y(),2));var lt=this.findOne(".top-left").x()>mt.x?-1:1,dt=this.findOne(".top-left").y()>mt.y?-1:1;Y=j*this.cos*lt,Z=j*this.sin*dt,this.findOne(".top-left").x(mt.x-Y),this.findOne(".top-left").y(mt.y-Z)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(U.y());else if(this._movingAnchorName==="top-right"){if(tt){var mt=Ct?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};j=Math.sqrt(Math.pow(U.x()-mt.x,2)+Math.pow(mt.y-U.y(),2));var lt=this.findOne(".top-right").x()<mt.x?-1:1,dt=this.findOne(".top-right").y()>mt.y?-1:1;Y=j*this.cos*lt,Z=j*this.sin*dt,this.findOne(".top-right").x(mt.x+Y),this.findOne(".top-right").y(mt.y-Z)}var Tt=U.position();this.findOne(".top-left").y(Tt.y),this.findOne(".bottom-right").x(Tt.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(U.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(U.x());else if(this._movingAnchorName==="bottom-left"){if(tt){var mt=Ct?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};j=Math.sqrt(Math.pow(mt.x-U.x(),2)+Math.pow(U.y()-mt.y,2));var lt=mt.x<U.x()?-1:1,dt=U.y()<mt.y?-1:1;Y=j*this.cos*lt,Z=j*this.sin*dt,U.x(mt.x-Y),U.y(mt.y+Z)}Tt=U.position(),this.findOne(".top-left").x(Tt.x),this.findOne(".bottom-right").y(Tt.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(U.y());else if(this._movingAnchorName==="bottom-right"){if(tt){var mt=Ct?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};j=Math.sqrt(Math.pow(U.x()-mt.x,2)+Math.pow(U.y()-mt.y,2));var lt=this.findOne(".bottom-right").x()<mt.x?-1:1,dt=this.findOne(".bottom-right").y()<mt.y?-1:1;Y=j*this.cos*lt,Z=j*this.sin*dt,this.findOne(".bottom-right").x(mt.x+Y),this.findOne(".bottom-right").y(mt.y+Z)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var Ct=this.centeredScaling()||B.altKey;if(Ct){const wt=this.findOne(".top-left"),Nt=this.findOne(".bottom-right"),Bt=wt.x(),Xt=wt.y(),It=this.getWidth()-Nt.x(),Pt=this.getHeight()-Nt.y();Nt.move({x:-Bt,y:-Xt}),wt.move({x:It,y:Pt})}const et=this.findOne(".top-left").getAbsolutePosition();Y=et.x,Z=et.y;const rt=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),_t=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:Y,y:Z,width:rt,height:_t,rotation:h.Konva.getAngle(this.rotation())},B)}_handleMouseUp(B){this._removeEvents(B)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(B){var Y;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const Z=this.getNode();H--,this._fire("transformend",{evt:B,target:Z}),(Y=this.getLayer())===null||Y===void 0||Y.batchDraw(),Z&&this._nodes.forEach(j=>{var U;j._fire("transformend",{evt:B,target:j}),(U=j.getLayer())===null||U===void 0||U.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(B,Y){const Z=this._getNodeRect(),j=1;if(a.Util._inRange(B.width,-this.padding()*2-j,j)){this.update();return}if(a.Util._inRange(B.height,-this.padding()*2-j,j)){this.update();return}const U=new a.Transform;if(U.rotate(h.Konva.getAngle(this.rotation())),this._movingAnchorName&&B.width<0&&this._movingAnchorName.indexOf("left")>=0){const tt=U.point({x:-this.padding()*2,y:0});B.x+=tt.x,B.y+=tt.y,B.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=tt.x,this._anchorDragOffset.y-=tt.y}else if(this._movingAnchorName&&B.width<0&&this._movingAnchorName.indexOf("right")>=0){const tt=U.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=tt.x,this._anchorDragOffset.y-=tt.y,B.width+=this.padding()*2}if(this._movingAnchorName&&B.height<0&&this._movingAnchorName.indexOf("top")>=0){const tt=U.point({x:0,y:-this.padding()*2});B.x+=tt.x,B.y+=tt.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=tt.x,this._anchorDragOffset.y-=tt.y,B.height+=this.padding()*2}else if(this._movingAnchorName&&B.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const tt=U.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=tt.x,this._anchorDragOffset.y-=tt.y,B.height+=this.padding()*2}if(this.boundBoxFunc()){const tt=this.boundBoxFunc()(Z,B);tt?B=tt:a.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const G=1e7,k=new a.Transform;k.translate(Z.x,Z.y),k.rotate(Z.rotation),k.scale(Z.width/G,Z.height/G);const X=new a.Transform,I=B.width/G,it=B.height/G;this.flipEnabled()===!1?(X.translate(B.x,B.y),X.rotate(B.rotation),X.translate(B.width<0?B.width:0,B.height<0?B.height:0),X.scale(Math.abs(I),Math.abs(it))):(X.translate(B.x,B.y),X.rotate(B.rotation),X.scale(I,it));const q=X.multiply(k.invert());this._nodes.forEach(tt=>{var mt;const lt=tt.getParent().getAbsoluteTransform(),dt=tt.getTransform().copy();dt.translate(tt.offsetX(),tt.offsetY());const Tt=new a.Transform;Tt.multiply(lt.copy().invert()).multiply(q).multiply(lt).multiply(dt);const Ct=Tt.decompose();tt.setAttrs(Ct),(mt=tt.getLayer())===null||mt===void 0||mt.batchDraw()}),this.rotation(a.Util._getRotation(B.rotation)),this._nodes.forEach(tt=>{this._fire("transform",{evt:Y,target:tt}),tt._fire("transform",{evt:Y,target:tt})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(B,Y){this.findOne(B).setAttrs(Y)}update(){var B;const Y=this._getNodeRect();this.rotation(a.Util._getRotation(Y.rotation));const Z=Y.width,j=Y.height,U=this.enabledAnchors(),G=this.resizeEnabled(),k=this.padding(),X=this.anchorSize(),I=this.find("._anchor");I.forEach(q=>{q.setAttrs({width:X,height:X,offsetX:X/2,offsetY:X/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:X/2+k,offsetY:X/2+k,visible:G&&U.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:Z/2,y:0,offsetY:X/2+k,visible:G&&U.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:Z,y:0,offsetX:X/2-k,offsetY:X/2+k,visible:G&&U.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:j/2,offsetX:X/2+k,visible:G&&U.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:Z,y:j/2,offsetX:X/2-k,visible:G&&U.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:j,offsetX:X/2+k,offsetY:X/2-k,visible:G&&U.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:Z/2,y:j,offsetY:X/2-k,visible:G&&U.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:Z,y:j,offsetX:X/2-k,offsetY:X/2-k,visible:G&&U.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:Z/2,y:-this.rotateAnchorOffset()*a.Util._sign(j)-k,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:Z,height:j,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const it=this.anchorStyleFunc();it&&I.forEach(q=>{it(q)}),(B=this.getLayer())===null||B===void 0||B.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const B=this.findOne("."+this._movingAnchorName);B&&B.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),l.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return e.Node.prototype.toObject.call(this)}clone(B){return e.Node.prototype.clone.call(this,B)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Bd.Transformer=V,V.isTransforming=()=>H>0;function P(K){return K instanceof Array||a.Util.warn("enabledAnchors value should be an array"),K instanceof Array&&K.forEach(function(B){M.indexOf(B)===-1&&a.Util.warn("Unknown anchor name: "+B+". Available names are: "+M.join(", "))}),K||[]}return V.prototype.className="Transformer",(0,d._registerNode)(V),t.Factory.addGetterSetter(V,"enabledAnchors",M,P),t.Factory.addGetterSetter(V,"flipEnabled",!0,(0,f.getBooleanValidator)()),t.Factory.addGetterSetter(V,"resizeEnabled",!0),t.Factory.addGetterSetter(V,"anchorSize",10,(0,f.getNumberValidator)()),t.Factory.addGetterSetter(V,"rotateEnabled",!0),t.Factory.addGetterSetter(V,"rotateLineVisible",!0),t.Factory.addGetterSetter(V,"rotationSnaps",[]),t.Factory.addGetterSetter(V,"rotateAnchorOffset",50,(0,f.getNumberValidator)()),t.Factory.addGetterSetter(V,"rotateAnchorCursor","crosshair"),t.Factory.addGetterSetter(V,"rotationSnapTolerance",5,(0,f.getNumberValidator)()),t.Factory.addGetterSetter(V,"borderEnabled",!0),t.Factory.addGetterSetter(V,"anchorStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(V,"anchorStrokeWidth",1,(0,f.getNumberValidator)()),t.Factory.addGetterSetter(V,"anchorFill","white"),t.Factory.addGetterSetter(V,"anchorCornerRadius",0,(0,f.getNumberValidator)()),t.Factory.addGetterSetter(V,"borderStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(V,"borderStrokeWidth",1,(0,f.getNumberValidator)()),t.Factory.addGetterSetter(V,"borderDash"),t.Factory.addGetterSetter(V,"keepRatio",!0),t.Factory.addGetterSetter(V,"shiftBehavior","default"),t.Factory.addGetterSetter(V,"centeredScaling",!1),t.Factory.addGetterSetter(V,"ignoreStroke",!1),t.Factory.addGetterSetter(V,"padding",0,(0,f.getNumberValidator)()),t.Factory.addGetterSetter(V,"node"),t.Factory.addGetterSetter(V,"nodes"),t.Factory.addGetterSetter(V,"boundBoxFunc"),t.Factory.addGetterSetter(V,"anchorDragBoundFunc"),t.Factory.addGetterSetter(V,"anchorStyleFunc"),t.Factory.addGetterSetter(V,"shouldOverdrawWholeArea",!1),t.Factory.addGetterSetter(V,"useSingleNodeRotation",!0),t.Factory.backCompat(V,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Bd}var Ld={},u5;function Z8(){if(u5)return Ld;u5=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.Wedge=void 0;const a=he(),t=ii(),e=le(),n=fe(),r=le();let l=class extends t.Shape{_sceneFunc(f){f.beginPath(),f.arc(0,0,this.radius(),0,e.Konva.getAngle(this.angle()),this.clockwise()),f.lineTo(0,0),f.closePath(),f.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(f){this.radius(f/2)}setHeight(f){this.radius(f/2)}};return Ld.Wedge=l,l.prototype.className="Wedge",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(l),a.Factory.addGetterSetter(l,"radius",0,(0,n.getNumberValidator)()),a.Factory.addGetterSetter(l,"angle",0,(0,n.getNumberValidator)()),a.Factory.addGetterSetter(l,"clockwise",!1),a.Factory.backCompat(l,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Ld}var Ud={},h5;function I8(){if(h5)return Ud;h5=1,Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.Blur=void 0;const a=he(),t=Rn(),e=fe();function n(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const r=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function h(d,p){const v=d.data,b=d.width,A=d.height;let S,x,w,M,D,T,O,R,z,H,V,P,K,B,Y,Z,j,U,G,k,X,I,it,q,tt=p+p+1,mt=b-1,lt=A-1,dt=p+1,Tt=dt*(dt+1)/2,Ct=new n,et=null,rt=Ct,_t=null,wt=null,Nt=r[p],Bt=l[p];for(w=1;w<tt;w++)rt=rt.next=new n,w===dt&&(et=rt);for(rt.next=Ct,O=T=0,x=0;x<A;x++){for(Z=j=U=G=R=z=H=V=0,P=dt*(k=v[T]),K=dt*(X=v[T+1]),B=dt*(I=v[T+2]),Y=dt*(it=v[T+3]),R+=Tt*k,z+=Tt*X,H+=Tt*I,V+=Tt*it,rt=Ct,w=0;w<dt;w++)rt.r=k,rt.g=X,rt.b=I,rt.a=it,rt=rt.next;for(w=1;w<dt;w++)M=T+((mt<w?mt:w)<<2),R+=(rt.r=k=v[M])*(q=dt-w),z+=(rt.g=X=v[M+1])*q,H+=(rt.b=I=v[M+2])*q,V+=(rt.a=it=v[M+3])*q,Z+=k,j+=X,U+=I,G+=it,rt=rt.next;for(_t=Ct,wt=et,S=0;S<b;S++)v[T+3]=it=V*Nt>>Bt,it!==0?(it=255/it,v[T]=(R*Nt>>Bt)*it,v[T+1]=(z*Nt>>Bt)*it,v[T+2]=(H*Nt>>Bt)*it):v[T]=v[T+1]=v[T+2]=0,R-=P,z-=K,H-=B,V-=Y,P-=_t.r,K-=_t.g,B-=_t.b,Y-=_t.a,M=O+((M=S+p+1)<mt?M:mt)<<2,Z+=_t.r=v[M],j+=_t.g=v[M+1],U+=_t.b=v[M+2],G+=_t.a=v[M+3],R+=Z,z+=j,H+=U,V+=G,_t=_t.next,P+=k=wt.r,K+=X=wt.g,B+=I=wt.b,Y+=it=wt.a,Z-=k,j-=X,U-=I,G-=it,wt=wt.next,T+=4;O+=b}for(S=0;S<b;S++){for(j=U=G=Z=z=H=V=R=0,T=S<<2,P=dt*(k=v[T]),K=dt*(X=v[T+1]),B=dt*(I=v[T+2]),Y=dt*(it=v[T+3]),R+=Tt*k,z+=Tt*X,H+=Tt*I,V+=Tt*it,rt=Ct,w=0;w<dt;w++)rt.r=k,rt.g=X,rt.b=I,rt.a=it,rt=rt.next;for(D=b,w=1;w<=p;w++)T=D+S<<2,R+=(rt.r=k=v[T])*(q=dt-w),z+=(rt.g=X=v[T+1])*q,H+=(rt.b=I=v[T+2])*q,V+=(rt.a=it=v[T+3])*q,Z+=k,j+=X,U+=I,G+=it,rt=rt.next,w<lt&&(D+=b);for(T=S,_t=Ct,wt=et,x=0;x<A;x++)M=T<<2,v[M+3]=it=V*Nt>>Bt,it>0?(it=255/it,v[M]=(R*Nt>>Bt)*it,v[M+1]=(z*Nt>>Bt)*it,v[M+2]=(H*Nt>>Bt)*it):v[M]=v[M+1]=v[M+2]=0,R-=P,z-=K,H-=B,V-=Y,P-=_t.r,K-=_t.g,B-=_t.b,Y-=_t.a,M=S+((M=x+dt)<lt?M:lt)*b<<2,R+=Z+=_t.r=v[M],z+=j+=_t.g=v[M+1],H+=U+=_t.b=v[M+2],V+=G+=_t.a=v[M+3],_t=_t.next,P+=k=wt.r,K+=X=wt.g,B+=I=wt.b,Y+=it=wt.a,Z-=k,j-=X,U-=I,G-=it,wt=wt.next,T+=b}}const f=function(p){const v=Math.round(this.blurRadius());v>0&&h(p,v)};return Ud.Blur=f,a.Factory.addGetterSetter(t.Node,"blurRadius",0,(0,e.getNumberValidator)(),a.Factory.afterSetFilter),Ud}var Gd={},f5;function J8(){if(f5)return Gd;f5=1,Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.Brighten=void 0;const a=he(),t=Rn(),e=fe(),n=function(r){let l=this.brightness()*255,h=r.data,f=h.length,d;for(d=0;d<f;d+=4)h[d]+=l,h[d+1]+=l,h[d+2]+=l};return Gd.Brighten=n,a.Factory.addGetterSetter(t.Node,"brightness",0,(0,e.getNumberValidator)(),a.Factory.afterSetFilter),Gd}var Hd={},d5;function $8(){if(d5)return Hd;d5=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.Contrast=void 0;const a=he(),t=Rn(),e=fe(),n=function(r){const l=Math.pow((this.contrast()+100)/100,2);let h=r.data,f=h.length,d=150,p=150,v=150,b;for(b=0;b<f;b+=4)d=h[b],p=h[b+1],v=h[b+2],d/=255,d-=.5,d*=l,d+=.5,d*=255,p/=255,p-=.5,p*=l,p+=.5,p*=255,v/=255,v-=.5,v*=l,v+=.5,v*=255,d=d<0?0:d>255?255:d,p=p<0?0:p>255?255:p,v=v<0?0:v>255?255:v,h[b]=d,h[b+1]=p,h[b+2]=v};return Hd.Contrast=n,a.Factory.addGetterSetter(t.Node,"contrast",0,(0,e.getNumberValidator)(),a.Factory.afterSetFilter),Hd}var kd={},g5;function tC(){if(g5)return kd;g5=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.Emboss=void 0;const a=he(),t=Rn(),e=Cn(),n=fe(),r=function(l){let h=this.embossStrength()*10,f=this.embossWhiteLevel()*255,d=this.embossDirection(),p=this.embossBlend(),v=0,b=0,A=l.data,S=l.width,x=l.height,w=S*4,M=x;switch(d){case"top-left":v=-1,b=-1;break;case"top":v=-1,b=0;break;case"top-right":v=-1,b=1;break;case"right":v=0,b=1;break;case"bottom-right":v=1,b=1;break;case"bottom":v=1,b=0;break;case"bottom-left":v=1,b=-1;break;case"left":v=0,b=-1;break;default:e.Util.error("Unknown emboss direction: "+d)}do{const D=(M-1)*w;let T=v;M+T<1&&(T=0),M+T>x&&(T=0);const O=(M-1+T)*S*4;let R=S;do{const z=D+(R-1)*4;let H=b;R+H<1&&(H=0),R+H>S&&(H=0);const V=O+(R-1+H)*4,P=A[z]-A[V],K=A[z+1]-A[V+1],B=A[z+2]-A[V+2];let Y=P;const Z=Y>0?Y:-Y,j=K>0?K:-K,U=B>0?B:-B;if(j>Z&&(Y=K),U>Z&&(Y=B),Y*=h,p){const G=A[z]+Y,k=A[z+1]+Y,X=A[z+2]+Y;A[z]=G>255?255:G<0?0:G,A[z+1]=k>255?255:k<0?0:k,A[z+2]=X>255?255:X<0?0:X}else{let G=f-Y;G<0?G=0:G>255&&(G=255),A[z]=A[z+1]=A[z+2]=G}}while(--R)}while(--M)};return kd.Emboss=r,a.Factory.addGetterSetter(t.Node,"embossStrength",.5,(0,n.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(t.Node,"embossWhiteLevel",.5,(0,n.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(t.Node,"embossDirection","top-left",null,a.Factory.afterSetFilter),a.Factory.addGetterSetter(t.Node,"embossBlend",!1,null,a.Factory.afterSetFilter),kd}var Pd={},m5;function eC(){if(m5)return Pd;m5=1,Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.Enhance=void 0;const a=he(),t=Rn(),e=fe();function n(l,h,f,d,p){let v=f-h,b=p-d,A;return v===0?d+b/2:b===0?d:(A=(l-h)/v,A=b*A+d,A)}const r=function(l){let h=l.data,f=h.length,d=h[0],p=d,v,b=h[1],A=b,S,x=h[2],w=x,M,D;const T=this.enhance();if(T===0)return;for(D=0;D<f;D+=4)v=h[D+0],v<d?d=v:v>p&&(p=v),S=h[D+1],S<b?b=S:S>A&&(A=S),M=h[D+2],M<x?x=M:M>w&&(w=M);p===d&&(p=255,d=0),A===b&&(A=255,b=0),w===x&&(w=255,x=0);let O,R,z,H,V,P,K,B,Y;for(T>0?(R=p+T*(255-p),z=d-T*(d-0),V=A+T*(255-A),P=b-T*(b-0),B=w+T*(255-w),Y=x-T*(x-0)):(O=(p+d)*.5,R=p+T*(p-O),z=d+T*(d-O),H=(A+b)*.5,V=A+T*(A-H),P=b+T*(b-H),K=(w+x)*.5,B=w+T*(w-K),Y=x+T*(x-K)),D=0;D<f;D+=4)h[D+0]=n(h[D+0],d,p,z,R),h[D+1]=n(h[D+1],b,A,P,V),h[D+2]=n(h[D+2],x,w,Y,B)};return Pd.Enhance=r,a.Factory.addGetterSetter(t.Node,"enhance",0,(0,e.getNumberValidator)(),a.Factory.afterSetFilter),Pd}var Fd={},p5;function nC(){if(p5)return Fd;p5=1,Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.Grayscale=void 0;const a=function(t){let e=t.data,n=e.length,r,l;for(r=0;r<n;r+=4)l=.34*e[r]+.5*e[r+1]+.16*e[r+2],e[r]=l,e[r+1]=l,e[r+2]=l};return Fd.Grayscale=a,Fd}var Vd={},v5;function iC(){if(v5)return Vd;v5=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.HSL=void 0;const a=he(),t=Rn(),e=fe();a.Factory.addGetterSetter(t.Node,"hue",0,(0,e.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(t.Node,"saturation",0,(0,e.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(t.Node,"luminance",0,(0,e.getNumberValidator)(),a.Factory.afterSetFilter);const n=function(r){let l=r.data,h=l.length,f=1,d=Math.pow(2,this.saturation()),p=Math.abs(this.hue()+360)%360,v=this.luminance()*127,b;const A=f*d*Math.cos(p*Math.PI/180),S=f*d*Math.sin(p*Math.PI/180),x=.299*f+.701*A+.167*S,w=.587*f-.587*A+.33*S,M=.114*f-.114*A-.497*S,D=.299*f-.299*A-.328*S,T=.587*f+.413*A+.035*S,O=.114*f-.114*A+.293*S,R=.299*f-.3*A+1.25*S,z=.587*f-.586*A-1.05*S,H=.114*f+.886*A-.2*S;let V,P,K,B;for(b=0;b<h;b+=4)V=l[b+0],P=l[b+1],K=l[b+2],B=l[b+3],l[b+0]=x*V+w*P+M*K+v,l[b+1]=D*V+T*P+O*K+v,l[b+2]=R*V+z*P+H*K+v,l[b+3]=B};return Vd.HSL=n,Vd}var Yd={},y5;function aC(){if(y5)return Yd;y5=1,Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.HSV=void 0;const a=he(),t=Rn(),e=fe(),n=function(r){const l=r.data,h=l.length,f=Math.pow(2,this.value()),d=Math.pow(2,this.saturation()),p=Math.abs(this.hue()+360)%360,v=f*d*Math.cos(p*Math.PI/180),b=f*d*Math.sin(p*Math.PI/180),A=.299*f+.701*v+.167*b,S=.587*f-.587*v+.33*b,x=.114*f-.114*v-.497*b,w=.299*f-.299*v-.328*b,M=.587*f+.413*v+.035*b,D=.114*f-.114*v+.293*b,T=.299*f-.3*v+1.25*b,O=.587*f-.586*v-1.05*b,R=.114*f+.886*v-.2*b;let z,H,V,P;for(let K=0;K<h;K+=4)z=l[K+0],H=l[K+1],V=l[K+2],P=l[K+3],l[K+0]=A*z+S*H+x*V,l[K+1]=w*z+M*H+D*V,l[K+2]=T*z+O*H+R*V,l[K+3]=P};return Yd.HSV=n,a.Factory.addGetterSetter(t.Node,"hue",0,(0,e.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(t.Node,"saturation",0,(0,e.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(t.Node,"value",0,(0,e.getNumberValidator)(),a.Factory.afterSetFilter),Yd}var Xd={},b5;function rC(){if(b5)return Xd;b5=1,Object.defineProperty(Xd,"__esModule",{value:!0}),Xd.Invert=void 0;const a=function(t){let e=t.data,n=e.length,r;for(r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};return Xd.Invert=a,Xd}var qd={},_5;function sC(){if(_5)return qd;_5=1,Object.defineProperty(qd,"__esModule",{value:!0}),qd.Kaleidoscope=void 0;const a=he(),t=Rn(),e=Cn(),n=fe(),r=function(f,d,p){let v=f.data,b=d.data,A=f.width,S=f.height,x=p.polarCenterX||A/2,w=p.polarCenterY||S/2,M,D,T,O=0,R=0,z=0,H=0,V,P=Math.sqrt(x*x+w*w);D=A-x,T=S-w,V=Math.sqrt(D*D+T*T),P=V>P?V:P;let K=S,B=A,Y,Z,j=360/B*Math.PI/180,U,G;for(Z=0;Z<B;Z+=1)for(U=Math.sin(Z*j),G=Math.cos(Z*j),Y=0;Y<K;Y+=1)D=Math.floor(x+P*Y/K*G),T=Math.floor(w+P*Y/K*U),M=(T*A+D)*4,O=v[M+0],R=v[M+1],z=v[M+2],H=v[M+3],M=(Z+Y*A)*4,b[M+0]=O,b[M+1]=R,b[M+2]=z,b[M+3]=H},l=function(f,d,p){let v=f.data,b=d.data,A=f.width,S=f.height,x=p.polarCenterX||A/2,w=p.polarCenterY||S/2,M,D,T,O,R,z=0,H=0,V=0,P=0,K,B=Math.sqrt(x*x+w*w);D=A-x,T=S-w,K=Math.sqrt(D*D+T*T),B=K>B?K:B;let Y=S,Z=A,j,U,G=0,k,X;for(D=0;D<A;D+=1)for(T=0;T<S;T+=1)O=D-x,R=T-w,j=Math.sqrt(O*O+R*R)*Y/B,U=(Math.atan2(R,O)*180/Math.PI+360+G)%360,U=U*Z/360,k=Math.floor(U),X=Math.floor(j),M=(X*A+k)*4,z=v[M+0],H=v[M+1],V=v[M+2],P=v[M+3],M=(T*A+D)*4,b[M+0]=z,b[M+1]=H,b[M+2]=V,b[M+3]=P},h=function(f){const d=f.width,p=f.height;let v,b,A,S,x,w,M,D,T,O,R=Math.round(this.kaleidoscopePower());const z=Math.round(this.kaleidoscopeAngle()),H=Math.floor(d*(z%360)/360);if(R<1)return;const V=e.Util.createCanvasElement();V.width=d,V.height=p;const P=V.getContext("2d").getImageData(0,0,d,p);e.Util.releaseCanvas(V),r(f,P,{polarCenterX:d/2,polarCenterY:p/2});let K=d/Math.pow(2,R);for(;K<=8;)K=K*2,R-=1;K=Math.ceil(K);let B=K,Y=0,Z=B,j=1;for(H+K>d&&(Y=B,Z=0,j=-1),b=0;b<p;b+=1)for(v=Y;v!==Z;v+=j)A=Math.round(v+H)%d,T=(d*b+A)*4,x=P.data[T+0],w=P.data[T+1],M=P.data[T+2],D=P.data[T+3],O=(d*b+v)*4,P.data[O+0]=x,P.data[O+1]=w,P.data[O+2]=M,P.data[O+3]=D;for(b=0;b<p;b+=1)for(B=Math.floor(K),S=0;S<R;S+=1){for(v=0;v<B+1;v+=1)T=(d*b+v)*4,x=P.data[T+0],w=P.data[T+1],M=P.data[T+2],D=P.data[T+3],O=(d*b+B*2-v-1)*4,P.data[O+0]=x,P.data[O+1]=w,P.data[O+2]=M,P.data[O+3]=D;B*=2}l(P,f,{polarRotation:0})};return qd.Kaleidoscope=h,a.Factory.addGetterSetter(t.Node,"kaleidoscopePower",2,(0,n.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(t.Node,"kaleidoscopeAngle",0,(0,n.getNumberValidator)(),a.Factory.afterSetFilter),qd}var Kd={},S5;function oC(){if(S5)return Kd;S5=1,Object.defineProperty(Kd,"__esModule",{value:!0}),Kd.Mask=void 0;const a=he(),t=Rn(),e=fe();function n(A,S,x){let w=(x*A.width+S)*4;const M=[];return M.push(A.data[w++],A.data[w++],A.data[w++],A.data[w++]),M}function r(A,S){return Math.sqrt(Math.pow(A[0]-S[0],2)+Math.pow(A[1]-S[1],2)+Math.pow(A[2]-S[2],2))}function l(A){const S=[0,0,0];for(let x=0;x<A.length;x++)S[0]+=A[x][0],S[1]+=A[x][1],S[2]+=A[x][2];return S[0]/=A.length,S[1]/=A.length,S[2]/=A.length,S}function h(A,S){const x=n(A,0,0),w=n(A,A.width-1,0),M=n(A,0,A.height-1),D=n(A,A.width-1,A.height-1),T=S||10;if(r(x,w)<T&&r(w,D)<T&&r(D,M)<T&&r(M,x)<T){const O=l([w,x,D,M]),R=[];for(let z=0;z<A.width*A.height;z++){const H=r(O,[A.data[z*4],A.data[z*4+1],A.data[z*4+2]]);R[z]=H<T?0:255}return R}}function f(A,S){for(let x=0;x<A.width*A.height;x++)A.data[4*x+3]=S[x]}function d(A,S,x){const w=[1,1,1,1,0,1,1,1,1],M=Math.round(Math.sqrt(w.length)),D=Math.floor(M/2),T=[];for(let O=0;O<x;O++)for(let R=0;R<S;R++){const z=O*S+R;let H=0;for(let V=0;V<M;V++)for(let P=0;P<M;P++){const K=O+V-D,B=R+P-D;if(K>=0&&K<x&&B>=0&&B<S){const Y=K*S+B,Z=w[V*M+P];H+=A[Y]*Z}}T[z]=H===255*8?255:0}return T}function p(A,S,x){const w=[1,1,1,1,1,1,1,1,1],M=Math.round(Math.sqrt(w.length)),D=Math.floor(M/2),T=[];for(let O=0;O<x;O++)for(let R=0;R<S;R++){const z=O*S+R;let H=0;for(let V=0;V<M;V++)for(let P=0;P<M;P++){const K=O+V-D,B=R+P-D;if(K>=0&&K<x&&B>=0&&B<S){const Y=K*S+B,Z=w[V*M+P];H+=A[Y]*Z}}T[z]=H>=255*4?255:0}return T}function v(A,S,x){const w=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],M=Math.round(Math.sqrt(w.length)),D=Math.floor(M/2),T=[];for(let O=0;O<x;O++)for(let R=0;R<S;R++){const z=O*S+R;let H=0;for(let V=0;V<M;V++)for(let P=0;P<M;P++){const K=O+V-D,B=R+P-D;if(K>=0&&K<x&&B>=0&&B<S){const Y=K*S+B,Z=w[V*M+P];H+=A[Y]*Z}}T[z]=H}return T}const b=function(A){let S=this.threshold(),x=h(A,S);return x&&(x=d(x,A.width,A.height),x=p(x,A.width,A.height),x=v(x,A.width,A.height),f(A,x)),A};return Kd.Mask=b,a.Factory.addGetterSetter(t.Node,"threshold",0,(0,e.getNumberValidator)(),a.Factory.afterSetFilter),Kd}var Qd={},A5;function lC(){if(A5)return Qd;A5=1,Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.Noise=void 0;const a=he(),t=Rn(),e=fe(),n=function(r){const l=this.noise()*255,h=r.data,f=h.length,d=l/2;for(let p=0;p<f;p+=4)h[p+0]+=d-2*d*Math.random(),h[p+1]+=d-2*d*Math.random(),h[p+2]+=d-2*d*Math.random()};return Qd.Noise=n,a.Factory.addGetterSetter(t.Node,"noise",.2,(0,e.getNumberValidator)(),a.Factory.afterSetFilter),Qd}var Wd={},x5;function cC(){if(x5)return Wd;x5=1,Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.Pixelate=void 0;const a=he(),t=Cn(),e=Rn(),n=fe(),r=function(l){let h=Math.ceil(this.pixelSize()),f=l.width,d=l.height,p,v,b,A,S,x,w,M=Math.ceil(f/h),D=Math.ceil(d/h),T,O,R,z,H,V,P,K=l.data;if(h<=0){t.Util.error("pixelSize value can not be <= 0");return}for(H=0;H<M;H+=1)for(V=0;V<D;V+=1){for(A=0,S=0,x=0,w=0,T=H*h,O=T+h,R=V*h,z=R+h,P=0,p=T;p<O;p+=1)if(!(p>=f))for(v=R;v<z;v+=1)v>=d||(b=(f*v+p)*4,A+=K[b+0],S+=K[b+1],x+=K[b+2],w+=K[b+3],P+=1);for(A=A/P,S=S/P,x=x/P,w=w/P,p=T;p<O;p+=1)if(!(p>=f))for(v=R;v<z;v+=1)v>=d||(b=(f*v+p)*4,K[b+0]=A,K[b+1]=S,K[b+2]=x,K[b+3]=w)}};return Wd.Pixelate=r,a.Factory.addGetterSetter(e.Node,"pixelSize",8,(0,n.getNumberValidator)(),a.Factory.afterSetFilter),Wd}var Zd={},C5;function uC(){if(C5)return Zd;C5=1,Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.Posterize=void 0;const a=he(),t=Rn(),e=fe(),n=function(r){let l=Math.round(this.levels()*254)+1,h=r.data,f=h.length,d=255/l,p;for(p=0;p<f;p+=1)h[p]=Math.floor(h[p]/d)*d};return Zd.Posterize=n,a.Factory.addGetterSetter(t.Node,"levels",.5,(0,e.getNumberValidator)(),a.Factory.afterSetFilter),Zd}var Id={},T5;function hC(){if(T5)return Id;T5=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.RGB=void 0;const a=he(),t=Rn(),e=fe(),n=function(r){let l=r.data,h=l.length,f=this.red(),d=this.green(),p=this.blue(),v,b;for(v=0;v<h;v+=4)b=(.34*l[v]+.5*l[v+1]+.16*l[v+2])/255,l[v]=b*f,l[v+1]=b*d,l[v+2]=b*p,l[v+3]=l[v+3]};return Id.RGB=n,a.Factory.addGetterSetter(t.Node,"red",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),a.Factory.addGetterSetter(t.Node,"green",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),a.Factory.addGetterSetter(t.Node,"blue",0,e.RGBComponent,a.Factory.afterSetFilter),Id}var Jd={},E5;function fC(){if(E5)return Jd;E5=1,Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.RGBA=void 0;const a=he(),t=Rn(),e=fe(),n=function(r){const l=r.data,h=l.length,f=this.red(),d=this.green(),p=this.blue(),v=this.alpha();for(let b=0;b<h;b+=4){const A=1-v;l[b]=f*v+l[b]*A,l[b+1]=d*v+l[b+1]*A,l[b+2]=p*v+l[b+2]*A}};return Jd.RGBA=n,a.Factory.addGetterSetter(t.Node,"red",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),a.Factory.addGetterSetter(t.Node,"green",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),a.Factory.addGetterSetter(t.Node,"blue",0,e.RGBComponent,a.Factory.afterSetFilter),a.Factory.addGetterSetter(t.Node,"alpha",1,function(r){return this._filterUpToDate=!1,r>1?1:r<0?0:r}),Jd}var $d={},w5;function dC(){if(w5)return $d;w5=1,Object.defineProperty($d,"__esModule",{value:!0}),$d.Sepia=void 0;const a=function(t){let e=t.data,n=e.length,r,l,h,f;for(r=0;r<n;r+=4)l=e[r+0],h=e[r+1],f=e[r+2],e[r+0]=Math.min(255,l*.393+h*.769+f*.189),e[r+1]=Math.min(255,l*.349+h*.686+f*.168),e[r+2]=Math.min(255,l*.272+h*.534+f*.131)};return $d.Sepia=a,$d}var t0={},O5;function gC(){if(O5)return t0;O5=1,Object.defineProperty(t0,"__esModule",{value:!0}),t0.Solarize=void 0;const a=function(t){const e=t.data,n=t.width,r=t.height,l=n*4;let h=r;do{const f=(h-1)*l;let d=n;do{const p=f+(d-1)*4;let v=e[p],b=e[p+1],A=e[p+2];v>127&&(v=255-v),b>127&&(b=255-b),A>127&&(A=255-A),e[p]=v,e[p+1]=b,e[p+2]=A}while(--d)}while(--h)};return t0.Solarize=a,t0}var e0={},M5;function mC(){if(M5)return e0;M5=1,Object.defineProperty(e0,"__esModule",{value:!0}),e0.Threshold=void 0;const a=he(),t=Rn(),e=fe(),n=function(r){const l=this.threshold()*255,h=r.data,f=h.length;for(let d=0;d<f;d+=1)h[d]=h[d]<l?0:255};return e0.Threshold=n,a.Factory.addGetterSetter(t.Node,"threshold",.5,(0,e.getNumberValidator)(),a.Factory.afterSetFilter),e0}var D5;function pC(){if(D5)return md;D5=1,Object.defineProperty(md,"__esModule",{value:!0}),md.Konva=void 0;const a=X2(),t=U8(),e=H8(),n=k8(),r=P8(),l=F8(),h=V8(),f=N_(),d=Rv(),p=j_(),v=Y8(),b=X8(),A=q8(),S=K8(),x=z_(),w=Q8(),M=W8(),D=Z8(),T=I8(),O=J8(),R=$8(),z=tC(),H=eC(),V=nC(),P=iC(),K=aC(),B=rC(),Y=sC(),Z=oC(),j=lC(),U=cC(),G=uC(),k=hC(),X=fC(),I=dC(),it=gC(),q=mC();return md.Konva=a.Konva.Util._assign(a.Konva,{Arc:t.Arc,Arrow:e.Arrow,Circle:n.Circle,Ellipse:r.Ellipse,Image:l.Image,Label:h.Label,Tag:h.Tag,Line:f.Line,Path:d.Path,Rect:p.Rect,RegularPolygon:v.RegularPolygon,Ring:b.Ring,Sprite:A.Sprite,Star:S.Star,Text:x.Text,TextPath:w.TextPath,Transformer:M.Transformer,Wedge:D.Wedge,Filters:{Blur:T.Blur,Brighten:O.Brighten,Contrast:R.Contrast,Emboss:z.Emboss,Enhance:H.Enhance,Grayscale:V.Grayscale,HSL:P.HSL,HSV:K.HSV,Invert:B.Invert,Kaleidoscope:Y.Kaleidoscope,Mask:Z.Mask,Noise:j.Noise,Pixelate:U.Pixelate,Posterize:G.Posterize,RGB:k.RGB,RGBA:X.RGBA,Sepia:I.Sepia,Solarize:it.Solarize,Threshold:q.Threshold}}),md}var vC=I1.exports,R5;function yC(){if(R5)return I1.exports;R5=1,Object.defineProperty(vC,"__esModule",{value:!0});const a=pC();return I1.exports=a.Konva,I1.exports}yC();var y1={exports:{}},N5;function bC(){return N5||(N5=1,function(a,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var e=X2();Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return e.Konva}});const n=X2();a.exports=n.Konva}(y1,y1.exports)),y1.exports}var _C=bC();const g0=jm(_C);var h2={exports:{}},f2={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5;function SC(){return j5||(j5=1,function(a){a.exports=function(t){function e(o,c,m,_){return new fg(o,c,m,_)}function n(){}function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(o){return o===null||typeof o!="object"?null:(o=Ce&&o[Ce]||o["@@iterator"],typeof o=="function"?o:null)}function h(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===yn?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ps:return"Fragment";case Xa:return"Portal";case vs:return"Profiler";case so:return"StrictMode";case Ar:return"Suspense";case Uc:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case ys:return(o.displayName||"Context")+".Provider";case wf:return(o._context.displayName||"Context")+".Consumer";case Fu:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case dl:return c=o.displayName||null,c!==null?c:h(o.type)||"Memo";case xr:c=o._payload,o=o._init;try{return h(o(c))}catch{}}return null}function f(o){if(bs===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);bs=c&&c[1]||"",_s=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bs+o+_s}function d(o,c){if(!o||gl)return"";gl=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(c){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(Qt){var Dt=Qt}Reflect.construct(o,[],jt)}else{try{jt.call()}catch(Qt){Dt=Qt}o.call(jt.prototype)}}else{try{throw Error()}catch(Qt){Dt=Qt}(jt=o())&&typeof jt.catch=="function"&&jt.catch(function(){})}}catch(Qt){if(Qt&&Dt&&typeof Qt.stack=="string")return[Qt.stack,Dt.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=_.DetermineComponentFrameRoot(),W=N[0],nt=N[1];if(W&&nt){var ft=W.split(`
`),At=nt.split(`
`);for(E=_=0;_<ft.length&&!ft[_].includes("DetermineComponentFrameRoot");)_++;for(;E<At.length&&!At[E].includes("DetermineComponentFrameRoot");)E++;if(_===ft.length||E===At.length)for(_=ft.length-1,E=At.length-1;1<=_&&0<=E&&ft[_]!==At[E];)E--;for(;1<=_&&0<=E;_--,E--)if(ft[_]!==At[E]){if(_!==1||E!==1)do if(_--,E--,0>E||ft[_]!==At[E]){var Rt=`
`+ft[_].replace(" at new "," at ");return o.displayName&&Rt.includes("<anonymous>")&&(Rt=Rt.replace("<anonymous>",o.displayName)),Rt}while(1<=_&&0<=E);break}}}finally{gl=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?f(m):""}function p(o){switch(o.tag){case 26:case 27:case 5:return f(o.type);case 16:return f("Lazy");case 13:return f("Suspense");case 19:return f("SuspenseList");case 0:case 15:return o=d(o.type,!1),o;case 11:return o=d(o.type.render,!1),o;case 1:return o=d(o.type,!0),o;default:return""}}function v(o){try{var c="";do c+=p(o),o=o.return;while(o);return c}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function b(o){var c=o,m=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,c.flags&4098&&(m=c.return),o=c.return;while(o)}return c.tag===3?m:null}function A(o){if(b(o)!==o)throw Error(r(188))}function S(o){var c=o.alternate;if(!c){if(c=b(o),c===null)throw Error(r(188));return c!==o?null:o}for(var m=o,_=c;;){var E=m.return;if(E===null)break;var N=E.alternate;if(N===null){if(_=E.return,_!==null){m=_;continue}break}if(E.child===N.child){for(N=E.child;N;){if(N===m)return A(E),o;if(N===_)return A(E),c;N=N.sibling}throw Error(r(188))}if(m.return!==_.return)m=E,_=N;else{for(var W=!1,nt=E.child;nt;){if(nt===m){W=!0,m=E,_=N;break}if(nt===_){W=!0,_=E,m=N;break}nt=nt.sibling}if(!W){for(nt=N.child;nt;){if(nt===m){W=!0,m=N,_=E;break}if(nt===_){W=!0,_=N,m=E;break}nt=nt.sibling}if(!W)throw Error(r(189))}}if(m.alternate!==_)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?o:c}function x(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=x(o),c!==null)return c;o=o.sibling}return null}function w(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(o.tag!==4&&(c=w(o),c!==null))return c;o=o.sibling}return null}function M(o){return{current:o}}function D(o){0>Cs||(o.current=eh[Cs],eh[Cs]=null,Cs--)}function T(o,c){Cs++,eh[Cs]=o.current,o.current=c}function O(o){return o>>>=0,o===0?32:31-(If(o)/Sp|0)|0}function R(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function z(o,c){var m=o.pendingLanes;if(m===0)return 0;var _=0,E=o.suspendedLanes,N=o.pingedLanes,W=o.warmLanes;o=o.finishedLanes!==0;var nt=m&134217727;return nt!==0?(m=nt&~E,m!==0?_=R(m):(N&=nt,N!==0?_=R(N):o||(W=nt&~W,W!==0&&(_=R(W))))):(nt=m&~E,nt!==0?_=R(nt):N!==0?_=R(N):o||(W=m&~W,W!==0&&(_=R(W)))),_===0?0:c!==0&&c!==_&&!(c&E)&&(E=_&-_,W=c&-c,E>=W||E===32&&(W&4194176)!==0)?c:_}function H(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function V(o,c){switch(o){case 1:case 2:case 4:case 8:return c+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var o=Pc;return Pc<<=1,!(Pc&4194176)&&(Pc=128),o}function K(){var o=bl;return bl<<=1,!(bl&62914560)&&(bl=4194304),o}function B(o){for(var c=[],m=0;31>m;m++)c.push(o);return c}function Y(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Z(o,c,m,_,E,N){var W=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var nt=o.entanglements,ft=o.expirationTimes,At=o.hiddenUpdates;for(m=W&~m;0<m;){var Rt=31-sn(m),jt=1<<Rt;nt[Rt]=0,ft[Rt]=-1;var Dt=At[Rt];if(Dt!==null)for(At[Rt]=null,Rt=0;Rt<Dt.length;Rt++){var Qt=Dt[Rt];Qt!==null&&(Qt.lane&=-536870913)}m&=~jt}_!==0&&j(o,_,0),N!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=N&~(W&~c))}function j(o,c,m){o.pendingLanes|=c,o.suspendedLanes&=~c;var _=31-sn(c);o.entangledLanes|=c,o.entanglements[_]=o.entanglements[_]|1073741824|m&4194218}function U(o,c){var m=o.entangledLanes|=c;for(o=o.entanglements;m;){var _=31-sn(m),E=1<<_;E&c|o[_]&c&&(o[_]|=c),m&=~E}}function G(o){return o&=-o,2<o?8<o?o&134217727?32:268435456:8:2}function k(o){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Sl,o,void 0,(o.current.flags&128)===128)}catch{}}function X(o){if(typeof Zn=="function"&&ih(o),bn&&typeof bn.setStrictMode=="function")try{bn.setStrictMode(Sl,o)}catch{}}function I(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}function it(o,c){if(typeof o=="object"&&o!==null){var m=ah.get(o);return m!==void 0?m:(c={value:o,source:c,stack:v(c)},ah.set(o,c),c)}return{value:o,source:c,stack:v(c)}}function q(o,c){Ui[Gi++]=Al,Ui[Gi++]=Es,Es=o,Al=c}function tt(o,c,m){Ti[In++]=Wa,Ti[In++]=Za,Ti[In++]=Aa,Aa=o;var _=Wa;o=Za;var E=32-sn(_)-1;_&=~(1<<E),m+=1;var N=32-sn(c)+E;if(30<N){var W=E-E%5;N=(_&(1<<W)-1).toString(32),_>>=W,E-=W,Wa=1<<32-sn(c)+E|m<<E|_,Za=N+o}else Wa=1<<N|m<<E|_,Za=o}function mt(o){o.return!==null&&(q(o,1),tt(o,1,0))}function lt(o){for(;o===Es;)Es=Ui[--Gi],Ui[Gi]=null,Al=Ui[--Gi],Ui[Gi]=null;for(;o===Aa;)Aa=Ti[--In],Ti[In]=null,Za=Ti[--In],Ti[In]=null,Wa=Ti[--In],Ti[In]=null}function dt(o,c){T(Or,c),T(Ii,o),T(on,null),o=Of(c),D(on),T(on,o)}function Tt(){D(on),D(Ii),D(Or)}function Ct(o){o.memoizedState!==null&&T(Vc,o);var c=on.current,m=dg(c,o.type);c!==m&&(T(Ii,o),T(on,m))}function et(o){Ii.current===o&&(D(on),D(Ii)),Vc.current===o&&(D(Vc),ba?Tr._currentValue=lo:Tr._currentValue2=lo)}function rt(o){var c=Error(r(418,""));throw Xt(it(c,o)),Yc}function _t(o,c){if(!Ci)throw Error(r(175));ho(o.stateNode,o.type,o.memoizedProps,c,o)||rt(o)}function wt(o){for(ln=o.return;ln;)switch(ln.tag){case 3:case 27:xa=!0;return;case 5:case 13:xa=!1;return;default:ln=ln.return}}function Nt(o){if(!Ci||o!==ln)return!1;if(!pe)return wt(o),pe=!0,!1;var c=!1;if(zn?o.tag!==3&&o.tag!==27&&(o.tag!==5||Pf(o.type)&&!Fn(o.type,o.memoizedProps))&&(c=!0):o.tag!==3&&(o.tag!==5||Pf(o.type)&&!Fn(o.type,o.memoizedProps))&&(c=!0),c&&we&&rt(o),wt(o),o.tag===13){if(!Ci)throw Error(r(316));if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));we=Xg(o)}else we=ln?xs(o.stateNode):null;return!0}function Bt(){Ci&&(we=ln=null,pe=!1)}function Xt(o){Ji===null?Ji=[o]:Ji.push(o)}function It(){for(var o=Mr,c=Ca=Mr=0;c<o;){var m=Ei[c];Ei[c++]=null;var _=Ei[c];Ei[c++]=null;var E=Ei[c];Ei[c++]=null;var N=Ei[c];if(Ei[c++]=null,_!==null&&E!==null){var W=_.pending;W===null?E.next=E:(E.next=W.next,W.next=E),_.pending=E}N!==0&&Ee(m,E,N)}}function Pt(o,c,m,_){Ei[Mr++]=o,Ei[Mr++]=c,Ei[Mr++]=m,Ei[Mr++]=_,Ca|=_,o.lanes|=_,o=o.alternate,o!==null&&(o.lanes|=_)}function Ne(o,c,m,_){return Pt(o,c,m,_),Nn(o)}function Wt(o,c){return Pt(o,null,null,c),Nn(o)}function Ee(o,c,m){o.lanes|=m;var _=o.alternate;_!==null&&(_.lanes|=m);for(var E=!1,N=o.return;N!==null;)N.childLanes|=m,_=N.alternate,_!==null&&(_.childLanes|=m),N.tag===22&&(o=N.stateNode,o===null||o._visibility&1||(E=!0)),o=N,N=N.return;E&&c!==null&&o.tag===3&&(N=o.stateNode,E=31-sn(m),N=N.hiddenUpdates,o=N[E],o===null?N[E]=[c]:o.push(c),c.lane=m|536870912)}function Nn(o){if(50<_o)throw _o=0,nd=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}function He(o){o!==ws&&o.next===null&&(ws===null?ke=ws=o:ws=ws.next=o),cn=!0,rh||(rh=!0,Yi(ri))}function Xn(o,c){if(!sh&&cn){sh=!0;do for(var m=!1,_=ke;_!==null;){if(o!==0){var E=_.pendingLanes;if(E===0)var N=0;else{var W=_.suspendedLanes,nt=_.pingedLanes;N=(1<<31-sn(42|o)+1)-1,N&=E&~(W&~nt),N=N&201326677?N&201326677|1:N?N|2:0}N!==0&&(m=!0,si(_,N))}else N=se,N=z(_,_===Me?N:0),!(N&3)||H(_,N)||(m=!0,si(_,N));_=_.next}while(m);sh=!1}}function ri(){cn=rh=!1;var o=0;xl!==0&&(vg()&&(o=xl),xl=0);for(var c=Li(),m=null,_=ke;_!==null;){var E=_.next,N=Qe(_,c);N===0?(_.next=null,m===null?ke=E:m.next=E,E===null&&(ws=m)):(m=_,(o!==0||N&3)&&(cn=!0)),_=E}Xn(o)}function Qe(o,c){for(var m=o.suspendedLanes,_=o.pingedLanes,E=o.expirationTimes,N=o.pendingLanes&-62914561;0<N;){var W=31-sn(N),nt=1<<W,ft=E[W];ft===-1?(!(nt&m)||nt&_)&&(E[W]=V(nt,c)):ft<=c&&(o.expiredLanes|=nt),N&=~nt}if(c=Me,m=se,m=z(o,o===c?m:0),_=o.callbackNode,m===0||o===c&&Te===2||o.cancelPendingCommit!==null)return _!==null&&_!==null&&Sa(_),o.callbackNode=null,o.callbackPriority=0;if(!(m&3)||H(o,m)){if(c=m&-m,c===o.callbackPriority)return c;switch(_!==null&&Sa(_),G(m)){case 2:case 8:m=Fc;break;case 32:m=_l;break;case 268435456:m=go;break;default:m=_l}return _=tn.bind(null,o),m=Qa(m,_),o.callbackPriority=c,o.callbackNode=m,c}return _!==null&&_!==null&&Sa(_),o.callbackPriority=2,o.callbackNode=null,2}function tn(o,c){var m=o.callbackNode;if(fs()&&o.callbackNode!==m)return null;var _=se;return _=z(o,o===Me?_:0),_===0?null:(ji(o,_,c),Qe(o,Li()),o.callbackNode!=null&&o.callbackNode===m?tn.bind(null,o):null)}function si(o,c){if(fs())return null;ji(o,c,!0)}function Yi(o){Sg?Ag(function(){re&6?Qa(nh,o):o()}):Qa(nh,o)}function en(){return xl===0&&(xl=P()),xl}function qn(o,c){if(Cl===null){var m=Cl=[];oh=0,Pe=en(),Bn={status:"pending",value:void 0,then:function(_){m.push(_)}}}return oh++,c.then(ma,ma),c}function ma(){if(--oh===0&&Cl!==null){Bn!==null&&(Bn.status="fulfilled");var o=Cl;Cl=null,Pe=0,Bn=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function Di(o,c){var m=[],_={status:"pending",value:null,reason:null,then:function(E){m.push(E)}};return o.then(function(){_.status="fulfilled",_.value=c;for(var E=0;E<m.length;E++)(0,m[E])(c)},function(E){for(_.status="rejected",_.reason=E,E=0;E<m.length;E++)(0,m[E])(void 0)}),_}function Ba(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function mn(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function xe(o,c,m){var _=o.updateQueue;if(_===null)return null;if(_=_.shared,re&2){var E=_.pending;return E===null?c.next=c:(c.next=E.next,E.next=c),_.pending=c,c=Nn(o),Ee(o,null,m),c}return Pt(o,_,c,m),Nn(o)}function Xi(o,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194176)!==0)){var _=c.lanes;_&=o.pendingLanes,m|=_,c.lanes=m,U(o,m)}}function qi(o,c){var m=o.updateQueue,_=o.alternate;if(_!==null&&(_=_.updateQueue,m===_)){var E=null,N=null;if(m=m.firstBaseUpdate,m!==null){do{var W={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};N===null?E=N=W:N=N.next=W,m=m.next}while(m!==null);N===null?E=N=c:N=N.next=c}else E=N=c;m={baseState:_.baseState,firstBaseUpdate:E,lastBaseUpdate:N,shared:_.shared,callbacks:_.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=c}function Gn(){if(lh){var o=Bn;if(o!==null)throw o}}function tc(o,c,m,_){lh=!1;var E=o.updateQueue;Jn=!1;var N=E.firstBaseUpdate,W=E.lastBaseUpdate,nt=E.shared.pending;if(nt!==null){E.shared.pending=null;var ft=nt,At=ft.next;ft.next=null,W===null?N=At:W.next=At,W=ft;var Rt=o.alternate;Rt!==null&&(Rt=Rt.updateQueue,nt=Rt.lastBaseUpdate,nt!==W&&(nt===null?Rt.firstBaseUpdate=At:nt.next=At,Rt.lastBaseUpdate=ft))}if(N!==null){var jt=E.baseState;W=0,Rt=At=ft=null,nt=N;do{var Dt=nt.lane&-536870913,Qt=Dt!==nt.lane;if(Qt?(se&Dt)===Dt:(_&Dt)===Dt){Dt!==0&&Dt===Pe&&(lh=!0),Rt!==null&&(Rt=Rt.next={lane:0,tag:nt.tag,payload:nt.payload,callback:null,next:null});t:{var sa=o,Dl=nt;Dt=c;var So=m;switch(Dl.tag){case 1:if(sa=Dl.payload,typeof sa=="function"){jt=sa.call(So,jt,Dt);break t}jt=sa;break t;case 3:sa.flags=sa.flags&-65537|128;case 0:if(sa=Dl.payload,Dt=typeof sa=="function"?sa.call(So,jt,Dt):sa,Dt==null)break t;jt=an({},jt,Dt);break t;case 2:Jn=!0}}Dt=nt.callback,Dt!==null&&(o.flags|=64,Qt&&(o.flags|=8192),Qt=E.callbacks,Qt===null?E.callbacks=[Dt]:Qt.push(Dt))}else Qt={lane:Dt,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},Rt===null?(At=Rt=Qt,ft=jt):Rt=Rt.next=Qt,W|=Dt;if(nt=nt.next,nt===null){if(nt=E.shared.pending,nt===null)break;Qt=nt,nt=Qt.next,Qt.next=null,E.lastBaseUpdate=Qt,E.shared.pending=null}}while(!0);Rt===null&&(ft=jt),E.baseState=ft,E.firstBaseUpdate=At,E.lastBaseUpdate=Rt,N===null&&(E.shared.lanes=0),aa|=W,o.lanes=W,o.memoizedState=jt}}function N0(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function j0(o,c){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)N0(m[o],c)}function Xs(o,c){if(ui(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var m=Object.keys(o),_=Object.keys(c);if(m.length!==_.length)return!1;for(_=0;_<m.length;_++){var E=m[_];if(!$g.call(c,E)||!ui(o[E],c[E]))return!1}return!0}function ec(o){return o=o.status,o==="fulfilled"||o==="rejected"}function La(){}function nc(o,c,m){switch(m=o[m],m===void 0?o.push(c):m!==c&&(c.then(La,La),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,o===Xc?Error(r(483)):o;default:if(typeof c.status=="string")c.then(La,La);else{if(o=Me,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(_){if(c.status==="pending"){var E=c;E.status="fulfilled",E.value=_}},function(_){if(c.status==="pending"){var E=c;E.status="rejected",E.reason=_}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,o===Xc?Error(r(483)):o}throw $n=c,Xc}}function Xo(){if($n===null)throw Error(r(459));var o=$n;return $n=null,o}function gu(o){var c=ti;return ti+=1,mo===null&&(mo=[]),nc(mo,o,c)}function qo(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function ic(o,c){throw c.$$typeof===Ef?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function mu(o){var c=o._init;return c(o._payload)}function Ko(o){function c(pt,ut){if(o){var yt=pt.deletions;yt===null?(pt.deletions=[ut],pt.flags|=16):yt.push(ut)}}function m(pt,ut){if(!o)return null;for(;ut!==null;)c(pt,ut),ut=ut.sibling;return null}function _(pt){for(var ut=new Map;pt!==null;)pt.key!==null?ut.set(pt.key,pt):ut.set(pt.index,pt),pt=pt.sibling;return ut}function E(pt,ut){return pt=br(pt,ut),pt.index=0,pt.sibling=null,pt}function N(pt,ut,yt){return pt.index=yt,o?(yt=pt.alternate,yt!==null?(yt=yt.index,yt<ut?(pt.flags|=33554434,ut):yt):(pt.flags|=33554434,ut)):(pt.flags|=1048576,ut)}function W(pt){return o&&pt.alternate===null&&(pt.flags|=33554434),pt}function nt(pt,ut,yt,Mt){return ut===null||ut.tag!==6?(ut=Lc(yt,pt.mode,Mt),ut.return=pt,ut):(ut=E(ut,yt),ut.return=pt,ut)}function ft(pt,ut,yt,Mt){var Ut=yt.type;return Ut===ps?Rt(pt,ut,yt.props.children,Mt,yt.key):ut!==null&&(ut.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===xr&&mu(Ut)===ut.type)?(ut=E(ut,yt.props),qo(ut,yt),ut.return=pt,ut):(ut=ro(yt.type,yt.key,yt.props,null,pt.mode,Mt),qo(ut,yt),ut.return=pt,ut)}function At(pt,ut,yt,Mt){return ut===null||ut.tag!==4||ut.stateNode.containerInfo!==yt.containerInfo||ut.stateNode.implementation!==yt.implementation?(ut=xi(yt,pt.mode,Mt),ut.return=pt,ut):(ut=E(ut,yt.children||[]),ut.return=pt,ut)}function Rt(pt,ut,yt,Mt,Ut){return ut===null||ut.tag!==7?(ut=gs(yt,pt.mode,Mt,Ut),ut.return=pt,ut):(ut=E(ut,yt),ut.return=pt,ut)}function jt(pt,ut,yt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return ut=Lc(""+ut,pt.mode,yt),ut.return=pt,ut;if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case ms:return yt=ro(ut.type,ut.key,ut.props,null,pt.mode,yt),qo(yt,ut),yt.return=pt,yt;case Xa:return ut=xi(ut,pt.mode,yt),ut.return=pt,ut;case xr:var Mt=ut._init;return ut=Mt(ut._payload),jt(pt,ut,yt)}if(Ss(ut)||l(ut))return ut=gs(ut,pt.mode,yt,null),ut.return=pt,ut;if(typeof ut.then=="function")return jt(pt,gu(ut),yt);if(ut.$$typeof===ys)return jt(pt,_c(pt,ut),yt);ic(pt,ut)}return null}function Dt(pt,ut,yt,Mt){var Ut=ut!==null?ut.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return Ut!==null?null:nt(pt,ut,""+yt,Mt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case ms:return yt.key===Ut?ft(pt,ut,yt,Mt):null;case Xa:return yt.key===Ut?At(pt,ut,yt,Mt):null;case xr:return Ut=yt._init,yt=Ut(yt._payload),Dt(pt,ut,yt,Mt)}if(Ss(yt)||l(yt))return Ut!==null?null:Rt(pt,ut,yt,Mt,null);if(typeof yt.then=="function")return Dt(pt,ut,gu(yt),Mt);if(yt.$$typeof===ys)return Dt(pt,ut,_c(pt,yt),Mt);ic(pt,yt)}return null}function Qt(pt,ut,yt,Mt,Ut){if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number"||typeof Mt=="bigint")return pt=pt.get(yt)||null,nt(ut,pt,""+Mt,Ut);if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case ms:return pt=pt.get(Mt.key===null?yt:Mt.key)||null,ft(ut,pt,Mt,Ut);case Xa:return pt=pt.get(Mt.key===null?yt:Mt.key)||null,At(ut,pt,Mt,Ut);case xr:var De=Mt._init;return Mt=De(Mt._payload),Qt(pt,ut,yt,Mt,Ut)}if(Ss(Mt)||l(Mt))return pt=pt.get(yt)||null,Rt(ut,pt,Mt,Ut,null);if(typeof Mt.then=="function")return Qt(pt,ut,yt,gu(Mt),Ut);if(Mt.$$typeof===ys)return Qt(pt,ut,yt,_c(ut,Mt),Ut);ic(ut,Mt)}return null}function sa(pt,ut,yt,Mt){for(var Ut=null,De=null,Ft=ut,ie=ut=0,ze=null;Ft!==null&&ie<yt.length;ie++){Ft.index>ie?(ze=Ft,Ft=null):ze=Ft.sibling;var ce=Dt(pt,Ft,yt[ie],Mt);if(ce===null){Ft===null&&(Ft=ze);break}o&&Ft&&ce.alternate===null&&c(pt,Ft),ut=N(ce,ut,ie),De===null?Ut=ce:De.sibling=ce,De=ce,Ft=ze}if(ie===yt.length)return m(pt,Ft),pe&&q(pt,ie),Ut;if(Ft===null){for(;ie<yt.length;ie++)Ft=jt(pt,yt[ie],Mt),Ft!==null&&(ut=N(Ft,ut,ie),De===null?Ut=Ft:De.sibling=Ft,De=Ft);return pe&&q(pt,ie),Ut}for(Ft=_(Ft);ie<yt.length;ie++)ze=Qt(Ft,pt,ie,yt[ie],Mt),ze!==null&&(o&&ze.alternate!==null&&Ft.delete(ze.key===null?ie:ze.key),ut=N(ze,ut,ie),De===null?Ut=ze:De.sibling=ze,De=ze);return o&&Ft.forEach(function(Ls){return c(pt,Ls)}),pe&&q(pt,ie),Ut}function Dl(pt,ut,yt,Mt){if(yt==null)throw Error(r(151));for(var Ut=null,De=null,Ft=ut,ie=ut=0,ze=null,ce=yt.next();Ft!==null&&!ce.done;ie++,ce=yt.next()){Ft.index>ie?(ze=Ft,Ft=null):ze=Ft.sibling;var Ls=Dt(pt,Ft,ce.value,Mt);if(Ls===null){Ft===null&&(Ft=ze);break}o&&Ft&&Ls.alternate===null&&c(pt,Ft),ut=N(Ls,ut,ie),De===null?Ut=Ls:De.sibling=Ls,De=Ls,Ft=ze}if(ce.done)return m(pt,Ft),pe&&q(pt,ie),Ut;if(Ft===null){for(;!ce.done;ie++,ce=yt.next())ce=jt(pt,ce.value,Mt),ce!==null&&(ut=N(ce,ut,ie),De===null?Ut=ce:De.sibling=ce,De=ce);return pe&&q(pt,ie),Ut}for(Ft=_(Ft);!ce.done;ie++,ce=yt.next())ce=Qt(Ft,pt,ie,ce.value,Mt),ce!==null&&(o&&ce.alternate!==null&&Ft.delete(ce.key===null?ie:ce.key),ut=N(ce,ut,ie),De===null?Ut=ce:De.sibling=ce,De=ce);return o&&Ft.forEach(function(e1){return c(pt,e1)}),pe&&q(pt,ie),Ut}function So(pt,ut,yt,Mt){if(typeof yt=="object"&&yt!==null&&yt.type===ps&&yt.key===null&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case ms:t:{for(var Ut=yt.key;ut!==null;){if(ut.key===Ut){if(Ut=yt.type,Ut===ps){if(ut.tag===7){m(pt,ut.sibling),Mt=E(ut,yt.props.children),Mt.return=pt,pt=Mt;break t}}else if(ut.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===xr&&mu(Ut)===ut.type){m(pt,ut.sibling),Mt=E(ut,yt.props),qo(Mt,yt),Mt.return=pt,pt=Mt;break t}m(pt,ut);break}else c(pt,ut);ut=ut.sibling}yt.type===ps?(Mt=gs(yt.props.children,pt.mode,Mt,yt.key),Mt.return=pt,pt=Mt):(Mt=ro(yt.type,yt.key,yt.props,null,pt.mode,Mt),qo(Mt,yt),Mt.return=pt,pt=Mt)}return W(pt);case Xa:t:{for(Ut=yt.key;ut!==null;){if(ut.key===Ut)if(ut.tag===4&&ut.stateNode.containerInfo===yt.containerInfo&&ut.stateNode.implementation===yt.implementation){m(pt,ut.sibling),Mt=E(ut,yt.children||[]),Mt.return=pt,pt=Mt;break t}else{m(pt,ut);break}else c(pt,ut);ut=ut.sibling}Mt=xi(yt,pt.mode,Mt),Mt.return=pt,pt=Mt}return W(pt);case xr:return Ut=yt._init,yt=Ut(yt._payload),So(pt,ut,yt,Mt)}if(Ss(yt))return sa(pt,ut,yt,Mt);if(l(yt)){if(Ut=l(yt),typeof Ut!="function")throw Error(r(150));return yt=Ut.call(yt),Dl(pt,ut,yt,Mt)}if(typeof yt.then=="function")return So(pt,ut,gu(yt),Mt);if(yt.$$typeof===ys)return So(pt,ut,_c(pt,yt),Mt);ic(pt,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint"?(yt=""+yt,ut!==null&&ut.tag===6?(m(pt,ut.sibling),Mt=E(ut,yt),Mt.return=pt,pt=Mt):(m(pt,ut),Mt=Lc(yt,pt.mode,Mt),Mt.return=pt,pt=Mt),W(pt)):m(pt,ut)}return function(pt,ut,yt,Mt){try{ti=0;var Ut=So(pt,ut,yt,Mt);return mo=null,Ut}catch(Ft){if(Ft===Xc)throw Ft;var De=e(29,Ft,null,pt.mode);return De.lanes=Mt,De.return=pt,De}finally{}}}function z0(o,c){o=Oa,T(Ea,o),T(Ta,c),Oa=o|c.baseLanes}function pu(){T(Ea,Oa),T(Ta,Ta.current)}function vu(){Oa=Ea.current,D(Ta),D(Ea)}function rr(o){var c=o.alternate;T(Ue,Ue.current&1),T(wi,o),$i===null&&(c===null||Ta.current!==null||c.memoizedState!==null)&&($i=o)}function Wh(o){if(o.tag===22){if(T(Ue,Ue.current),T(wi,o),$i===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&($i=o)}}else Jr()}function Jr(){T(Ue,Ue.current),T(wi,wi.current)}function Kn(o){D(wi),$i===o&&($i=null),D(Ue)}function Tn(o){for(var c=o;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||co(m)||kc(m)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function de(){throw Error(r(321))}function $r(o,c){if(c===null)return!1;for(var m=0;m<c.length&&m<o.length;m++)if(!ui(o[m],c[m]))return!1;return!0}function ac(o,c,m,_,E,N){return Dr=N,qt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Vt.H=o===null||o.memoizedState===null?jr:fi,Ms=!1,N=m(_,E),Ms=!1,po&&(N=L0(c,m,_,E)),B0(o),N}function B0(o){Vt.H=un;var c=ye!==null&&ye.next!==null;if(Dr=0,qe=ye=qt=null,Rr=!1,Tl=0,Nr=null,c)throw Error(r(300));o===null||_n||(o=o.dependencies,o!==null&&bc(o)&&(_n=!0))}function L0(o,c,m,_){qt=o;var E=0;do{if(po&&(Nr=null),Tl=0,po=!1,25<=E)throw Error(r(301));if(E+=1,qe=ye=null,o.updateQueue!=null){var N=o.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Vt.H=Rs,N=c(m,_)}while(po);return N}function U0(){var o=Vt.H,c=o.useState()[0];return c=typeof c.then=="function"?Ua(c):c,o=o.useState()[0],(ye!==null?ye.memoizedState:null)!==o&&(qt.flags|=1024),c}function qs(){var o=Ds!==0;return Ds=0,o}function rc(o,c,m){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~m}function sr(o){if(Rr){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Rr=!1}Dr=0,qe=ye=qt=null,po=!1,Tl=Ds=0,Nr=null}function En(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?qt.memoizedState=qe=o:qe=qe.next=o,qe}function Ve(){if(ye===null){var o=qt.alternate;o=o!==null?o.memoizedState:null}else o=ye.next;var c=qe===null?qt.memoizedState:qe.next;if(c!==null)qe=c,ye=o;else{if(o===null)throw qt.alternate===null?Error(r(467)):Error(r(310));ye=o,o={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},qe===null?qt.memoizedState=qe=o:qe=qe.next=o}return qe}function Ua(o){var c=Tl;return Tl+=1,Nr===null&&(Nr=[]),o=nc(Nr,o,c),c=qt,(qe===null?c.memoizedState:qe.next)===null&&(c=c.alternate,Vt.H=c===null||c.memoizedState===null?jr:fi),o}function nn(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Ua(o);if(o.$$typeof===ys)return kn(o)}throw Error(r(438,String(o)))}function yu(o){var c=null,m=qt.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var _=qt.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(c={data:_.data.map(function(E){return E.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=Jf(),qt.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(o),_=0;_<o;_++)m[_]=Jt;return c.index++,m}function Ga(o,c){return typeof c=="function"?c(o):c}function Ha(o){var c=Ve();return ts(c,ye,o)}function ts(o,c,m){var _=o.queue;if(_===null)throw Error(r(311));_.lastRenderedReducer=m;var E=o.baseQueue,N=_.pending;if(N!==null){if(E!==null){var W=E.next;E.next=N.next,N.next=W}c.baseQueue=E=N,_.pending=null}if(N=o.baseState,E===null)o.memoizedState=N;else{c=E.next;var nt=W=null,ft=null,At=c,Rt=!1;do{var jt=At.lane&-536870913;if(jt!==At.lane?(se&jt)===jt:(Dr&jt)===jt){var Dt=At.revertLane;if(Dt===0)ft!==null&&(ft=ft.next={lane:0,revertLane:0,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null}),jt===Pe&&(Rt=!0);else if((Dr&Dt)===Dt){At=At.next,Dt===Pe&&(Rt=!0);continue}else jt={lane:0,revertLane:At.revertLane,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null},ft===null?(nt=ft=jt,W=N):ft=ft.next=jt,qt.lanes|=Dt,aa|=Dt;jt=At.action,Ms&&m(N,jt),N=At.hasEagerState?At.eagerState:m(N,jt)}else Dt={lane:jt,revertLane:At.revertLane,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null},ft===null?(nt=ft=Dt,W=N):ft=ft.next=Dt,qt.lanes|=jt,aa|=jt;At=At.next}while(At!==null&&At!==c);if(ft===null?W=N:ft.next=nt,!ui(N,o.memoizedState)&&(_n=!0,Rt&&(m=Bn,m!==null)))throw m;o.memoizedState=N,o.baseState=W,o.baseQueue=ft,_.lastRenderedState=N}return E===null&&(_.lanes=0),[o.memoizedState,_.dispatch]}function pa(o){var c=Ve(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=o;var _=m.dispatch,E=m.pending,N=c.memoizedState;if(E!==null){m.pending=null;var W=E=E.next;do N=o(N,W.action),W=W.next;while(W!==E);ui(N,c.memoizedState)||(_n=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),m.lastRenderedState=N}return[N,_]}function G0(o,c,m){var _=qt,E=Ve(),N=pe;if(N){if(m===void 0)throw Error(r(407));m=m()}else m=c();var W=!ui((ye||E).memoizedState,m);if(W&&(E.memoizedState=m,_n=!0),E=E.queue,uc(H0.bind(null,_,E,o),[o]),E.getSnapshot!==c||W||qe!==null&&qe.memoizedState.tag&1){if(_.flags|=2048,Ks(9,Ih.bind(null,_,E,m,c),{destroy:void 0},null),Me===null)throw Error(r(349));N||Dr&60||Zh(_,c,m)}return m}function Zh(o,c,m){o.flags|=16384,o={getSnapshot:c,value:m},c=qt.updateQueue,c===null?(c=Jf(),qt.updateQueue=c,c.stores=[o]):(m=c.stores,m===null?c.stores=[o]:m.push(o))}function Ih(o,c,m,_){c.value=m,c.getSnapshot=_,sc(c)&&oc(o)}function H0(o,c,m){return m(function(){sc(c)&&oc(o)})}function sc(o){var c=o.getSnapshot;o=o.value;try{var m=c();return!ui(o,m)}catch{return!0}}function oc(o){var c=Wt(o,2);c!==null&&Le(c,o,2)}function va(o){var c=En();if(typeof o=="function"){var m=o;if(o=m(),Ms){X(!0);try{m()}finally{X(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:o},c}function Ri(o,c,m,_){return o.baseState=m,ts(o,ye,typeof _=="function"?_:Ga)}function k0(o,c,m,_,E){if(gc(o))throw Error(r(485));if(o=c.action,o!==null){var N={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){N.listeners.push(W)}};Vt.T!==null?m(!0):N.isTransition=!1,_(N),m=c.pending,m===null?(N.next=c.pending=N,P0(c,N)):(N.next=m.next,c.pending=m.next=N)}}function P0(o,c){var m=c.action,_=c.payload,E=o.state;if(c.isTransition){var N=Vt.T,W={};Vt.T=W;try{var nt=m(E,_),ft=Vt.S;ft!==null&&ft(W,nt),lc(o,c,nt)}catch(At){Qo(o,c,At)}finally{Vt.T=N}}else try{N=m(E,_),lc(o,c,N)}catch(At){Qo(o,c,At)}}function lc(o,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(_){Jh(o,c,_)},function(_){return Qo(o,c,_)}):Jh(o,c,m)}function Jh(o,c,m){c.status="fulfilled",c.value=m,F0(c),o.state=m,c=o.pending,c!==null&&(m=c.next,m===c?o.pending=null:(m=m.next,c.next=m,P0(o,m)))}function Qo(o,c,m){var _=o.pending;if(o.pending=null,_!==null){_=_.next;do c.status="rejected",c.reason=m,F0(c),c=c.next;while(c!==_)}o.action=null}function F0(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function Ni(o,c){return c}function bu(o,c){if(pe){var m=Me.formState;if(m!==null){t:{var _=qt;if(pe){if(we){var E=Pg(we,xa);if(E){we=xs(E),_=Ka(E);break t}}rt(_)}_=!1}_&&(c=m[0])}}m=En(),m.memoizedState=m.baseState=c,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:c},m.queue=_,m=rf.bind(null,qt,_),_.dispatch=m,_=va(!1);var N=Jo.bind(null,qt,!1,_.queue);return _=En(),E={state:c,dispatch:null,action:o,pending:null},_.queue=E,m=k0.bind(null,qt,E,N,m),E.dispatch=m,_.memoizedState=o,[c,m,!1]}function $h(o){var c=Ve();return _u(c,ye,o)}function _u(o,c,m){c=ts(o,c,Ni)[0],o=Ha(Ga)[0],c=typeof c=="object"&&c!==null&&typeof c.then=="function"?Ua(c):c;var _=Ve(),E=_.queue,N=E.dispatch;return m!==_.memoizedState&&(qt.flags|=2048,Ks(9,Wo.bind(null,E,m),{destroy:void 0},null)),[c,N,o]}function Wo(o,c){o.action=c}function tf(o){var c=Ve(),m=ye;if(m!==null)return _u(c,m,o);Ve(),c=c.memoizedState,m=Ve();var _=m.queue.dispatch;return m.memoizedState=o,[c,_,!1]}function Ks(o,c,m,_){return o={tag:o,create:c,inst:m,deps:_,next:null},c=qt.updateQueue,c===null&&(c=Jf(),qt.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=o.next=o:(_=m.next,m.next=o,o.next=_,c.lastEffect=o),o}function Qs(){return Ve().memoizedState}function Su(o,c,m,_){var E=En();qt.flags|=o,E.memoizedState=Ks(1|c,m,{destroy:void 0},_===void 0?null:_)}function cc(o,c,m,_){var E=Ve();_=_===void 0?null:_;var N=E.memoizedState.inst;ye!==null&&_!==null&&$r(_,ye.memoizedState.deps)?E.memoizedState=Ks(c,m,N,_):(qt.flags|=o,E.memoizedState=Ks(1|c,m,N,_))}function ef(o,c){Su(8390656,8,o,c)}function uc(o,c){cc(2048,8,o,c)}function V0(o,c){return cc(4,2,o,c)}function Y0(o,c){return cc(4,4,o,c)}function hc(o,c){if(typeof c=="function"){o=o();var m=c(o);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Au(o,c,m){m=m!=null?m.concat([o]):null,cc(4,4,hc.bind(null,c,o),m)}function fc(){}function Ws(o,c){var m=Ve();c=c===void 0?null:c;var _=m.memoizedState;return c!==null&&$r(c,_[1])?_[0]:(m.memoizedState=[o,c],o)}function Zs(o,c){var m=Ve();c=c===void 0?null:c;var _=m.memoizedState;if(c!==null&&$r(c,_[1]))return _[0];if(_=o(),Ms){X(!0);try{o()}finally{X(!1)}}return m.memoizedState=[_,c],_}function xu(o,c,m){return m===void 0||Dr&1073741824?o.memoizedState=c:(o.memoizedState=m,o=Mc(),qt.lanes|=o,aa|=o,m)}function Cu(o,c,m,_){return ui(m,c)?m:Ta.current!==null?(o=xu(o,m,_),ui(o,c)||(_n=!0),o):Dr&42?(o=Mc(),qt.lanes|=o,aa|=o,c):(_n=!0,o.memoizedState=m)}function nf(o,c,m,_,E){var N=As();ci(N!==0&&8>N?N:8);var W=Vt.T,nt={};Vt.T=nt,Jo(o,!1,c,m);try{var ft=E(),At=Vt.S;if(At!==null&&At(nt,ft),ft!==null&&typeof ft=="object"&&typeof ft.then=="function"){var Rt=Di(ft,_);es(o,c,Rt,Qn(o))}else es(o,c,_,Qn(o))}catch(jt){es(o,c,{then:function(){},status:"rejected",reason:jt},Qn())}finally{ci(N),Vt.T=W}}function Zo(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:lo,baseState:lo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:lo},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:m},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function dc(){return kn(Tr)}function Io(){return Ve().memoizedState}function or(){return Ve().memoizedState}function af(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var m=Qn();o=mn(m);var _=xe(c,o,m);_!==null&&(Le(_,c,m),Xi(_,c,m)),c={cache:rs()},o.payload=c;return}c=c.return}}function Tu(o,c,m){var _=Qn();m={lane:_,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},gc(o)?oi(c,m):(m=Ne(o,c,m,_),m!==null&&(Le(m,o,_),ns(m,c,_)))}function rf(o,c,m){var _=Qn();es(o,c,m,_)}function es(o,c,m,_){var E={lane:_,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(gc(o))oi(c,E);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var W=c.lastRenderedState,nt=N(W,m);if(E.hasEagerState=!0,E.eagerState=nt,ui(nt,W))return Pt(o,c,E,0),Me===null&&It(),!1}catch{}finally{}if(m=Ne(o,c,E,_),m!==null)return Le(m,o,_),ns(m,c,_),!0}return!1}function Jo(o,c,m,_){if(_={lane:2,revertLane:en(),action:_,hasEagerState:!1,eagerState:null,next:null},gc(o)){if(c)throw Error(r(479))}else c=Ne(o,m,_,2),c!==null&&Le(c,o,2)}function gc(o){var c=o.alternate;return o===qt||c!==null&&c===qt}function oi(o,c){po=Rr=!0;var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}function ns(o,c,m){if(m&4194176){var _=c.lanes;_&=o.pendingLanes,m|=_,c.lanes=m,U(o,m)}}function $o(o,c,m,_){c=o.memoizedState,m=m(_,c),m=m==null?c:an({},c,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}function tl(o,c,m,_,E,N,W){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(_,N,W):c.prototype&&c.prototype.isPureReactComponent?!Xs(m,_)||!Xs(E,N):!0}function X0(o,c,m,_){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,_),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,_),c.state!==o&&El.enqueueReplaceState(c,c.state,null)}function lr(o,c){var m=c;if("ref"in c){m={};for(var _ in c)_!=="ref"&&(m[_]=c[_])}if(o=o.defaultProps){m===c&&(m=an({},m));for(var E in o)m[E]===void 0&&(m[E]=o[E])}return m}function el(o,c){try{var m=o.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(_){setTimeout(function(){throw _})}}function nl(o,c,m){try{var _=o.onCaughtError;_(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function il(o,c,m){return m=mn(m),m.tag=3,m.payload={element:null},m.callback=function(){el(o,c)},m}function sf(o){return o=mn(o),o.tag=3,o}function q0(o,c,m,_){var E=m.type.getDerivedStateFromError;if(typeof E=="function"){var N=_.value;o.payload=function(){return E(N)},o.callback=function(){nl(c,m,_)}}var W=m.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(o.callback=function(){nl(c,m,_),typeof E!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var nt=_.stack;this.componentDidCatch(_.value,{componentStack:nt!==null?nt:""})})}function up(o,c,m,_,E){if(m.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(c=m.alternate,c!==null&&yc(c,m,E,!0),m=wi.current,m!==null){switch(m.tag){case 13:return $i===null?Zi():m.alternate===null&&Ke===0&&(Ke=3),m.flags&=-257,m.flags|=65536,m.lanes=E,_===hi?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([_]):c.add(_),ds(o,_,E)),!1;case 22:return m.flags|=65536,_===hi?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([_])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([_]):m.add(_)),ds(o,_,E)),!1}throw Error(r(435,m.tag))}return ds(o,_,E),Zi(),!1}if(pe)return c=wi.current,c!==null?(!(c.flags&65536)&&(c.flags|=256),c.flags|=65536,c.lanes=E,_!==Yc&&(o=Error(r(422),{cause:_}),Xt(it(o,m)))):(_!==Yc&&(c=Error(r(423),{cause:_}),Xt(it(c,m))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,_=it(_,m),E=il(o.stateNode,_,E),qi(o,E),Ke!==4&&(Ke=2)),!1;var N=Error(r(520),{cause:_});if(N=it(N,m),Ol===null?Ol=[N]:Ol.push(N),Ke!==4&&(Ke=2),c===null)return!0;_=it(_,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,o=E&-E,m.lanes|=o,o=il(m.stateNode,_,o),qi(m,o),!1;case 1:if(c=m.type,N=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(tr===null||!tr.has(N))))return m.flags|=65536,E&=-E,m.lanes|=E,E=sf(E),q0(E,o,m,_),qi(m,E),!1}m=m.return}while(m!==null);return!1}function Hn(o,c,m,_){c.child=o===null?Ia(c,null,m,_):Os(c,o.child,m,_)}function Eu(o,c,m,_,E){m=m.render;var N=c.ref;if("ref"in _){var W={};for(var nt in _)nt!=="ref"&&(W[nt]=_[nt])}else W=_;return as(c),_=ac(o,c,m,W,N,E),nt=qs(),o!==null&&!_n?(rc(o,c,E),cr(o,c,E)):(pe&&nt&&mt(c),c.flags|=1,Hn(o,c,_,E),c.child)}function K0(o,c,m,_,E){if(o===null){var N=m.type;return typeof N=="function"&&!yr(N)&&N.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=N,Q0(o,c,N,_,E)):(o=ro(m.type,null,_,c,c.mode,E),o.ref=c.ref,o.return=c,c.child=o)}if(N=o.child,!hf(o,E)){var W=N.memoizedProps;if(m=m.compare,m=m!==null?m:Xs,m(W,_)&&o.ref===c.ref)return cr(o,c,E)}return c.flags|=1,o=br(N,_),o.ref=c.ref,o.return=c,c.child=o}function Q0(o,c,m,_,E){if(o!==null){var N=o.memoizedProps;if(Xs(N,_)&&o.ref===c.ref)if(_n=!1,c.pendingProps=_=N,hf(o,E))o.flags&131072&&(_n=!0);else return c.lanes=o.lanes,cr(o,c,E)}return wu(o,c,m,_,E)}function W0(o,c,m){var _=c.pendingProps,E=_.children,N=(c.stateNode._pendingVisibility&2)!==0,W=o!==null?o.memoizedState:null;if(mc(o,c),_.mode==="hidden"||N){if(c.flags&128){if(_=W!==null?W.baseLanes|m:m,o!==null){for(E=c.child=o.child,N=0;E!==null;)N=N|E.lanes|E.childLanes,E=E.sibling;c.childLanes=N&~_}else c.childLanes=0,c.child=null;return Z0(o,c,_,m)}if(m&536870912)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Mu(c,W!==null?W.cachePool:null),W!==null?z0(c,W):pu(),Wh(c);else return c.lanes=c.childLanes=536870912,Z0(o,c,W!==null?W.baseLanes|m:m,m)}else W!==null?(Mu(c,W.cachePool),z0(c,W),Jr(),c.memoizedState=null):(o!==null&&Mu(c,null),pu(),Jr());return Hn(o,c,E,m),c.child}function Z0(o,c,m,_){var E=df();return E=E===null?null:{parent:ba?Je._currentValue:Je._currentValue2,pool:E},c.memoizedState={baseLanes:m,cachePool:E},o!==null&&Mu(c,null),pu(),Wh(c),o!==null&&yc(o,c,_,!0),null}function mc(o,c){var m=c.ref;if(m===null)o!==null&&o.ref!==null&&(c.flags|=2097664);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(o===null||o.ref!==m)&&(c.flags|=2097664)}}function wu(o,c,m,_,E){return as(c),m=ac(o,c,m,_,void 0,E),_=qs(),o!==null&&!_n?(rc(o,c,E),cr(o,c,E)):(pe&&_&&mt(c),c.flags|=1,Hn(o,c,m,E),c.child)}function I0(o,c,m,_,E,N){return as(c),c.updateQueue=null,m=L0(c,_,m,E),B0(o),_=qs(),o!==null&&!_n?(rc(o,c,N),cr(o,c,N)):(pe&&_&&mt(c),c.flags|=1,Hn(o,c,m,N),c.child)}function J0(o,c,m,_,E){if(as(c),c.stateNode===null){var N=fo,W=m.contextType;typeof W=="object"&&W!==null&&(N=kn(W)),N=new m(_,N),c.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=El,c.stateNode=N,N._reactInternals=c,N=c.stateNode,N.props=_,N.state=c.memoizedState,N.refs={},Ba(c),W=m.contextType,N.context=typeof W=="object"&&W!==null?kn(W):fo,N.state=c.memoizedState,W=m.getDerivedStateFromProps,typeof W=="function"&&($o(c,m,W,_),N.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(W=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),W!==N.state&&El.enqueueReplaceState(N,N.state,null),tc(c,_,N,E),Gn(),N.state=c.memoizedState),typeof N.componentDidMount=="function"&&(c.flags|=4194308),_=!0}else if(o===null){N=c.stateNode;var nt=c.memoizedProps,ft=lr(m,nt);N.props=ft;var At=N.context,Rt=m.contextType;W=fo,typeof Rt=="object"&&Rt!==null&&(W=kn(Rt));var jt=m.getDerivedStateFromProps;Rt=typeof jt=="function"||typeof N.getSnapshotBeforeUpdate=="function",nt=c.pendingProps!==nt,Rt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(nt||At!==W)&&X0(c,N,_,W),Jn=!1;var Dt=c.memoizedState;N.state=Dt,tc(c,_,N,E),Gn(),At=c.memoizedState,nt||Dt!==At||Jn?(typeof jt=="function"&&($o(c,m,jt,_),At=c.memoizedState),(ft=Jn||tl(c,m,ft,_,Dt,At,W))?(Rt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(c.flags|=4194308)):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=_,c.memoizedState=At),N.props=_,N.state=At,N.context=W,_=ft):(typeof N.componentDidMount=="function"&&(c.flags|=4194308),_=!1)}else{N=c.stateNode,Qh(o,c),W=c.memoizedProps,Rt=lr(m,W),N.props=Rt,jt=c.pendingProps,Dt=N.context,At=m.contextType,ft=fo,typeof At=="object"&&At!==null&&(ft=kn(At)),nt=m.getDerivedStateFromProps,(At=typeof nt=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(W!==jt||Dt!==ft)&&X0(c,N,_,ft),Jn=!1,Dt=c.memoizedState,N.state=Dt,tc(c,_,N,E),Gn();var Qt=c.memoizedState;W!==jt||Dt!==Qt||Jn||o!==null&&o.dependencies!==null&&bc(o.dependencies)?(typeof nt=="function"&&($o(c,m,nt,_),Qt=c.memoizedState),(Rt=Jn||tl(c,m,Rt,_,Dt,Qt,ft)||o!==null&&o.dependencies!==null&&bc(o.dependencies))?(At||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(_,Qt,ft),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(_,Qt,ft)),typeof N.componentDidUpdate=="function"&&(c.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof N.componentDidUpdate!="function"||W===o.memoizedProps&&Dt===o.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||W===o.memoizedProps&&Dt===o.memoizedState||(c.flags|=1024),c.memoizedProps=_,c.memoizedState=Qt),N.props=_,N.state=Qt,N.context=ft,_=Rt):(typeof N.componentDidUpdate!="function"||W===o.memoizedProps&&Dt===o.memoizedState||(c.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||W===o.memoizedProps&&Dt===o.memoizedState||(c.flags|=1024),_=!1)}return N=_,mc(o,c),_=(c.flags&128)!==0,N||_?(N=c.stateNode,m=_&&typeof m.getDerivedStateFromError!="function"?null:N.render(),c.flags|=1,o!==null&&_?(c.child=Os(c,o.child,null,E),c.child=Os(c,null,m,E)):Hn(o,c,m,E),c.memoizedState=N.state,o=c.child):o=cr(o,c,E),o}function $0(o,c,m,_){return Bt(),c.flags|=256,Hn(o,c,m,_),c.child}function of(o){return{baseLanes:o,cachePool:gf()}}function pc(o,c,m){return o=o!==null?o.childLanes&~m:0,c&&(o|=Hi),o}function tg(o,c,m){var _=c.pendingProps,E=!1,N=(c.flags&128)!==0,W;if((W=N)||(W=o!==null&&o.memoizedState===null?!1:(Ue.current&2)!==0),W&&(E=!0,c.flags&=-129),W=(c.flags&32)!==0,c.flags&=-33,o===null){if(pe){if(E?rr(c):Jr(),pe){var nt=we,ft;(ft=nt)&&(nt=Vg(nt,xa),nt!==null?(c.memoizedState={dehydrated:nt,treeContext:Aa!==null?{id:Wa,overflow:Za}:null,retryLane:536870912},ft=e(18,null,null,0),ft.stateNode=nt,ft.return=c,c.child=ft,ln=c,we=null,ft=!0):ft=!1),ft||rt(c)}if(nt=c.memoizedState,nt!==null&&(nt=nt.dehydrated,nt!==null))return kc(nt)?c.lanes=16:c.lanes=536870912,null;Kn(c)}return nt=_.children,_=_.fallback,E?(Jr(),E=c.mode,nt=cf({mode:"hidden",children:nt},E),_=gs(_,E,m,null),nt.return=c,_.return=c,nt.sibling=_,c.child=nt,E=c.child,E.memoizedState=of(m),E.childLanes=pc(o,W,m),c.memoizedState=Kc,_):(rr(c),lf(c,nt))}if(ft=o.memoizedState,ft!==null&&(nt=ft.dehydrated,nt!==null)){if(N)c.flags&256?(rr(c),c.flags&=-257,c=Ou(o,c,m)):c.memoizedState!==null?(Jr(),c.child=o.child,c.flags|=128,c=null):(Jr(),E=_.fallback,nt=c.mode,_=cf({mode:"visible",children:_.children},nt),E=gs(E,nt,m,null),E.flags|=2,_.return=c,E.return=c,_.sibling=E,c.child=_,Os(c,o.child,null,m),_=c.child,_.memoizedState=of(m),_.childLanes=pc(o,W,m),c.memoizedState=Kc,c=E);else if(rr(c),kc(nt))W=Zu(nt).digest,_=Error(r(419)),_.stack="",_.digest=W,Xt({value:_,source:null,stack:null}),c=Ou(o,c,m);else if(_n||yc(o,c,m,!1),W=(m&o.childLanes)!==0,_n||W){if(W=Me,W!==null){if(_=m&-m,_&42)_=1;else switch(_){case 2:_=1;break;case 8:_=4;break;case 32:_=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:_=64;break;case 268435456:_=134217728;break;default:_=0}if(_=_&(W.suspendedLanes|m)?0:_,_!==0&&_!==ft.retryLane)throw ft.retryLane=_,Wt(o,_),Le(W,o,_),$f}co(nt)||Zi(),c=Ou(o,c,m)}else co(nt)?(c.flags|=128,c.child=o.child,c=Bc.bind(null,o),kg(nt,c),c=null):(o=ft.treeContext,Ci&&(we=Gf(nt),ln=c,pe=!0,Ji=null,xa=!1,o!==null&&(Ti[In++]=Wa,Ti[In++]=Za,Ti[In++]=Aa,Wa=o.id,Za=o.overflow,Aa=c)),c=lf(c,_.children),c.flags|=4096);return c}return E?(Jr(),E=_.fallback,nt=c.mode,ft=o.child,N=ft.sibling,_=br(ft,{mode:"hidden",children:_.children}),_.subtreeFlags=ft.subtreeFlags&31457280,N!==null?E=br(N,E):(E=gs(E,nt,m,null),E.flags|=2),E.return=c,_.return=c,_.sibling=E,c.child=_,_=E,E=c.child,nt=o.child.memoizedState,nt===null?nt=of(m):(ft=nt.cachePool,ft!==null?(N=ba?Je._currentValue:Je._currentValue2,ft=ft.parent!==N?{parent:N,pool:N}:ft):ft=gf(),nt={baseLanes:nt.baseLanes|m,cachePool:ft}),E.memoizedState=nt,E.childLanes=pc(o,W,m),c.memoizedState=Kc,_):(rr(c),m=o.child,o=m.sibling,m=br(m,{mode:"visible",children:_.children}),m.return=c,m.sibling=null,o!==null&&(W=c.deletions,W===null?(c.deletions=[o],c.flags|=16):W.push(o)),c.child=m,c.memoizedState=null,m)}function lf(o,c){return c=cf({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function cf(o,c){return Pu(o,c,0,null)}function Ou(o,c,m){return Os(c,o.child,null,m),o=lf(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function eg(o,c,m){o.lanes|=c;var _=o.alternate;_!==null&&(_.lanes|=c),vc(o.return,c,m)}function uf(o,c,m,_,E){var N=o.memoizedState;N===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:_,tail:m,tailMode:E}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=_,N.tail=m,N.tailMode=E)}function ng(o,c,m){var _=c.pendingProps,E=_.revealOrder,N=_.tail;if(Hn(o,c,_.children,m),_=Ue.current,_&2)_=_&1|2,c.flags|=128;else{if(o!==null&&o.flags&128)t:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&eg(o,m,c);else if(o.tag===19)eg(o,m,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break t;for(;o.sibling===null;){if(o.return===null||o.return===c)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}_&=1}switch(T(Ue,_),E){case"forwards":for(m=c.child,E=null;m!==null;)o=m.alternate,o!==null&&Tn(o)===null&&(E=m),m=m.sibling;m=E,m===null?(E=c.child,c.child=null):(E=m.sibling,m.sibling=null),uf(c,!1,E,m,N);break;case"backwards":for(m=null,E=c.child,c.child=null;E!==null;){if(o=E.alternate,o!==null&&Tn(o)===null){c.child=E;break}o=E.sibling,E.sibling=m,m=E,E=o}uf(c,!0,m,null,N);break;case"together":uf(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function cr(o,c,m){if(o!==null&&(c.dependencies=o.dependencies),aa|=c.lanes,!(m&c.childLanes))if(o!==null){if(yc(o,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,m=br(o,o.pendingProps),c.child=m,m.return=c;o.sibling!==null;)o=o.sibling,m=m.sibling=br(o,o.pendingProps),m.return=c;m.sibling=null}return c.child}function hf(o,c){return o.lanes&c?!0:(o=o.dependencies,!!(o!==null&&bc(o)))}function hp(o,c,m){switch(c.tag){case 3:dt(c,c.stateNode.containerInfo),is(c,Je,o.memoizedState.cache),Bt();break;case 27:case 5:Ct(c);break;case 4:dt(c,c.stateNode.containerInfo);break;case 10:is(c,c.type,c.memoizedProps.value);break;case 13:var _=c.memoizedState;if(_!==null)return _.dehydrated!==null?(rr(c),c.flags|=128,null):m&c.child.childLanes?tg(o,c,m):(rr(c),o=cr(o,c,m),o!==null?o.sibling:null);rr(c);break;case 19:var E=(o.flags&128)!==0;if(_=(m&c.childLanes)!==0,_||(yc(o,c,m,!1),_=(m&c.childLanes)!==0),E){if(_)return ng(o,c,m);c.flags|=128}if(E=c.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),T(Ue,Ue.current),_)break;return null;case 22:case 23:return c.lanes=0,W0(o,c,m);case 24:is(c,Je,o.memoizedState.cache)}return cr(o,c,m)}function ig(o,c,m){if(o!==null)if(o.memoizedProps!==c.pendingProps)_n=!0;else{if(!hf(o,m)&&!(c.flags&128))return _n=!1,hp(o,c,m);_n=!!(o.flags&131072)}else _n=!1,pe&&c.flags&1048576&&tt(c,Al,c.index);switch(c.lanes=0,c.tag){case 16:t:{o=c.pendingProps;var _=c.elementType,E=_._init;if(_=E(_._payload),c.type=_,typeof _=="function")yr(_)?(o=lr(_,o),c.tag=1,c=J0(null,c,_,o,m)):(c.tag=0,c=wu(null,c,_,o,m));else{if(_!=null){if(E=_.$$typeof,E===Fu){c.tag=11,c=Eu(null,c,_,o,m);break t}else if(E===dl){c.tag=14,c=K0(null,c,_,o,m);break t}}throw c=h(_)||_,Error(r(306,c,""))}}return c;case 0:return wu(o,c,c.type,c.pendingProps,m);case 1:return _=c.type,E=lr(_,c.pendingProps),J0(o,c,_,E,m);case 3:t:{if(dt(c,c.stateNode.containerInfo),o===null)throw Error(r(387));var N=c.pendingProps;E=c.memoizedState,_=E.element,Qh(o,c),tc(c,N,null,m);var W=c.memoizedState;if(N=W.cache,is(c,Je,N),N!==E.cache&&Is(c,[Je],m,!0),Gn(),N=W.element,Ci&&E.isDehydrated)if(E={element:N,isDehydrated:!1,cache:W.cache},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){c=$0(o,c,N,m);break t}else if(N!==_){_=it(Error(r(424)),c),Xt(_),c=$0(o,c,N,m);break t}else for(Ci&&(we=uo(c.stateNode.containerInfo),ln=c,pe=!0,Ji=null,xa=!0),m=Ia(c,null,N,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Bt(),N===_){c=cr(o,c,m);break t}Hn(o,c,N,m)}c=c.child}return c;case 26:if(Bi)return mc(o,c),o===null?(m=Ff(c.type,null,c.pendingProps,null))?c.memoizedState=m:pe||(c.stateNode=qf(c.type,c.pendingProps,Or.current,c)):c.memoizedState=Ff(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:if(zn)return Ct(c),o===null&&zn&&pe&&(_=c.stateNode=$u(c.type,c.pendingProps,Or.current,on.current,!1),ln=c,xa=!0,we=Er(_)),_=c.pendingProps.children,o!==null||pe?Hn(o,c,_,m):c.child=Os(c,null,_,m),mc(o,c),c.child;case 5:return o===null&&pe&&(Qg(c.type,c.pendingProps,on.current),(E=_=we)&&(_=Hf(_,c.type,c.pendingProps,xa),_!==null?(c.stateNode=_,ln=c,we=Er(_),xa=!1,E=!0):E=!1),E||rt(c)),Ct(c),E=c.type,N=c.pendingProps,W=o!==null?o.memoizedProps:null,_=N.children,Fn(E,N)?_=null:W!==null&&Fn(E,W)&&(c.flags|=32),c.memoizedState!==null&&(E=ac(o,c,U0,null,null,m),ba?Tr._currentValue=E:Tr._currentValue2=E),mc(o,c),Hn(o,c,_,m),c.child;case 6:return o===null&&pe&&(_p(c.pendingProps,on.current),(o=m=we)&&(m=Fg(m,c.pendingProps,xa),m!==null?(c.stateNode=m,ln=c,we=null,o=!0):o=!1),o||rt(c)),null;case 13:return tg(o,c,m);case 4:return dt(c,c.stateNode.containerInfo),_=c.pendingProps,o===null?c.child=Os(c,null,_,m):Hn(o,c,_,m),c.child;case 11:return Eu(o,c,c.type,c.pendingProps,m);case 7:return Hn(o,c,c.pendingProps,m),c.child;case 8:return Hn(o,c,c.pendingProps.children,m),c.child;case 12:return Hn(o,c,c.pendingProps.children,m),c.child;case 10:return _=c.pendingProps,is(c,c.type,_.value),Hn(o,c,_.children,m),c.child;case 9:return E=c.type._context,_=c.pendingProps.children,as(c),E=kn(E),_=_(E),c.flags|=1,Hn(o,c,_,m),c.child;case 14:return K0(o,c,c.type,c.pendingProps,m);case 15:return Q0(o,c,c.type,c.pendingProps,m);case 19:return ng(o,c,m);case 22:return W0(o,c,m);case 24:return as(c),_=kn(Je),o===null?(E=df(),E===null&&(E=Me,N=rs(),E.pooledCache=N,N.refCount++,N!==null&&(E.pooledCacheLanes|=m),E=N),c.memoizedState={parent:_,cache:E},Ba(c),is(c,Je,E)):(o.lanes&m&&(Qh(o,c),tc(c,null,null,m),Gn()),E=o.memoizedState,N=c.memoizedState,E.parent!==_?(E={parent:_,cache:_},c.memoizedState=E,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=E),is(c,Je,_)):(_=N.cache,is(c,Je,_),_!==E.cache&&Is(c,[Je],m,!0))),Hn(o,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function is(o,c,m){ba?(T(ta,c._currentValue),c._currentValue=m):(T(ta,c._currentValue2),c._currentValue2=m)}function ur(o){var c=ta.current;ba?o._currentValue=c:o._currentValue2=c,D(ta)}function vc(o,c,m){for(;o!==null;){var _=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,_!==null&&(_.childLanes|=c)):_!==null&&(_.childLanes&c)!==c&&(_.childLanes|=c),o===m)break;o=o.return}}function Is(o,c,m,_){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var N=E.dependencies;if(N!==null){var W=E.child;N=N.firstContext;t:for(;N!==null;){var nt=N;N=E;for(var ft=0;ft<c.length;ft++)if(nt.context===c[ft]){N.lanes|=m,nt=N.alternate,nt!==null&&(nt.lanes|=m),vc(N.return,m,o),_||(W=null);break t}N=nt.next}}else if(E.tag===18){if(W=E.return,W===null)throw Error(r(341));W.lanes|=m,N=W.alternate,N!==null&&(N.lanes|=m),vc(W,m,o),W=null}else W=E.child;if(W!==null)W.return=E;else for(W=E;W!==null;){if(W===o){W=null;break}if(E=W.sibling,E!==null){E.return=W.return,W=E;break}W=W.return}E=W}}function yc(o,c,m,_){o=null;for(var E=c,N=!1;E!==null;){if(!N){if(E.flags&524288)N=!0;else if(E.flags&262144)break}if(E.tag===10){var W=E.alternate;if(W===null)throw Error(r(387));if(W=W.memoizedProps,W!==null){var nt=E.type;ui(E.pendingProps.value,W.value)||(o!==null?o.push(nt):o=[nt])}}else if(E===Vc.current){if(W=E.alternate,W===null)throw Error(r(387));W.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(Tr):o=[Tr])}E=E.return}o!==null&&Is(c,o,m,_),c.flags|=262144}function bc(o){for(o=o.firstContext;o!==null;){var c=o.context;if(!ui(ba?c._currentValue:c._currentValue2,o.memoizedValue))return!0;o=o.next}return!1}function as(o){js=o,ea=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function kn(o){return ff(js,o)}function _c(o,c){return js===null&&as(o),ff(o,c)}function ff(o,c){var m=ba?c._currentValue:c._currentValue2;if(c={context:c,memoizedValue:m,next:null},ea===null){if(o===null)throw Error(r(308));ea=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ea=ea.next=c;return m}function rs(){return{controller:new Qc,data:new Map,refCount:0}}function Sc(o){o.refCount--,o.refCount===0&&We(Ap,function(){o.controller.abort()})}function df(){var o=vo.current;return o!==null?o:Me.pooledCache}function Mu(o,c){c===null?T(vo,vo.current):T(vo,c.pool)}function gf(){var o=df();return o===null?null:{parent:ba?Je._currentValue:Je._currentValue2,pool:o}}function yi(o){o.flags|=4}function al(o,c){if(o!==null&&o.child===c.child)return!1;if(c.flags&16)return!0;for(o=c.child;o!==null;){if(o.flags&13878||o.subtreeFlags&13878)return!0;o=o.sibling}return!1}function Js(o,c,m,_){if(Xe)for(m=c.child;m!==null;){if(m.tag===5||m.tag===6)Gc(o,m.stateNode);else if(!(m.tag===4||zn&&m.tag===27)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}else if(_a)for(var E=c.child;E!==null;){if(E.tag===5){var N=E.stateNode;m&&_&&(N=Hg(N,E.type,E.memoizedProps)),Gc(o,N)}else if(E.tag===6)N=E.stateNode,m&&_&&(N=Uf(N,E.memoizedProps)),Gc(o,N);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)N=E.child,N!==null&&(N.return=E),Js(o,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)break;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}}function ag(o,c,m,_){if(_a)for(var E=c.child;E!==null;){if(E.tag===5){var N=E.stateNode;m&&_&&(N=Hg(N,E.type,E.memoizedProps)),Lf(o,N)}else if(E.tag===6)N=E.stateNode,m&&_&&(N=Uf(N,E.memoizedProps)),Lf(o,N);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)N=E.child,N!==null&&(N.return=E),ag(o,E,!(E.memoizedProps!==null&&E.memoizedProps.mode==="manual"),!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)break;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}}function Ac(o,c){if(_a&&al(o,c)){o=c.stateNode;var m=o.containerInfo,_=Wu();ag(_,c,!1,!1),o.pendingChildren=_,yi(c),Ug(m,_)}}function Du(o,c,m,_){if(Xe)o.memoizedProps!==_&&yi(c);else if(_a){var E=o.stateNode,N=o.memoizedProps;if((o=al(o,c))||N!==_){var W=on.current;N=Lg(E,m,N,_,!o,null),N===E?c.stateNode=E:(Vu(N,m,_,W)&&yi(c),c.stateNode=N,o?Js(N,c,!1,!1):yi(c))}else c.stateNode=E}}function Ru(o,c,m){if(Df(c,m)){if(o.flags|=16777216,!Rf(c,m))if(jn())o.flags|=8192;else throw $n=hi,qc}else o.flags&=-16777217}function Nu(o,c){if(Ig(c)){if(o.flags|=16777216,!Kf(c))if(jn())o.flags|=8192;else throw $n=hi,qc}else o.flags&=-16777217}function rl(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?K():536870912,o.lanes|=c,An|=c)}function sl(o,c){if(!pe)switch(o.tailMode){case"hidden":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:_.sibling=null}}function Ye(o){var c=o.alternate!==null&&o.alternate.child===o.child,m=0,_=0;if(c)for(var E=o.child;E!==null;)m|=E.lanes|E.childLanes,_|=E.subtreeFlags&31457280,_|=E.flags&31457280,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)m|=E.lanes|E.childLanes,_|=E.subtreeFlags,_|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=_,o.childLanes=m,c}function rg(o,c,m){var _=c.pendingProps;switch(lt(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(c),null;case 1:return Ye(c),null;case 3:return m=c.stateNode,_=null,o!==null&&(_=o.memoizedState.cache),c.memoizedState.cache!==_&&(c.flags|=2048),ur(Je),Tt(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Nt(c)?yi(c):o===null||o.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,Ji!==null&&(pr(Ji),Ji=null))),Ac(o,c),Ye(c),null;case 26:if(Bi){m=c.type;var E=c.memoizedState;return o===null?(yi(c),E!==null?(Ye(c),Nu(c,E)):(Ye(c),Ru(c,m,_))):E?E!==o.memoizedState?(yi(c),Ye(c),Nu(c,E)):(Ye(c),c.flags&=-16777217):(Xe?o.memoizedProps!==_&&yi(c):Du(o,c,m,_),Ye(c),Ru(c,m,_)),null}case 27:if(zn){if(et(c),m=Or.current,E=c.type,o!==null&&c.stateNode!=null)Xe?o.memoizedProps!==_&&yi(c):Du(o,c,E,_);else{if(!_){if(c.stateNode===null)throw Error(r(166));return Ye(c),null}o=on.current,Nt(c)?_t(c,o):(o=$u(E,_,m,o,!0),c.stateNode=o,yi(c))}return Ye(c),null}case 5:if(et(c),m=c.type,o!==null&&c.stateNode!=null)Du(o,c,m,_);else{if(!_){if(c.stateNode===null)throw Error(r(166));return Ye(c),null}o=on.current,Nt(c)?_t(c,o):(E=Mf(m,_,Or.current,o,c),Js(E,c,!1,!1),c.stateNode=E,Vu(E,m,_,o)&&yi(c))}return Ye(c),Ru(c,c.type,c.pendingProps),null;case 6:if(o&&c.stateNode!=null)m=o.memoizedProps,Xe?m!==_&&yi(c):_a&&(m!==_?(c.stateNode=rn(_,Or.current,on.current,c),yi(c)):c.stateNode=o.stateNode);else{if(typeof _!="string"&&c.stateNode===null)throw Error(r(166));if(o=Or.current,m=on.current,Nt(c)){if(!Ci)throw Error(r(176));if(o=c.stateNode,m=c.memoizedProps,_=null,E=ln,E!==null)switch(E.tag){case 27:case 5:_=E.memoizedProps}Iu(o,m,c,_)||rt(c)}else c.stateNode=rn(_,o,m,c)}return Ye(c),null;case 13:if(_=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=Nt(c),_!==null&&_.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(!Ci)throw Error(r(344));if(E=c.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));Yg(E,c)}else Bt(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;Ye(c),E=!1}else Ji!==null&&(pr(Ji),Ji=null),E=!0;if(!E)return c.flags&256?(Kn(c),c):(Kn(c),null)}if(Kn(c),c.flags&128)return c.lanes=m,c;if(m=_!==null,o=o!==null&&o.memoizedState!==null,m){_=c.child,E=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(E=_.alternate.memoizedState.cachePool.pool);var N=null;_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(N=_.memoizedState.cachePool.pool),N!==E&&(_.flags|=2048)}return m!==o&&m&&(c.child.flags|=8192),rl(c,c.updateQueue),Ye(c),null;case 4:return Tt(),Ac(o,c),o===null&&mg(c.stateNode.containerInfo),Ye(c),null;case 10:return ur(c.type),Ye(c),null;case 19:if(D(Ue),E=c.memoizedState,E===null)return Ye(c),null;if(_=(c.flags&128)!==0,N=E.rendering,N===null)if(_)sl(E,!1);else{if(Ke!==0||o!==null&&o.flags&128)for(o=c.child;o!==null;){if(N=Tn(o),N!==null){for(c.flags|=128,sl(E,!1),o=N.updateQueue,c.updateQueue=o,rl(c,o),c.subtreeFlags=0,o=m,m=c.child;m!==null;)ao(m,o),m=m.sibling;return T(Ue,Ue.current&1|2),c.child}o=o.sibling}E.tail!==null&&Li()>ki&&(c.flags|=128,_=!0,sl(E,!1),c.lanes=4194304)}else{if(!_)if(o=Tn(N),o!==null){if(c.flags|=128,_=!0,o=o.updateQueue,c.updateQueue=o,rl(c,o),sl(E,!0),E.tail===null&&E.tailMode==="hidden"&&!N.alternate&&!pe)return Ye(c),null}else 2*Li()-E.renderingStartTime>ki&&m!==536870912&&(c.flags|=128,_=!0,sl(E,!1),c.lanes=4194304);E.isBackwards?(N.sibling=c.child,c.child=N):(o=E.last,o!==null?o.sibling=N:c.child=N,E.last=N)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=Li(),c.sibling=null,o=Ue.current,T(Ue,_?o&1|2:o&1),c):(Ye(c),null);case 22:case 23:return Kn(c),vu(),_=c.memoizedState!==null,o!==null?o.memoizedState!==null!==_&&(c.flags|=8192):_&&(c.flags|=8192),_?m&536870912&&!(c.flags&128)&&(Ye(c),c.subtreeFlags&6&&(c.flags|=8192)):Ye(c),m=c.updateQueue,m!==null&&rl(c,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),_=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==m&&(c.flags|=2048),o!==null&&D(vo),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),ur(Je),Ye(c),null;case 25:return null}throw Error(r(156,c.tag))}function fp(o,c){switch(lt(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ur(Je),Tt(),o=c.flags,o&65536&&!(o&128)?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return et(c),null;case 13:if(Kn(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Bt()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return D(Ue),null;case 4:return Tt(),null;case 10:return ur(c.type),null;case 22:case 23:return Kn(c),vu(),o!==null&&D(vo),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ur(Je),null;case 25:return null;default:return null}}function sg(o,c){switch(lt(c),c.tag){case 3:ur(Je),Tt();break;case 26:case 27:case 5:et(c);break;case 4:Tt();break;case 13:Kn(c);break;case 19:D(Ue);break;case 10:ur(c.type);break;case 22:case 23:Kn(c),vu(),o!==null&&D(vo);break;case 24:ur(Je)}}function xc(o,c){try{var m=c.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var E=_.next;m=E;do{if((m.tag&o)===o){_=void 0;var N=m.create,W=m.inst;_=N(),W.destroy=_}m=m.next}while(m!==E)}}catch(nt){Se(c,c.return,nt)}}function ss(o,c,m){try{var _=c.updateQueue,E=_!==null?_.lastEffect:null;if(E!==null){var N=E.next;_=N;do{if((_.tag&o)===o){var W=_.inst,nt=W.destroy;if(nt!==void 0){W.destroy=void 0,E=c;var ft=m;try{nt()}catch(At){Se(E,ft,At)}}}_=_.next}while(_!==N)}}catch(At){Se(c,c.return,At)}}function og(o){var c=o.updateQueue;if(c!==null){var m=o.stateNode;try{j0(c,m)}catch(_){Se(o,o.return,_)}}}function bi(o,c,m){m.props=lr(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(_){Se(o,c,_)}}function ya(o,c){try{var m=o.ref;if(m!==null){var _=o.stateNode;switch(o.tag){case 26:case 27:case 5:var E=oo(_);break;default:E=_}typeof m=="function"?o.refCleanup=m(E):m.current=E}}catch(N){Se(o,c,N)}}function _i(o,c){var m=o.ref,_=o.refCleanup;if(m!==null)if(typeof _=="function")try{_()}catch(E){Se(o,c,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(E){Se(o,c,E)}else m.current=null}function mf(o){var c=o.type,m=o.memoizedProps,_=o.stateNode;try{Og(_,c,m,o)}catch(E){Se(o,o.return,E)}}function pf(o,c,m){try{Mg(o.stateNode,o.type,m,c,o)}catch(_){Se(o,o.return,_)}}function vf(o){return o.tag===5||o.tag===3||(Bi?o.tag===26:!1)||(zn?o.tag===27:!1)||o.tag===4}function Cc(o){t:for(;;){for(;o.sibling===null;){if(o.return===null||vf(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&(!zn||o.tag!==27)&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue t;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function yf(o,c,m){var _=o.tag;if(_===5||_===6)o=o.stateNode,c?zf(m,o,c):jf(m,o);else if(!(_===4||zn&&_===27)&&(o=o.child,o!==null))for(yf(o,c,m),o=o.sibling;o!==null;)yf(o,c,m),o=o.sibling}function ju(o,c,m){var _=o.tag;if(_===5||_===6)o=o.stateNode,c?Dg(m,o,c):Eg(m,o);else if(!(_===4||zn&&_===27)&&(o=o.child,o!==null))for(ju(o,c,m),o=o.sibling;o!==null;)ju(o,c,m),o=o.sibling}function $s(o,c,m){o=o.containerInfo;try{Gg(o,m)}catch(_){Se(c,c.return,_)}}function bf(o,c){for(gg(o.containerInfo),kt=c;kt!==null;)if(o=kt,c=o.child,(o.subtreeFlags&1028)!==0&&c!==null)c.return=o,kt=c;else for(;kt!==null;){o=kt;var m=o.alternate;switch(c=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if(c&1024&&m!==null){c=void 0;var _=o,E=m.memoizedProps;m=m.memoizedState;var N=_.stateNode;try{var W=lr(_.type,E,_.elementType===_.type);c=N.getSnapshotBeforeUpdate(W,m),N.__reactInternalSnapshotBeforeUpdate=c}catch(nt){Se(_,_.return,nt)}}break;case 3:c&1024&&Xe&&Bg(o.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(c&1024)throw Error(r(163))}if(c=o.sibling,c!==null){c.return=o.return,kt=c;break}kt=o.return}return W=je,je=!1,W}function ol(o,c,m){var _=m.flags;switch(m.tag){case 0:case 11:case 15:fr(o,m),_&4&&xc(5,m);break;case 1:if(fr(o,m),_&4)if(o=m.stateNode,c===null)try{o.componentDidMount()}catch(nt){Se(m,m.return,nt)}else{var E=lr(m.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(E,c,o.__reactInternalSnapshotBeforeUpdate)}catch(nt){Se(m,m.return,nt)}}_&64&&og(m),_&512&&ya(m,m.return);break;case 3:if(fr(o,m),_&64&&(_=m.updateQueue,_!==null)){if(o=null,m.child!==null)switch(m.child.tag){case 27:case 5:o=oo(m.child.stateNode);break;case 1:o=m.child.stateNode}try{j0(_,o)}catch(nt){Se(m,m.return,nt)}}break;case 26:if(Bi){fr(o,m),_&512&&ya(m,m.return);break}case 27:case 5:fr(o,m),c===null&&_&4&&mf(m),_&512&&ya(m,m.return);break;case 12:fr(o,m);break;case 13:fr(o,m),_&4&&to(o,m);break;case 22:if(E=m.memoizedState!==null||zr,!E){c=c!==null&&c.memoizedState!==null||Kt;var N=zr,W=Kt;zr=E,(Kt=c)&&!W?os(o,m,(m.subtreeFlags&8772)!==0):fr(o,m),zr=N,Kt=W}_&512&&(m.memoizedProps.mode==="manual"?ya(m,m.return):_i(m,m.return));break;default:fr(o,m)}}function zu(o){var c=o.alternate;c!==null&&(o.alternate=null,zu(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&yg(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Ki(o,c,m){for(m=m.child;m!==null;)hr(o,c,m),m=m.sibling}function hr(o,c,m){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Sl,m)}catch{}switch(m.tag){case 26:if(Bi){Kt||_i(m,c),Ki(o,c,m),m.memoizedState?Yf(m.memoizedState):m.stateNode&&yl(m.stateNode);break}case 27:if(zn){Kt||_i(m,c);var _=be,E=hn;be=m.stateNode,Ki(o,c,m),Zf(m.stateNode),be=_,hn=E;break}case 5:Kt||_i(m,c);case 6:if(Xe){if(_=be,E=hn,be=null,Ki(o,c,m),be=_,hn=E,be!==null)if(hn)try{Ng(be,m.stateNode)}catch(N){Se(m,c,N)}else try{Rg(be,m.stateNode)}catch(N){Se(m,c,N)}}else Ki(o,c,m);break;case 18:Xe&&be!==null&&(hn?kf(be,m.stateNode):Kg(be,m.stateNode));break;case 4:Xe?(_=be,E=hn,be=m.stateNode.containerInfo,hn=!0,Ki(o,c,m),be=_,hn=E):(_a&&$s(m.stateNode,m,Wu()),Ki(o,c,m));break;case 0:case 11:case 14:case 15:Kt||ss(2,m,c),Kt||ss(4,m,c),Ki(o,c,m);break;case 1:Kt||(_i(m,c),_=m.stateNode,typeof _.componentWillUnmount=="function"&&bi(m,c,_)),Ki(o,c,m);break;case 21:Ki(o,c,m);break;case 22:Kt||_i(m,c),Kt=(_=Kt)||m.memoizedState!==null,Ki(o,c,m),Kt=_;break;default:Ki(o,c,m)}}function to(o,c){if(Ci&&c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Ju(o)}catch(m){Se(c,c.return,m)}}function _f(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new ne),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new ne),c;default:throw Error(r(435,o.tag))}}function Bu(o,c){var m=_f(o);c.forEach(function(_){var E=ku.bind(null,o,_);m.has(_)||(m.add(_),_.then(E,E))})}function pn(o,c){var m=c.deletions;if(m!==null)for(var _=0;_<m.length;_++){var E=m[_],N=o,W=c;if(Xe){var nt=W;t:for(;nt!==null;){switch(nt.tag){case 27:case 5:be=nt.stateNode,hn=!1;break t;case 3:be=nt.stateNode.containerInfo,hn=!0;break t;case 4:be=nt.stateNode.containerInfo,hn=!0;break t}nt=nt.return}if(be===null)throw Error(r(160));hr(N,W,E),be=null,hn=!1}else hr(N,W,E);N=E.alternate,N!==null&&(N.return=null),E.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)Sf(c,o),c=c.sibling}function Sf(o,c){var m=o.alternate,_=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:pn(c,o),Si(o),_&4&&(ss(3,o,o.return),xc(3,o),ss(5,o,o.return));break;case 1:pn(c,o),Si(o),_&512&&(Kt||m===null||_i(m,m.return)),_&64&&zr&&(o=o.updateQueue,o!==null&&(_=o.callbacks,_!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?_:m.concat(_))));break;case 26:if(Bi){var E=ei;pn(c,o),Si(o),_&512&&(Kt||m===null||_i(m,m.return)),_&4&&(_=m!==null?m.memoizedState:null,c=o.memoizedState,m===null?c===null?o.stateNode===null?o.stateNode=Wg(E,o.type,o.memoizedProps,o):Xf(E,o.type,o.stateNode):o.stateNode=Vf(E,c,o.memoizedProps):_!==c?(_===null?m.stateNode!==null&&yl(m.stateNode):Yf(_),c===null?Xf(E,o.type,o.stateNode):Vf(E,c,o.memoizedProps)):c===null&&o.stateNode!==null&&pf(o,o.memoizedProps,m.memoizedProps));break}case 27:if(zn&&_&4&&o.alternate===null){E=o.stateNode;var N=o.memoizedProps;try{Jg(E),Wf(o.type,N,E,o)}catch(Rt){Se(o,o.return,Rt)}}case 5:if(pn(c,o),Si(o),_&512&&(Kt||m===null||_i(m,m.return)),Xe){if(o.flags&32){c=o.stateNode;try{Qu(c)}catch(Rt){Se(o,o.return,Rt)}}_&4&&o.stateNode!=null&&(c=o.memoizedProps,pf(o,c,m!==null?m.memoizedProps:c)),_&1024&&(Oe=!0)}break;case 6:if(pn(c,o),Si(o),_&4&&Xe){if(o.stateNode===null)throw Error(r(162));_=o.memoizedProps,m=m!==null?m.memoizedProps:_,c=o.stateNode;try{wg(c,m,_)}catch(Rt){Se(o,o.return,Rt)}}break;case 3:if(Bi?(Zg(),E=ei,ei=On(c.containerInfo),pn(c,o),ei=E):pn(c,o),Si(o),_&4){if(Xe&&Ci&&m!==null&&m.memoizedState.isDehydrated)try{qg(c.containerInfo)}catch(Rt){Se(o,o.return,Rt)}if(_a){_=c.containerInfo,m=c.pendingChildren;try{Gg(_,m)}catch(Rt){Se(o,o.return,Rt)}}}Oe&&(Oe=!1,Af(o));break;case 4:Bi?(m=ei,ei=On(o.stateNode.containerInfo),pn(c,o),Si(o),ei=m):(pn(c,o),Si(o)),_&4&&_a&&$s(o.stateNode,o,o.stateNode.pendingChildren);break;case 12:pn(c,o),Si(o);break;case 13:pn(c,o),Si(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(ed=Li()),_&4&&(_=o.updateQueue,_!==null&&(o.updateQueue=null,Bu(o,_)));break;case 22:_&512&&(Kt||m===null||_i(m,m.return)),E=o.memoizedState!==null;var W=m!==null&&m.memoizedState!==null,nt=zr,ft=Kt;if(zr=nt||E,Kt=ft||W,pn(c,o),Kt=ft,zr=nt,Si(o),c=o.stateNode,c._current=o,c._visibility&=-3,c._visibility|=c._pendingVisibility&2,_&8192&&(c._visibility=E?c._visibility&-2:c._visibility|1,E&&(c=zr||Kt,m===null||W||c||ll(o)),Xe&&(o.memoizedProps===null||o.memoizedProps.mode!=="manual"))){t:if(m=null,Xe)for(c=o;;){if(c.tag===5||Bi&&c.tag===26||zn&&c.tag===27){if(m===null){W=m=c;try{N=W.stateNode,E?jg(N):bp(W.stateNode,W.memoizedProps)}catch(Rt){Se(W,W.return,Rt)}}}else if(c.tag===6){if(m===null){W=c;try{var At=W.stateNode;E?zg(At):Bf(At,W.memoizedProps)}catch(Rt){Se(W,W.return,Rt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break t;for(;c.sibling===null;){if(c.return===null||c.return===o)break t;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}}_&4&&(_=o.updateQueue,_!==null&&(m=_.retryQueue,m!==null&&(_.retryQueue=null,Bu(o,m))));break;case 19:pn(c,o),Si(o),_&4&&(_=o.updateQueue,_!==null&&(o.updateQueue=null,Bu(o,_)));break;case 21:break;default:pn(c,o),Si(o)}}function Si(o){var c=o.flags;if(c&2){try{if(Xe&&(!zn||o.tag!==27)){t:{for(var m=o.return;m!==null;){if(vf(m)){var _=m;break t}m=m.return}throw Error(r(160))}switch(_.tag){case 27:if(zn){var E=_.stateNode,N=Cc(o);ju(o,N,E);break}case 5:var W=_.stateNode;_.flags&32&&(Qu(W),_.flags&=-33);var nt=Cc(o);ju(o,nt,W);break;case 3:case 4:var ft=_.stateNode.containerInfo,At=Cc(o);yf(o,At,ft);break;default:throw Error(r(161))}}}catch(Rt){Se(o,o.return,Rt)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function Af(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;Af(c),c.tag===5&&c.flags&1024&&_g(c.stateNode),o=o.sibling}}function fr(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)ol(o,c.alternate,c),c=c.sibling}function ll(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:ss(4,c,c.return),ll(c);break;case 1:_i(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&bi(c,c.return,m),ll(c);break;case 26:case 27:case 5:_i(c,c.return),ll(c);break;case 22:_i(c,c.return),c.memoizedState===null&&ll(c);break;default:ll(c)}o=o.sibling}}function os(o,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var _=c.alternate,E=o,N=c,W=N.flags;switch(N.tag){case 0:case 11:case 15:os(E,N,m),xc(4,N);break;case 1:if(os(E,N,m),_=N,E=_.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(At){Se(_,_.return,At)}if(_=N,E=_.updateQueue,E!==null){var nt=_.stateNode;try{var ft=E.shared.hiddenCallbacks;if(ft!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ft.length;E++)N0(ft[E],nt)}catch(At){Se(_,_.return,At)}}m&&W&64&&og(N),ya(N,N.return);break;case 26:case 27:case 5:os(E,N,m),m&&_===null&&W&4&&mf(N),ya(N,N.return);break;case 12:os(E,N,m);break;case 13:os(E,N,m),m&&W&4&&to(E,N);break;case 22:N.memoizedState===null&&os(E,N,m),ya(N,N.return);break;default:os(E,N,m)}c=c.sibling}}function Lu(o,c){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&Sc(m))}function Uu(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Sc(o))}function dr(o,c,m,_){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Qi(o,c,m,_),c=c.sibling}function Qi(o,c,m,_){var E=c.flags;switch(c.tag){case 0:case 11:case 15:dr(o,c,m,_),E&2048&&xc(9,c);break;case 3:dr(o,c,m,_),E&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Sc(o)));break;case 12:if(E&2048){dr(o,c,m,_),o=c.stateNode;try{var N=c.memoizedProps,W=N.id,nt=N.onPostCommit;typeof nt=="function"&&nt(W,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ft){Se(c,c.return,ft)}}else dr(o,c,m,_);break;case 23:break;case 22:N=c.stateNode,c.memoizedState!==null?N._visibility&4?dr(o,c,m,_):ka(o,c):N._visibility&4?dr(o,c,m,_):(N._visibility|=4,Pn(o,c,m,_,(c.subtreeFlags&10256)!==0)),E&2048&&Lu(c.alternate,c);break;case 24:dr(o,c,m,_),E&2048&&Uu(c.alternate,c);break;default:dr(o,c,m,_)}}function Pn(o,c,m,_,E){for(E=E&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var N=o,W=c,nt=m,ft=_,At=W.flags;switch(W.tag){case 0:case 11:case 15:Pn(N,W,nt,ft,E),xc(8,W);break;case 23:break;case 22:var Rt=W.stateNode;W.memoizedState!==null?Rt._visibility&4?Pn(N,W,nt,ft,E):ka(N,W):(Rt._visibility|=4,Pn(N,W,nt,ft,E)),E&&At&2048&&Lu(W.alternate,W);break;case 24:Pn(N,W,nt,ft,E),E&&At&2048&&Uu(W.alternate,W);break;default:Pn(N,W,nt,ft,E)}c=c.sibling}}function ka(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=o,_=c,E=_.flags;switch(_.tag){case 22:ka(m,_),E&2048&&Lu(_.alternate,_);break;case 24:ka(m,_),E&2048&&Uu(_.alternate,_);break;default:ka(m,_)}c=c.sibling}}function gr(o){if(o.subtreeFlags&zs)for(o=o.child;o!==null;)Tc(o),o=o.sibling}function Tc(o){switch(o.tag){case 26:gr(o),o.flags&zs&&(o.memoizedState!==null?Qf(ei,o.memoizedState,o.memoizedProps):Nf(o.type,o.memoizedProps));break;case 5:gr(o),o.flags&zs&&Nf(o.type,o.memoizedProps);break;case 3:case 4:if(Bi){var c=ei;ei=On(o.stateNode.containerInfo),gr(o),ei=c}else gr(o);break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=zs,zs=16777216,gr(o),zs=c):gr(o));break;default:gr(o)}}function Ec(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function eo(o){var c=o.deletions;if(o.flags&16){if(c!==null)for(var m=0;m<c.length;m++){var _=c[m];kt=_,Oc(_,o)}Ec(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)mr(o),o=o.sibling}function mr(o){switch(o.tag){case 0:case 11:case 15:eo(o),o.flags&2048&&ss(9,o,o.return);break;case 3:eo(o);break;case 12:eo(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&4&&(o.return===null||o.return.tag!==13)?(c._visibility&=-5,wc(o)):eo(o);break;default:eo(o)}}function wc(o){var c=o.deletions;if(o.flags&16){if(c!==null)for(var m=0;m<c.length;m++){var _=c[m];kt=_,Oc(_,o)}Ec(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:ss(8,c,c.return),wc(c);break;case 22:m=c.stateNode,m._visibility&4&&(m._visibility&=-5,wc(c));break;default:wc(c)}o=o.sibling}}function Oc(o,c){for(;kt!==null;){var m=kt;switch(m.tag){case 0:case 11:case 15:ss(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var _=m.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:Sc(m.memoizedState.cache)}if(_=m.child,_!==null)_.return=m,kt=_;else t:for(m=o;kt!==null;){_=kt;var E=_.sibling,N=_.return;if(zu(_),_===m){kt=null;break t}if(E!==null){E.return=N,kt=E;break t}kt=N}}}function ls(o){var c=Xu(o);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(r(364));return c}if(o=xg(o),o===null)throw Error(r(362));return o.stateNode.current}function Gu(o,c){var m=o.tag;switch(c.$$typeof){case Fe:if(o.type===c.value)return!0;break;case wa:t:{for(c=c.value,o=[o,0],m=0;m<o.length;){var _=o[m++],E=_.tag,N=o[m++],W=c[N];if(E!==5&&E!==26&&E!==27||!qa(_)){for(;W!=null&&Gu(_,W);)N++,W=c[N];if(N===c.length){c=!0;break t}else for(_=_.child;_!==null;)o.push(_,N),_=_.sibling}}c=!1}return c;case Ja:if((m===5||m===26||m===27)&&Tg(o.stateNode,c.value))return!0;break;case di:if((m===5||m===6||m===26||m===27)&&(o=Cg(o),o!==null&&0<=o.indexOf(c.value)))return!0;break;case wl:if((m===5||m===26||m===27)&&(o=o.memoizedProps["data-testname"],typeof o=="string"&&o.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Ai(o){switch(o.$$typeof){case Fe:return"<"+(h(o.value)||"Unknown")+">";case wa:return":has("+(Ai(o)||"")+")";case Ja:return'[role="'+o.value+'"]';case di:return'"'+o.value+'"';case wl:return'[data-testname="'+o.value+'"]';default:throw Error(r(365))}}function no(o,c){var m=[];o=[o,0];for(var _=0;_<o.length;){var E=o[_++],N=E.tag,W=o[_++],nt=c[W];if(N!==5&&N!==26&&N!==27||!qa(E)){for(;nt!=null&&Gu(E,nt);)W++,nt=c[W];if(W===c.length)m.push(E);else for(E=E.child;E!==null;)o.push(E,W),E=E.sibling}}return m}function cs(o,c){if(!vl)throw Error(r(363));o=ls(o),o=no(o,c),c=[],o=Array.from(o);for(var m=0;m<o.length;){var _=o[m++],E=_.tag;if(E===5||E===26||E===27)qa(_)||c.push(_.stateNode);else for(_=_.child;_!==null;)o.push(_),_=_.sibling}return c}function Qn(){if(re&2&&se!==0)return se&-se;if(Vt.T!==null){var o=Pe;return o!==0?o:en()}return pg()}function Mc(){Hi===0&&(Hi=!(se&536870912)||pe?P():536870912);var o=wi.current;return o!==null&&(o.flags|=32),Hi}function Le(o,c,m){(o===Me&&Te===2||o.cancelPendingCommit!==null)&&(us(o,0),li(o,se,Hi,!1)),Y(o,m),(!(re&2)||o!==Me)&&(o===Me&&(!(re&2)&&(Lr|=m),Ke===4&&li(o,se,Hi,!1)),He(o))}function ji(o,c,m){if(re&6)throw Error(r(327));var _=!m&&(c&60)===0&&(c&o.expiredLanes)===0||H(o,c),E=_?lg(o,c):Rc(o,c,!0),N=_;do{if(E===0){ia&&!_&&li(o,c,0,!1);break}else if(E===6)li(o,c,0,!na);else{if(m=o.current.alternate,N&&!vr(m)){E=Rc(o,c,!1),N=!1;continue}if(E===2){if(N=c,o.errorRecoveryDisabledLanes&N)var W=0;else W=o.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){c=W;t:{var nt=o;E=Ol;var ft=Ci&&nt.current.memoizedState.isDehydrated;if(ft&&(us(nt,W).flags|=256),W=Rc(nt,W,!1),W!==2){if(yo&&!ft){nt.errorRecoveryDisabledLanes|=N,Lr|=N,E=4;break t}N=ra,ra=E,N!==null&&pr(N)}E=W}if(N=!1,E!==2)continue}}if(E===1){us(o,0),li(o,c,0,!0);break}t:{switch(_=o,E){case 0:case 1:throw Error(r(345));case 4:if((c&4194176)===c){li(_,c,Hi,!na);break t}break;case 2:ra=null;break;case 3:case 5:break;default:throw Error(r(329))}if(_.finishedWork=m,_.finishedLanes=c,(c&62914560)===c&&(N=ed+300-Li(),10<N)){if(li(_,c,Hi,!na),z(_,0)!==0)break t;_.timeoutHandle=Yu(Pa.bind(null,_,m,ra,bo,ch,c,Hi,Lr,An,na,2,-0,0),N);break t}Pa(_,m,ra,bo,ch,c,Hi,Lr,An,na,0,-0,0)}}break}while(!0);He(o)}function pr(o){ra===null?ra=o:ra.push.apply(ra,o)}function Pa(o,c,m,_,E,N,W,nt,ft,At,Rt,jt,Dt){var Qt=c.subtreeFlags;if((Qt&8192||(Qt&16785408)===16785408)&&(vp(),Tc(c),c=bg(),c!==null)){o.cancelPendingCommit=c(Hu.bind(null,o,m,_,E,W,nt,ft,1,jt,Dt)),li(o,N,W,!At);return}Hu(o,m,_,E,W,nt,ft,Rt,jt,Dt)}function vr(o){for(var c=o;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var _=0;_<m.length;_++){var E=m[_],N=E.getSnapshot;E=E.value;try{if(!ui(N(),E))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function li(o,c,m,_){c&=~gi,c&=~Lr,o.suspendedLanes|=c,o.pingedLanes&=~c,_&&(o.warmLanes|=c),_=o.expirationTimes;for(var E=c;0<E;){var N=31-sn(E),W=1<<N;_[N]=-1,E&=~W}m!==0&&j(o,m,c)}function xf(){return re&6?!0:(Xn(0),!1)}function Dc(){if($t!==null){if(Te===0)var o=$t.return;else o=$t,ea=js=null,sr(o),mo=null,ti=0,o=$t;for(;o!==null;)sg(o.alternate,o),o=o.return;$t=null}}function us(o,c){o.finishedWork=null,o.finishedLanes=0;var m=o.timeoutHandle;m!==pl&&(o.timeoutHandle=pl,Hc(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),Dc(),Me=o,$t=m=br(o.current,null),se=c,Te=0,Sn=null,na=!1,ia=H(o,c),yo=!1,An=Hi=gi=Lr=aa=Ke=0,ra=Ol=null,ch=!1,c&8&&(c|=c&32);var _=o.entangledLanes;if(_!==0)for(o=o.entanglements,_&=c;0<_;){var E=31-sn(_),N=1<<E;c|=o[E],_&=~N}return Oa=c,It(),m}function Wn(o,c){qt=null,Vt.H=un,c===Xc?(c=Xo(),Te=3):c===qc?(c=Xo(),Te=4):Te=c===$f?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Sn=c,$t===null&&(Ke=1,el(o,it(c,o.current)))}function jn(){var o=wi.current;return o===null?!0:(se&4194176)===se?$i===null:(se&62914560)===se||se&536870912?o===$i:!1}function me(){var o=Vt.H;return Vt.H=un,o===null?un:o}function Wi(){var o=Vt.A;return Vt.A=Br,o}function Zi(){Ke=4,na||(se&4194176)!==se&&wi.current!==null||(ia=!0),!(aa&134217727)&&!(Lr&134217727)||Me===null||li(Me,se,Hi,!1)}function Rc(o,c,m){var _=re;re|=2;var E=me(),N=Wi();(Me!==o||se!==c)&&(bo=null,us(o,c)),c=!1;var W=Ke;t:do try{if(Te!==0&&$t!==null){var nt=$t,ft=Sn;switch(Te){case 8:Dc(),W=6;break t;case 3:case 2:case 6:wi.current===null&&(c=!0);var At=Te;if(Te=0,Sn=null,Fa(o,nt,ft,At),m&&ia){W=0;break t}break;default:At=Te,Te=0,Sn=null,Fa(o,nt,ft,At)}}io(),W=Ke;break}catch(Rt){Wn(o,Rt)}while(!0);return c&&o.shellSuspendCounter++,ea=js=null,re=_,Vt.H=E,Vt.A=N,$t===null&&(Me=null,se=0,It()),W}function io(){for(;$t!==null;)cl($t)}function lg(o,c){var m=re;re|=2;var _=me(),E=Wi();Me!==o||se!==c?(bo=null,ki=Li()+500,us(o,c)):ia=H(o,c);t:do try{if(Te!==0&&$t!==null){c=$t;var N=Sn;e:switch(Te){case 1:Te=0,Sn=null,Fa(o,c,N,1);break;case 2:if(ec(N)){Te=0,Sn=null,ul(c);break}c=function(){Te===2&&Me===o&&(Te=7),He(o)},N.then(c,c);break t;case 3:Te=7;break t;case 4:Te=5;break t;case 7:ec(N)?(Te=0,Sn=null,ul(c)):(Te=0,Sn=null,Fa(o,c,N,7));break;case 5:var W=null;switch($t.tag){case 26:W=$t.memoizedState;case 5:case 27:var nt=$t,ft=nt.type,At=nt.pendingProps;if(W?Kf(W):Rf(ft,At)){Te=0,Sn=null;var Rt=nt.sibling;if(Rt!==null)$t=Rt;else{var jt=nt.return;jt!==null?($t=jt,hs(jt)):$t=null}break e}}Te=0,Sn=null,Fa(o,c,N,5);break;case 6:Te=0,Sn=null,Fa(o,c,N,6);break;case 8:Dc(),Ke=6;break t;default:throw Error(r(462))}}cg();break}catch(Dt){Wn(o,Dt)}while(!0);return ea=js=null,Vt.H=_,Vt.A=E,re=m,$t!==null?0:(Me=null,se=0,It(),Ke)}function cg(){for(;$t!==null&&!Ts();)cl($t)}function cl(o){var c=ig(o.alternate,o,Oa);o.memoizedProps=o.pendingProps,c===null?hs(o):$t=c}function ul(o){var c=o,m=c.alternate;switch(c.tag){case 15:case 0:c=I0(m,c,c.pendingProps,c.type,void 0,se);break;case 11:c=I0(m,c,c.pendingProps,c.type.render,c.ref,se);break;case 5:sr(c);default:sg(m,c),c=$t=ao(c,Oa),c=ig(m,c,Oa)}o.memoizedProps=o.pendingProps,c===null?hs(o):$t=c}function Fa(o,c,m,_){ea=js=null,sr(c),mo=null,ti=0;var E=c.return;try{if(up(o,E,c,m,se)){Ke=1,el(o,it(m,o.current)),$t=null;return}}catch(N){if(E!==null)throw $t=E,N;Ke=1,el(o,it(m,o.current)),$t=null;return}c.flags&32768?(pe||_===1?o=!0:ia||se&536870912?o=!1:(na=o=!0,(_===2||_===3||_===6)&&(_=wi.current,_!==null&&_.tag===13&&(_.flags|=16384))),Cf(c,o)):hs(c)}function hs(o){var c=o;do{if(c.flags&32768){Cf(c,na);return}o=c.return;var m=rg(c.alternate,c,Oa);if(m!==null){$t=m;return}if(c=c.sibling,c!==null){$t=c;return}$t=c=o}while(c!==null);Ke===0&&(Ke=5)}function Cf(o,c){do{var m=fp(o.alternate,o);if(m!==null){m.flags&=32767,$t=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(o=o.sibling,o!==null)){$t=o;return}$t=o=m}while(o!==null);Ke=6,$t=null}function Hu(o,c,m,_,E,N,W,nt,ft,At){var Rt=Vt.T,jt=As();try{ci(2),Vt.T=null,ug(o,c,m,_,jt,E,N,W,nt,ft,At)}finally{Vt.T=Rt,ci(jt)}}function ug(o,c,m,_,E,N,W,nt){do fs();while(Bs!==null);if(re&6)throw Error(r(327));var ft=o.finishedWork;if(_=o.finishedLanes,ft===null)return null;if(o.finishedWork=null,o.finishedLanes=0,ft===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0,o.cancelPendingCommit=null;var At=ft.lanes|ft.childLanes;if(At|=Ca,Z(o,_,At,N,W,nt),o===Me&&($t=Me=null,se=0),!(ft.subtreeFlags&10256)&&!(ft.flags&10256)||Ur||(Ur=!0,uh=At,Zc=m,hg(_l,function(){return fs(),null})),m=(ft.flags&15990)!==0,ft.subtreeFlags&15990||m?(m=Vt.T,Vt.T=null,N=As(),ci(2),W=re,re|=4,bf(o,ft),Sf(ft,o),pp(o.containerInfo),o.current=ft,ol(o,ft.alternate,ft),wr(),re=W,ci(N),Vt.T=m):o.current=ft,Ur?(Ur=!1,Bs=o,Ml=_):Nc(o,At),At=o.pendingLanes,At===0&&(tr=null),k(ft.stateNode),He(o),c!==null)for(E=o.onRecoverableError,ft=0;ft<c.length;ft++)At=c[ft],E(At.value,{componentStack:At.stack});return Ml&3&&fs(),At=o.pendingLanes,_&4194218&&At&42?o===nd?_o++:(_o=0,nd=o):_o=0,Xn(0),null}function Nc(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Sc(c)))}function fs(){if(Bs!==null){var o=Bs,c=uh;uh=0;var m=G(Ml),_=32>m?32:m;m=Vt.T;var E=As();try{if(ci(_),Vt.T=null,Bs===null)var N=!1;else{_=Zc,Zc=null;var W=Bs,nt=Ml;if(Bs=null,Ml=0,re&6)throw Error(r(331));var ft=re;if(re|=4,mr(W.current),Qi(W,W.current,nt,_),re=ft,Xn(0,!1),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Sl,W)}catch{}N=!0}return N}finally{ci(E),Vt.T=m,Nc(o,c)}}return!1}function hl(o,c,m){c=it(m,c),c=il(o.stateNode,c,2),o=xe(o,c,2),o!==null&&(Y(o,2),He(o))}function Se(o,c,m){if(o.tag===3)hl(o,o,m);else for(;c!==null;){if(c.tag===3){hl(c,o,m);break}else if(c.tag===1){var _=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(tr===null||!tr.has(_))){o=it(m,o),m=sf(2),_=xe(c,m,2),_!==null&&(q0(m,_,c,o),Y(_,2),He(_));break}}c=c.return}}function ds(o,c,m){var _=o.pingCache;if(_===null){_=o.pingCache=new Wc;var E=new Set;_.set(c,E)}else E=_.get(c),E===void 0&&(E=new Set,_.set(c,E));E.has(m)||(yo=!0,E.add(m),o=jc.bind(null,o,c,m),c.then(o,o))}function jc(o,c,m){var _=o.pingCache;_!==null&&_.delete(c),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,Me===o&&(se&m)===m&&(Ke===4||Ke===3&&(se&62914560)===se&&300>Li()-ed?!(re&2)&&us(o,0):gi|=m,An===se&&(An=0)),He(o)}function zc(o,c){c===0&&(c=K()),o=Wt(o,c),o!==null&&(Y(o,c),He(o))}function Bc(o){var c=o.memoizedState,m=0;c!==null&&(m=c.retryLane),zc(o,m)}function ku(o,c){var m=0;switch(o.tag){case 13:var _=o.stateNode,E=o.memoizedState;E!==null&&(m=E.retryLane);break;case 19:_=o.stateNode;break;case 22:_=o.stateNode._retryCache;break;default:throw Error(r(314))}_!==null&&_.delete(c),zc(o,m)}function hg(o,c){return Qa(o,c)}function fg(o,c,m,_){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(o){return o=o.prototype,!(!o||!o.isReactComponent)}function br(o,c){var m=o.alternate;return m===null?(m=e(o.tag,c,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=c,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&31457280,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,c=o.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function ao(o,c){o.flags&=31457282;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,c=m.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function ro(o,c,m,_,E,N){var W=0;if(_=o,typeof o=="function")yr(o)&&(W=1);else if(typeof o=="string")W=Bi&&zn?wn(o,m,on.current)?26:th(o)?27:5:Bi?wn(o,m,on.current)?26:5:zn&&th(o)?27:5;else t:switch(o){case ps:return gs(m.children,E,N,c);case so:W=8,E|=24;break;case vs:return o=e(12,m,c,E|2),o.elementType=vs,o.lanes=N,o;case Ar:return o=e(13,m,c,E),o.elementType=Ar,o.lanes=N,o;case Uc:return o=e(19,m,c,E),o.elementType=Uc,o.lanes=N,o;case Cr:return Pu(m,E,N,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case gp:case ys:W=10;break t;case wf:W=9;break t;case Fu:W=11;break t;case dl:W=14;break t;case xr:W=16,_=null;break t}W=29,m=Error(r(130,o===null?"null":typeof o,"")),_=null}return c=e(W,m,c,E),c.elementType=o,c.type=_,c.lanes=N,c}function gs(o,c,m,_){return o=e(7,o,_,c),o.lanes=m,o}function Pu(o,c,m,_){o=e(22,o,_,c),o.elementType=Cr,o.lanes=m;var E={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var N=E._current;if(N===null)throw Error(r(456));if(!(E._pendingVisibility&2)){var W=Wt(N,2);W!==null&&(E._pendingVisibility|=2,Le(W,N,2))}},attach:function(){var N=E._current;if(N===null)throw Error(r(456));if(E._pendingVisibility&2){var W=Wt(N,2);W!==null&&(E._pendingVisibility&=-3,Le(W,N,2))}}};return o.stateNode=E,o}function Lc(o,c,m){return o=e(6,o,null,c),o.lanes=m,o}function xi(o,c,m){return c=e(4,o.children!==null?o.children:[],o.key,c),c.lanes=m,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function Va(o,c,m,_,E,N,W,nt){this.tag=1,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=pl,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=B(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B(0),this.hiddenUpdates=B(null),this.identifierPrefix=_,this.onUncaughtError=E,this.onCaughtError=N,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=nt,this.incompleteTransitions=new Map}function _r(o,c,m,_,E,N,W,nt,ft,At,Rt,jt){return o=new Va(o,c,m,W,nt,ft,At,jt),c=1,N===!0&&(c|=24),N=e(3,null,null,c),o.current=N,N.stateNode=o,c=rs(),c.refCount++,o.pooledCache=c,c.refCount++,N.memoizedState={element:_,isDehydrated:m,cache:c},Ba(N),o}function Tf(o){return o?(o=fo,o):fo}function Sr(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=S(c),o=o!==null?x(o):null,o===null?null:oo(o.stateNode)}function Ya(o,c,m,_,E,N){E=Tf(E),_.context===null?_.context=E:_.pendingContext=E,_=mn(c),_.payload={element:m},N=N===void 0?null:N,N!==null&&(_.callback=N),m=xe(o,_,c),m!==null&&(Le(m,o,c),Xi(m,o,c))}function vn(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<c?m:c}}function fl(o,c){vn(o,c),(o=o.alternate)&&vn(o,c)}var ae={},dp=C0(),zi=xv(),an=Object.assign,Ef=Symbol.for("react.element"),ms=Symbol.for("react.transitional.element"),Xa=Symbol.for("react.portal"),ps=Symbol.for("react.fragment"),so=Symbol.for("react.strict_mode"),vs=Symbol.for("react.profiler"),gp=Symbol.for("react.provider"),wf=Symbol.for("react.consumer"),ys=Symbol.for("react.context"),Fu=Symbol.for("react.forward_ref"),Ar=Symbol.for("react.suspense"),Uc=Symbol.for("react.suspense_list"),dl=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),Cr=Symbol.for("react.offscreen"),Jt=Symbol.for("react.memo_cache_sentinel"),Ce=Symbol.iterator,yn=Symbol.for("react.client.reference"),Vt=dp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bs,_s,gl=!1,Ss=Array.isArray,ml=t.rendererVersion,mp=t.rendererPackageName,Ie=t.extraDevToolsConfig,oo=t.getPublicInstance,Of=t.getRootHostContext,dg=t.getChildHostContext,gg=t.prepareForCommit,pp=t.resetAfterCommit,Mf=t.createInstance,Gc=t.appendInitialChild,Vu=t.finalizeInitialChildren,Fn=t.shouldSetTextContent,rn=t.createTextInstance,Yu=t.scheduleTimeout,Hc=t.cancelTimeout,pl=t.noTimeout,ba=t.isPrimaryRenderer;t.warnsIfNotActing;var Xe=t.supportsMutation,_a=t.supportsPersistence,Ci=t.supportsHydration,Xu=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var mg=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var ci=t.setCurrentUpdatePriority,As=t.getCurrentUpdatePriority,pg=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var vg=t.shouldAttemptEagerTransition,yg=t.detachDeletedInstance;t.requestPostPaintCallback;var Df=t.maySuspendCommit,Rf=t.preloadInstance,vp=t.startSuspendingCommit,Nf=t.suspendInstance,bg=t.waitForCommitToBeReady,lo=t.NotPendingTransition,Tr=t.HostTransitionContext,_g=t.resetFormInstance;t.bindToConsole;var Sg=t.supportsMicrotasks,Ag=t.scheduleMicrotask,vl=t.supportsTestSelectors,xg=t.findFiberRoot,yp=t.getBoundingRect,Cg=t.getTextContent,qa=t.isHiddenSubtree,Tg=t.matchAccessibilityRole,qu=t.setFocusIfFocusable,Ku=t.setupIntersectionObserver,Eg=t.appendChild,jf=t.appendChildToContainer,wg=t.commitTextUpdate,Og=t.commitMount,Mg=t.commitUpdate,Dg=t.insertBefore,zf=t.insertInContainerBefore,Rg=t.removeChild,Ng=t.removeChildFromContainer,Qu=t.resetTextContent,jg=t.hideInstance,zg=t.hideTextInstance,bp=t.unhideInstance,Bf=t.unhideTextInstance,Bg=t.clearContainer,Lg=t.cloneInstance,Wu=t.createContainerChildSet,Lf=t.appendChildToContainerChildSet,Ug=t.finalizeContainerChildren,Gg=t.replaceContainerChildren,Hg=t.cloneHiddenInstance,Uf=t.cloneHiddenTextInstance,co=t.isSuspenseInstancePending,kc=t.isSuspenseInstanceFallback,Zu=t.getSuspenseInstanceFallbackErrorDetails,kg=t.registerSuspenseInstanceRetry,Pg=t.canHydrateFormStateMarker,Ka=t.isFormStateMarkerMatching,xs=t.getNextHydratableSibling,Er=t.getFirstHydratableChild,uo=t.getFirstHydratableChildWithinContainer,Gf=t.getFirstHydratableChildWithinSuspenseInstance,Hf=t.canHydrateInstance,Fg=t.canHydrateTextInstance,Vg=t.canHydrateSuspenseInstance,ho=t.hydrateInstance,Iu=t.hydrateTextInstance,Yg=t.hydrateSuspenseInstance,Xg=t.getNextHydratableInstanceAfterSuspenseInstance,qg=t.commitHydratedContainer,Ju=t.commitHydratedSuspenseInstance,Kg=t.clearSuspenseBoundary,kf=t.clearSuspenseBoundaryFromContainer,Pf=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var Qg=t.validateHydratableInstance,_p=t.validateHydratableTextInstance,Bi=t.supportsResources,wn=t.isHostHoistableType,On=t.getHoistableRoot,Ff=t.getResource,Vf=t.acquireResource,Yf=t.releaseResource,Wg=t.hydrateHoistable,Xf=t.mountHoistable,yl=t.unmountHoistable,qf=t.createHoistableInstance,Zg=t.prepareToCommitHoistables,Ig=t.mayResourceSuspendCommit,Kf=t.preloadResource,Qf=t.suspendResource,zn=t.supportsSingletons,$u=t.resolveSingletonInstance,Jg=t.clearSingleton,Wf=t.acquireSingletonInstance,Zf=t.releaseSingletonInstance,th=t.isHostSingletonType,eh=[],Cs=-1,fo={},sn=Math.clz32?Math.clz32:O,If=Math.log,Sp=Math.LN2,Pc=128,bl=4194304,Qa=zi.unstable_scheduleCallback,Sa=zi.unstable_cancelCallback,Ts=zi.unstable_shouldYield,wr=zi.unstable_requestPaint,Li=zi.unstable_now,nh=zi.unstable_ImmediatePriority,Fc=zi.unstable_UserBlockingPriority,_l=zi.unstable_NormalPriority,go=zi.unstable_IdlePriority,Zn=zi.log,ih=zi.unstable_setDisableYieldValue,Sl=null,bn=null,ui=typeof Object.is=="function"?Object.is:I,ah=new WeakMap,Ui=[],Gi=0,Es=null,Al=0,Ti=[],In=0,Aa=null,Wa=1,Za="",on=M(null),Ii=M(null),Or=M(null),Vc=M(null),ln=null,we=null,pe=!1,Ji=null,xa=!1,Yc=Error(r(519)),Ei=[],Mr=0,Ca=0,ke=null,ws=null,rh=!1,cn=!1,sh=!1,xl=0,Cl=null,oh=0,Pe=0,Bn=null,Jn=!1,lh=!1,$g=Object.prototype.hasOwnProperty,Xc=Error(r(460)),qc=Error(r(474)),hi={then:function(){}},$n=null,mo=null,ti=0,Os=Ko(!0),Ia=Ko(!1),Ta=M(null),Ea=M(0),wi=M(null),$i=null,Ue=M(0),Dr=0,qt=null,ye=null,qe=null,Rr=!1,po=!1,Ms=!1,Ds=0,Tl=0,Nr=null,t1=0,Jf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},un={readContext:kn,use:nn,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de};un.useCacheRefresh=de,un.useMemoCache=de,un.useHostTransitionStatus=de,un.useFormState=de,un.useActionState=de,un.useOptimistic=de;var jr={readContext:kn,use:nn,useCallback:function(o,c){return En().memoizedState=[o,c===void 0?null:c],o},useContext:kn,useEffect:ef,useImperativeHandle:function(o,c,m){m=m!=null?m.concat([o]):null,Su(4194308,4,hc.bind(null,c,o),m)},useLayoutEffect:function(o,c){return Su(4194308,4,o,c)},useInsertionEffect:function(o,c){Su(4,2,o,c)},useMemo:function(o,c){var m=En();c=c===void 0?null:c;var _=o();if(Ms){X(!0);try{o()}finally{X(!1)}}return m.memoizedState=[_,c],_},useReducer:function(o,c,m){var _=En();if(m!==void 0){var E=m(c);if(Ms){X(!0);try{m(c)}finally{X(!1)}}}else E=c;return _.memoizedState=_.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},_.queue=o,o=o.dispatch=Tu.bind(null,qt,o),[_.memoizedState,o]},useRef:function(o){var c=En();return o={current:o},c.memoizedState=o},useState:function(o){o=va(o);var c=o.queue,m=rf.bind(null,qt,c);return c.dispatch=m,[o.memoizedState,m]},useDebugValue:fc,useDeferredValue:function(o,c){var m=En();return xu(m,o,c)},useTransition:function(){var o=va(!1);return o=nf.bind(null,qt,o.queue,!0,!1),En().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,m){var _=qt,E=En();if(pe){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),Me===null)throw Error(r(349));se&60||Zh(_,c,m)}E.memoizedState=m;var N={value:m,getSnapshot:c};return E.queue=N,ef(H0.bind(null,_,N,o),[o]),_.flags|=2048,Ks(9,Ih.bind(null,_,N,m,c),{destroy:void 0},null),m},useId:function(){var o=En(),c=Me.identifierPrefix;if(pe){var m=Za,_=Wa;m=(_&~(1<<32-sn(_)-1)).toString(32)+m,c=":"+c+"R"+m,m=Ds++,0<m&&(c+="H"+m.toString(32)),c+=":"}else m=t1++,c=":"+c+"r"+m.toString(32)+":";return o.memoizedState=c},useCacheRefresh:function(){return En().memoizedState=af.bind(null,qt)}};jr.useMemoCache=yu,jr.useHostTransitionStatus=dc,jr.useFormState=bu,jr.useActionState=bu,jr.useOptimistic=function(o){var c=En();c.memoizedState=c.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=Jo.bind(null,qt,!0,m),m.dispatch=c,[o,c]};var fi={readContext:kn,use:nn,useCallback:Ws,useContext:kn,useEffect:uc,useImperativeHandle:Au,useInsertionEffect:V0,useLayoutEffect:Y0,useMemo:Zs,useReducer:Ha,useRef:Qs,useState:function(){return Ha(Ga)},useDebugValue:fc,useDeferredValue:function(o,c){var m=Ve();return Cu(m,ye.memoizedState,o,c)},useTransition:function(){var o=Ha(Ga)[0],c=Ve().memoizedState;return[typeof o=="boolean"?o:Ua(o),c]},useSyncExternalStore:G0,useId:Io};fi.useCacheRefresh=or,fi.useMemoCache=yu,fi.useHostTransitionStatus=dc,fi.useFormState=$h,fi.useActionState=$h,fi.useOptimistic=function(o,c){var m=Ve();return Ri(m,ye,o,c)};var Rs={readContext:kn,use:nn,useCallback:Ws,useContext:kn,useEffect:uc,useImperativeHandle:Au,useInsertionEffect:V0,useLayoutEffect:Y0,useMemo:Zs,useReducer:pa,useRef:Qs,useState:function(){return pa(Ga)},useDebugValue:fc,useDeferredValue:function(o,c){var m=Ve();return ye===null?xu(m,o,c):Cu(m,ye.memoizedState,o,c)},useTransition:function(){var o=pa(Ga)[0],c=Ve().memoizedState;return[typeof o=="boolean"?o:Ua(o),c]},useSyncExternalStore:G0,useId:Io};Rs.useCacheRefresh=or,Rs.useMemoCache=yu,Rs.useHostTransitionStatus=dc,Rs.useFormState=tf,Rs.useActionState=tf,Rs.useOptimistic=function(o,c){var m=Ve();return ye!==null?Ri(m,ye,o,c):(m.baseState=o,[o,m.queue.dispatch])};var El={isMounted:function(o){return(o=o._reactInternals)?b(o)===o:!1},enqueueSetState:function(o,c,m){o=o._reactInternals;var _=Qn(),E=mn(_);E.payload=c,m!=null&&(E.callback=m),c=xe(o,E,_),c!==null&&(Le(c,o,_),Xi(c,o,_))},enqueueReplaceState:function(o,c,m){o=o._reactInternals;var _=Qn(),E=mn(_);E.tag=1,E.payload=c,m!=null&&(E.callback=m),c=xe(o,E,_),c!==null&&(Le(c,o,_),Xi(c,o,_))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var m=Qn(),_=mn(m);_.tag=2,c!=null&&(_.callback=c),c=xe(o,_,m),c!==null&&(Le(c,o,m),Xi(c,o,m))}},Ns=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},$f=Error(r(461)),_n=!1,Kc={dehydrated:null,treeContext:null,retryLane:0},ta=M(null),js=null,ea=null,Qc=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(m,_){o.push(_)}};this.abort=function(){c.aborted=!0,o.forEach(function(m){return m()})}},We=zi.unstable_scheduleCallback,Ap=zi.unstable_NormalPriority,Je={$$typeof:ys,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},td=Vt.S;Vt.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&qn(o,c),td!==null&&td(o,c)};var vo=M(null),zr=!1,Kt=!1,Oe=!1,ne=typeof WeakSet=="function"?WeakSet:Set,kt=null,je=!1,be=null,hn=!1,ei=null,zs=8192,Br={getCacheForType:function(o){var c=kn(Je),m=c.data.get(o);return m===void 0&&(m=o(),c.data.set(o,m)),m}},Fe=0,wa=1,Ja=2,wl=3,di=4;if(typeof Symbol=="function"&&Symbol.for){var $a=Symbol.for;Fe=$a("selector.component"),wa=$a("selector.has_pseudo_class"),Ja=$a("selector.role"),wl=$a("selector.test_id"),di=$a("selector.text")}var Wc=typeof WeakMap=="function"?WeakMap:Map,re=0,Me=null,$t=null,se=0,Te=0,Sn=null,na=!1,ia=!1,yo=!1,Oa=0,Ke=0,aa=0,Lr=0,gi=0,Hi=0,An=0,Ol=null,ra=null,ch=!1,ed=0,ki=1/0,bo=null,tr=null,Ur=!1,Bs=null,Ml=0,uh=0,Zc=null,_o=0,nd=null;return ae.attemptContinuousHydration=function(o){if(o.tag===13){var c=Wt(o,67108864);c!==null&&Le(c,o,67108864),fl(o,67108864)}},ae.attemptHydrationAtCurrentPriority=function(o){if(o.tag===13){var c=Qn(),m=Wt(o,c);m!==null&&Le(m,o,c),fl(o,c)}},ae.attemptSynchronousHydration=function(o){switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var c=R(o.pendingLanes);if(c!==0){for(o.pendingLanes|=2,o.entangledLanes|=2;c;){var m=1<<31-sn(c);o.entanglements[1]|=m,c&=~m}He(o),!(re&6)&&(ki=Li()+500,Xn(0))}}break;case 13:c=Wt(o,2),c!==null&&Le(c,o,2),xf(),fl(o,2)}},ae.batchedUpdates=function(o,c){return o(c)},ae.createComponentSelector=function(o){return{$$typeof:Fe,value:o}},ae.createContainer=function(o,c,m,_,E,N,W,nt,ft,At){return _r(o,c,!1,null,m,_,N,W,nt,ft,At,null)},ae.createHasPseudoClassSelector=function(o){return{$$typeof:wa,value:o}},ae.createHydrationContainer=function(o,c,m,_,E,N,W,nt,ft,At,Rt,jt,Dt){return o=_r(m,_,!0,o,E,N,nt,ft,At,Rt,jt,Dt),o.context=Tf(null),m=o.current,_=Qn(),E=mn(_),E.callback=c??null,xe(m,E,_),o.current.lanes=_,Y(o,_),He(o),o},ae.createPortal=function(o,c,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xa,key:_==null?null:""+_,children:o,containerInfo:c,implementation:m}},ae.createRoleSelector=function(o){return{$$typeof:Ja,value:o}},ae.createTestNameSelector=function(o){return{$$typeof:wl,value:o}},ae.createTextSelector=function(o){return{$$typeof:di,value:o}},ae.defaultOnCaughtError=function(o){console.error(o)},ae.defaultOnRecoverableError=function(o){Ns(o)},ae.defaultOnUncaughtError=function(o){Ns(o)},ae.deferredUpdates=function(o){var c=Vt.T,m=As();try{return ci(32),Vt.T=null,o()}finally{ci(m),Vt.T=c}},ae.discreteUpdates=function(o,c,m,_,E){var N=Vt.T,W=As();try{return ci(2),Vt.T=null,o(c,m,_,E)}finally{ci(W),Vt.T=N,re===0&&(ki=Li()+500)}},ae.findAllNodes=cs,ae.findBoundingRects=function(o,c){if(!vl)throw Error(r(363));c=cs(o,c),o=[];for(var m=0;m<c.length;m++)o.push(yp(c[m]));for(c=o.length-1;0<c;c--){m=o[c];for(var _=m.x,E=_+m.width,N=m.y,W=N+m.height,nt=c-1;0<=nt;nt--)if(c!==nt){var ft=o[nt],At=ft.x,Rt=At+ft.width,jt=ft.y,Dt=jt+ft.height;if(_>=At&&N>=jt&&E<=Rt&&W<=Dt){o.splice(c,1);break}else if(_!==At||m.width!==ft.width||Dt<N||jt>W){if(!(N!==jt||m.height!==ft.height||Rt<_||At>E)){At>_&&(ft.width+=At-_,ft.x=_),Rt<E&&(ft.width=E-At),o.splice(c,1);break}}else{jt>N&&(ft.height+=jt-N,ft.y=N),Dt<W&&(ft.height=W-jt),o.splice(c,1);break}}}return o},ae.findHostInstance=Sr,ae.findHostInstanceWithNoPortals=function(o){return o=S(o),o=o!==null?w(o):null,o===null?null:oo(o.stateNode)},ae.findHostInstanceWithWarning=function(o){return Sr(o)},ae.flushPassiveEffects=fs,ae.flushSyncFromReconciler=function(o){var c=re;re|=1;var m=Vt.T,_=As();try{if(ci(2),Vt.T=null,o)return o()}finally{ci(_),Vt.T=m,re=c,!(re&6)&&Xn(0)}},ae.flushSyncWork=xf,ae.focusWithin=function(o,c){if(!vl)throw Error(r(363));for(o=ls(o),c=no(o,c),c=Array.from(c),o=0;o<c.length;){var m=c[o++],_=m.tag;if(!qa(m)){if((_===5||_===26||_===27)&&qu(m.stateNode))return!0;for(m=m.child;m!==null;)c.push(m),m=m.sibling}}return!1},ae.getFindAllNodesFailureDescription=function(o,c){if(!vl)throw Error(r(363));var m=0,_=[];o=[ls(o),0];for(var E=0;E<o.length;){var N=o[E++],W=N.tag,nt=o[E++],ft=c[nt];if((W!==5&&W!==26&&W!==27||!qa(N))&&(Gu(N,ft)&&(_.push(Ai(ft)),nt++,nt>m&&(m=nt)),nt<c.length))for(N=N.child;N!==null;)o.push(N,nt),N=N.sibling}if(m<c.length){for(o=[];m<c.length;m++)o.push(Ai(c[m]));return`findAllNodes was able to match part of the selector:
  `+(_.join(" > ")+`

No matching component was found for:
  `)+o.join(" > ")}return null},ae.getPublicRootInstance=function(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 27:case 5:return oo(o.child.stateNode);default:return o.child.stateNode}},ae.injectIntoDevTools=function(){var o={bundleType:0,version:ml,rendererPackageName:mp,currentDispatcherRef:Vt,findFiberByHostInstance:Xu,reconcilerVersion:"19.0.0"};if(Ie!==null&&(o.rendererConfig=Ie),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")o=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)o=!0;else{try{Sl=c.inject(o),bn=c}catch{}o=!!c.checkDCE}}return o},ae.isAlreadyRendering=function(){return!1},ae.observeVisibleRects=function(o,c,m,_){if(!vl)throw Error(r(363));o=cs(o,c);var E=Ku(o,m,_).disconnect;return{disconnect:function(){E()}}},ae.shouldError=function(){return null},ae.shouldSuspend=function(){return!1},ae.startHostTransition=function(o,c,m,_){if(o.tag!==5)throw Error(r(476));var E=Zo(o).queue;nf(o,E,c,lo,m===null?n:function(){var N=Zo(o).next.queue;return es(o,N,{},Qn()),m(_)})},ae.updateContainer=function(o,c,m,_){var E=c.current,N=Qn();return Ya(E,N,o,c,m,_),N},ae.updateContainerSync=function(o,c,m,_){return c.tag===0&&fs(),Ya(c.current,2,o,c,m,_),2},ae},a.exports.default=a.exports,Object.defineProperty(a.exports,"__esModule",{value:!0})}(f2)),f2.exports}var z5;function AC(){return z5||(z5=1,h2.exports=SC()),h2.exports}var xC=AC();const CC=jm(xC);var d2={exports:{}},To={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B5;function TC(){return B5||(B5=1,To.ConcurrentRoot=1,To.ContinuousEventPriority=8,To.DefaultEventPriority=32,To.DiscreteEventPriority=2,To.IdleEventPriority=268435456,To.LegacyRoot=0,To.NoEventPriority=0),To}var L5;function EC(){return L5||(L5=1,d2.exports=TC()),d2.exports}var Nv=EC(),wC=le();const U5={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let G5=!1,H5=!1;const jv=".react-konva-event",OC=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,MC=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,DC={};function Hm(a,t,e=DC){if(!G5&&"zIndex"in t&&(console.warn(MC),G5=!0),!H5&&t.draggable){var n=t.x!==void 0||t.y!==void 0,r=t.onDragEnd||t.onDragMove;n&&!r&&(console.warn(OC),H5=!0)}for(var l in e)if(!U5[l]){var h=l.slice(0,2)==="on",f=e[l]!==t[l];if(h&&f){var d=l.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),a.off(d,e[l])}var p=!t.hasOwnProperty(l);p&&a.setAttr(l,void 0)}var v=t._useStrictMode,b={},A=!1;const S={};for(var l in t)if(!U5[l]){var h=l.slice(0,2)==="on",x=e[l]!==t[l];if(h&&x){var d=l.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),t[l]&&(S[d]=t[l])}!h&&(t[l]!==e[l]||v&&t[l]!==a.getAttr(l))&&(A=!0,b[l]=t[l])}A&&(a.setAttrs(b),Il(a));for(var d in S)a.on(d+jv,S[d])}function Il(a){if(!wC.Konva.autoDrawEnabled){var t=a.getLayer()||a.getStage();t&&t.batchDraw()}}var g2=xv();const B_={},RC={};g0.Node.prototype._applyProps=Hm;let km=Nv.DefaultEventPriority;function NC(a,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}a.add(t),Il(a)}function jC(a,t,e){let n=g0[a];n||(console.error(`Konva has no node with the type ${a}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${a}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),n=g0.Group);const r={},l={};for(var h in t){var f=h.slice(0,2)==="on";f?l[h]=t[h]:r[h]=t[h]}const d=new n(r);return Hm(d,l),d}function zC(a,t,e){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${a}"`)}function BC(a,t,e){return!1}function LC(a){return a}function UC(){return null}function GC(){return null}function HC(a,t,e,n){return RC}function kC(){}function PC(a){}function FC(a,t){return!1}function VC(){return B_}function YC(){return B_}const XC=setTimeout,qC=clearTimeout,KC=-1;function QC(a,t){return!1}const WC=!1,ZC=!0,IC=!0,JC=!1,$C=!1;function t9(a,t){t.parent===a?t.moveToTop():a.add(t),Il(a)}function e9(a,t){t.parent===a?t.moveToTop():a.add(t),Il(a)}function L_(a,t,e){t._remove(),a.add(t),t.setZIndex(e.getZIndex()),Il(a)}function n9(a,t,e){L_(a,t,e)}function i9(a,t){t.destroy(),t.off(jv),Il(a)}function a9(a,t){t.destroy(),t.off(jv),Il(a)}function r9(a,t,e){console.error(`Text components are not yet supported in ReactKonva. You text is: "${e}"`)}function s9(a,t,e){}function o9(a,t,e,n){Hm(a,n,e)}function l9(a){a.hide(),Il(a)}function c9(a){}function u9(a,t){(t.visible==null||t.visible)&&a.show()}function h9(a,t){}function f9(a){}function d9(){}function g9(){return km}function m9(){}function p9(){return null}function v9(a){km=a}function y9(){return km}function b9(){return km||Nv.DefaultEventPriority}function _9(){return!1}function S9(){}function A9(){return!1}function x9(){return!0}function C9(){}function T9(){}function E9(){return null}const w9=null;function O9(){}const M9=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:w9,appendChild:t9,appendChildToContainer:e9,appendInitialChild:NC,cancelTimeout:qC,clearContainer:f9,commitMount:s9,commitTextUpdate:r9,commitUpdate:o9,createInstance:jC,createTextInstance:zC,detachDeletedInstance:d9,finalizeInitialChildren:BC,getChildHostContext:YC,getCurrentEventPriority:g9,getCurrentUpdatePriority:y9,getInstanceFromScope:p9,getPublicInstance:LC,getRootHostContext:VC,hideInstance:l9,hideTextInstance:c9,idlePriority:g2.unstable_IdlePriority,insertBefore:L_,insertInContainerBefore:n9,isPrimaryRenderer:WC,maySuspendCommit:A9,noTimeout:KC,now:g2.unstable_now,preloadInstance:x9,prepareForCommit:UC,preparePortalMount:GC,prepareScopeUpdate:m9,prepareUpdate:HC,removeChild:i9,removeChildFromContainer:a9,requestPostPaintCallback:S9,resetAfterCommit:kC,resetFormInstance:O9,resetTextContent:PC,resolveUpdatePriority:b9,run:g2.unstable_runWithPriority,scheduleTimeout:XC,setCurrentUpdatePriority:v9,shouldAttemptEagerTransition:_9,shouldDeprioritizeSubtree:FC,shouldSetTextContent:QC,startSuspendingCommit:C9,supportsHydration:$C,supportsMutation:IC,supportsPersistence:JC,suspendInstance:T9,unhideInstance:u9,unhideTextInstance:h9,waitForCommitToBeReady:E9,warnsIfNotActing:ZC},Symbol.toStringTag,{value:"Module"}));var D9=Object.defineProperty,R9=Object.defineProperties,N9=Object.getOwnPropertyDescriptors,k5=Object.getOwnPropertySymbols,j9=Object.prototype.hasOwnProperty,z9=Object.prototype.propertyIsEnumerable,P5=(a,t,e)=>t in a?D9(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,F5=(a,t)=>{for(var e in t||(t={}))j9.call(t,e)&&P5(a,e,t[e]);if(k5)for(var e of k5(t))z9.call(t,e)&&P5(a,e,t[e]);return a},B9=(a,t)=>R9(a,N9(t)),V5,Y5;typeof window<"u"&&((V5=window.document)!=null&&V5.createElement||((Y5=window.navigator)==null?void 0:Y5.product)==="ReactNative")?F.useLayoutEffect:F.useEffect;function U_(a,t,e){if(!a)return;if(e(a)===!0)return a;let n=a.child;for(;n;){const r=U_(n,t,e);if(r)return r;n=n.sibling}}function G_(a){try{return Object.defineProperties(a,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return a}}const X5=console.error;console.error=function(){const a=[...arguments].join("");if(a!=null&&a.startsWith("Warning:")&&a.includes("useContext")){console.error=X5;return}return X5.apply(this,arguments)};const zv=G_(F.createContext(null));class H_ extends F.Component{render(){return F.createElement(zv.Provider,{value:this._reactInternals},this.props.children)}}function L9(){const a=F.useContext(zv);if(a===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=F.useId();return F.useMemo(()=>{for(const n of[a,a==null?void 0:a.alternate]){if(!n)continue;const r=U_(n,!1,l=>{let h=l.memoizedState;for(;h;){if(h.memoizedState===t)return!0;h=h.next}});if(r)return r}},[a,t])}function U9(){const a=L9(),[t]=F.useState(()=>new Map);t.clear();let e=a;for(;e;){if(e.type&&typeof e.type=="object"){const r=e.type._context===void 0&&e.type.Provider===e.type?e.type:e.type._context;r&&r!==zv&&!t.has(r)&&t.set(r,F.useContext(G_(r)))}e=e.return}return t}function G9(){const a=U9();return F.useMemo(()=>Array.from(a.keys()).reduce((t,e)=>n=>F.createElement(t,null,F.createElement(e.Provider,B9(F5({},n),{value:a.get(e)}))),t=>F.createElement(H_,F5({},t))),[a])}function H9(a){const t=dn.useRef({});return dn.useLayoutEffect(()=>{t.current=a}),dn.useLayoutEffect(()=>()=>{t.current={}},[]),t.current}const k9=a=>{const t=dn.useRef(null),e=dn.useRef(null),n=dn.useRef(null),r=H9(a),l=G9(),h=f=>{const{forwardedRef:d}=a;d&&(typeof d=="function"?d(f):d.current=f)};return dn.useLayoutEffect(()=>(e.current=new g0.Stage({width:a.width,height:a.height,container:t.current}),h(e.current),n.current=r0.createContainer(e.current,Nv.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),r0.updateContainer(dn.createElement(l,{},a.children),n.current,null,()=>{}),()=>{g0.isBrowser&&(h(null),r0.updateContainer(null,n.current,null),e.current.destroy())}),[]),dn.useLayoutEffect(()=>{h(e.current),Hm(e.current,a,r),r0.updateContainer(dn.createElement(l,{},a.children),n.current,null)}),dn.createElement("div",{ref:t,id:a.id,accessKey:a.accessKey,className:a.className,role:a.role,style:a.style,tabIndex:a.tabIndex,title:a.title})},P9="Layer",F9="Image",V9="Arrow",Y9="Transformer",r0=CC(M9);r0.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:dn.version,rendererPackageName:"react-konva"});const X9=dn.forwardRef((a,t)=>dn.createElement(H_,{},dn.createElement(k9,{...a,forwardedRef:t}))),q9=({id:a,x:t,y:e,width:n,height:r,icon:l,isSelected:h,onSelect:f,onChange:d})=>{const p=F.useRef(),v=F.useRef(),[b,A]=F.useState(null);return F.useEffect(()=>{if(l){const S=new window.Image;S.src=l,S.onload=()=>A(S)}},[l]),F.useEffect(()=>{h&&(v.current.setNode(p.current),v.current.getLayer().batchDraw())},[h]),$.jsxs($.Fragment,{children:[b&&$.jsx(F9,{ref:p,image:b,x:t,y:e,width:n,height:r,draggable:!0,onClick:f,onDragEnd:S=>{d({id:a,x:S.target.x(),y:S.target.y(),width:n,height:r,icon:l,data:{}})},onTransformEnd:()=>{const S=p.current,x=Math.max(10,S.width()*S.scaleX()),w=Math.max(10,S.height()*S.scaleY());S.scaleX(1),S.scaleY(1),d({id:a,x:S.x(),y:S.y(),width:x,height:w,icon:l,data:{}})}}),h&&$.jsx(Y9,{ref:v})]})},K9=({formData:a,selectedId:t,closeSidebar:e,handleFormChange:n,saveShape:r})=>$.jsxs("div",{style:{position:"fixed",right:0,top:0,width:"300px",height:"100%",padding:"10px",borderLeft:"1px solid #ccc",backgroundColor:"#fff"},children:[$.jsx("h2",{className:"text-lg font-bold mb-4",children:"Edit Shape Data"}),$.jsx("button",{onClick:e,className:"bg-red-500 text-white px-4 py-2 rounded mb-4",children:"Close"}),t?$.jsxs($.Fragment,{children:[$.jsxs("label",{children:["Field 1:",$.jsx("input",{type:"text",name:"field1",value:a.field1||"",onChange:n,className:"border border-gray-300 p-2 w-full"})]}),$.jsxs("label",{children:["Field 2:",$.jsx("input",{type:"text",name:"field2",value:a.field2||"",onChange:n,className:"border border-gray-300 p-2 w-full"})]}),$.jsx("div",{className:"flex justify-end mt-4",children:$.jsx("button",{onClick:r,className:"bg-green-500 text-white px-4 py-2 rounded",children:"Save"})})]}):$.jsx("p",{children:"Select a shape to edit"})]}),k_="/MIFC/assets/icon01-CaSi78tk.svg",P_="/MIFC/assets/icon02-HJLyIyw8.svg",F_="data:image/svg+xml,%3csvg%20width='41'%20height='31'%20viewBox='0%200%2041%2031'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='41'%20height='31'%20fill='url(%23pattern0_88_60)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_88_60'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_88_60'%20transform='matrix(0.00821845%200%200%200.0108696%20-0.00132556%200)'/%3e%3c/pattern%3e%3cimage%20id='image0_88_60'%20width='122'%20height='92'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAABcCAMAAACWclH9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADeUExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADg4OI+Pj7+/v5eXl0hISAAAAAAAAHh4eP///5+fnwAAAGhoaM/Pz/f396+vr9/f3wAAAAAAAFhYWAAAAAgICIeHh+/v7xAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANHR0UtLSy4uLpaWlgAAAAAAAAAAAICAgAAAAAAAAAAAAAAAAAAAAGBgYH9/f8fHx+fn5ygoKEBAQBgYGNfX1zAwMN0bgxYAAABBdFJOUwAocKe/r4AIh/+fEM/fIP//////tzD///9Q///////vj/9I/////9cY90D7x1ho53iXYDj/////uPmB/6Yuqvidp9aTxgAAAAlwSFlzAAAXEQAAFxEByibzPwAABKZJREFUaEPtmgtX2jAUxwPF4uW14cbQPcSpE3ACKgy3sbd7fv8vtP9NbjuVpFXWhLNz9j+HNk1pfk1yc/OqYpXKUWUjLulwUFU3yahWl5hQqjaETNRsSVwgcZ7v3W9vPcD5ocSFUQfER13WNkI7EhtEMfKsyd3uY6INiQ2iDaJtQT9BbUtsEDWJngj6KUpcYoOoQvRM0LtEPYkNoj2i54K+T1SR2CDaRym3NXn3gKgssWH0kOjgcLf7YuuIqF+VyDAa9JBvo+GxxIVSJ/GkzdBkqNx8SXQShy1tEbIsoeD6jw6s/+jAWi96IMHQAppqaxiHQ4zGwGwNPlzQRI2RRIQTqJ2ahjfHgTsRMNFx7+meexIHtTiNVqp+OmH48CzgBEjQmICd9xlOUcdc+1eKhnYwPIYqgeZAV9FKTTEjgfrncu1V19FKtc6GDJ+U/c+4b6Jh7rEx96rybHLLaFhcGdOxSI08TwtsaGjU6ExR8pFPL+NAI+u6oTc8FroTrY51lff8dSxutGqZuYm3Cs9Aq2qk2b4qPAuNeZFmN/z0KtloqfDJVC4LVQ5alXSnMvRh6HloVddu3YdTz0XrxYd1oXn8tEZ0tuSPd9QtHlw7utudvZp3cZzJ8YJPc1wEQNOM19g4lBy7EpY/3lG3RhvY7AoyfYt/Dx2/fvNWgi4lBc4YrmdBLpK3WBX9Dl4yZwSYoucJTB8X+oiLVdHvkeoHCTvkC614HJTtqxJ00RbOq+LUy+yQfZmZXhXPXof3hq7q2cZYrmxK6xqYIi3c9Ik0zFhOSdEXiwV7z8WCLezPcXU0xl8YBZ3IlUVJga8mScSqFtFHFHosl8vyh+b9rk8ocufQLylwd+O6EnX1Bp7IQaN5nWFS79x4SXLNidktHGfrDf5JInYd8x4yinxPrm8qNTOkZLdw/Gw3+JCN5uZVOkcCjumVRzTvq55yG2va+5EU7fThBrl0g5/IQY/ZnQ3gzGsScV0ezUyVYN+YzSMJ68KVT3Rsdq8xxbEulBq0SbNgC2frhg/vIO/WHsygZ5zn+St9nPPxYm6ikDOy38AxBw0Da+CE5m3/aCA1M6RUrIXv4FHUcRWO3L5MmKKLtnBermFnAiubmJibStDuKYDO8/INPJGJRjlPuD3DlTp6kAS9moUfLykxKP44he0aDcy1/2LQBerUpHsio6NN9wc5haPNFxlwZHqAwjXuWosuHK3rn72nrmGY+SSr0+xXilKCRqpNTUTb3uSzTV5yPcVpn1MfIOBcJPKB5u/NjAODF3cPxc26XYGC/zhNvTaq3L3FVkcrKFK9sRqg2zBrr5iBOI0sFRoDPW+3Hx24h1IWoTzpc7v95YgX91NFyHRZ5xqh5iiPjbHMY3ZR26aLvaVQp4f8VFuPCRKZraWTcsuEhlH2JhPGzJecyN0+EMMgQH/n9PXaU+m3OHHJvEV2bvAf/WXcZeKObiU0j29g7343PXOq1lhPuNC+WmV+D/vYTIRa+4FEfv66Vmt56sCg6AA1vWzI9VEkFlaK+7qNu1RHiSMV/LLmhkviIZ+We2aVr6leGwf5blvdnYgz/peb8/U9tP9e7W/XxpX6DWRBxsfjSeAAAAAAAElFTkSuQmCC'/%3e%3c/defs%3e%3c/svg%3e",V_="/MIFC/assets/icon04-CibKyeNi.svg",Y_="/MIFC/assets/icon05-CIfq6nXH.svg",X_="/MIFC/assets/icon06-DxJUUCRK.svg",q_="/MIFC/assets/icon07-B-mkWNL5.svg",K_="/MIFC/assets/icon08-Ju40BjYU.svg",Q_="/MIFC/assets/icon09-C5APVx9n.svg",W_="/MIFC/assets/icon10-DjE7BpKW.svg",Z_="/MIFC/assets/icon11-Dy1QFU1H.svg",I_="data:image/svg+xml,%3csvg%20width='21'%20height='49'%20viewBox='0%200%2021%2049'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='21'%20height='49'%20fill='url(%23pattern0_89_74)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_89_74'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_89_74'%20transform='matrix(0.0196078%200%200%200.00840336%200%20-0.00840336)'/%3e%3c/pattern%3e%3cimage%20id='image0_89_74'%20width='51'%20height='121'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAB5CAMAAACjvOkSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC9UExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOvSc8wAAAA/dFJOU+X/kKKj4QCpqjAzBH3aiTgDLlRPTUZHRD8+nN2ENQqX+vv38e9SAQVDc3R2f4KKi8T9zoM5ftItVm0MkaSl5kIZTxUAAAAJcEhZcwAAFxEAABcRAcom8z8AAADHSURBVFhH7djHDsIwEEVRD6H33kIntNB7C/z/Z8EkBlEWxCwQi3c3Hsk68nosBCknPJpXJU3zkfCrFviRCcLAXIOB4WBgOBgYDgaG+zMTCkfkdM2licbiCTneTDKVzjhlc6/lC8VSqUykV6ryLcfU6nIRIGq81my1DaPFV3qn+2B6/YHpNBy9NZ5M47M50WK5ejQfW9PG3MrZrdnt78K1OcjTzqV5CgaGg4HhYGA4GBgOBob7lfnyb/1onVSyLB+Js70nKER0ATK/o7LbwAQ8AAAAAElFTkSuQmCC'/%3e%3c/defs%3e%3c/svg%3e",J_="/MIFC/assets/icon13-Cen44OO7.svg",$_="data:image/svg+xml,%3csvg%20width='19'%20height='50'%20viewBox='0%200%2019%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='19'%20height='50'%20fill='url(%23pattern0_89_78)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_89_78'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_89_78'%20transform='matrix(0.0196078%200%200%200.00745098%200%20-0.00294118)'/%3e%3c/pattern%3e%3cimage%20id='image0_89_78'%20width='51'%20height='135'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAACHCAMAAACMJJF7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABUUExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABTgfbgAAAAcdFJOU664t8oAubpFSM5mbGtn1wS7PD8+y3B2ddoGvK8VHYJkAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAdklEQVRYR+3WNxbDMBADUZAyLWc5yfH+97RxBLDUm+l/sdVCKjWrDFrFtQ6zxmD+YTAOg3GY5ZmqcRM2brXbZx2OJ01x54572DsYh8E4DMZhMA6zPFN1uYbd7pofWc/5pXfa9Om4hw2LcRiMw2Acxr/x20pWG37JP3qZt6Od+wAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e",tS="/MIFC/assets/icon15-CIaDHdRq.svg",eS="data:image/svg+xml,%3csvg%20width='50'%20height='27'%20viewBox='0%200%2050%2027'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='50'%20height='27'%20fill='url(%23pattern0_20_345)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_20_345'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_20_345'%20transform='matrix(0.0078125%200%200%200.0144676%200%20-0.00636574)'/%3e%3c/pattern%3e%3cimage%20id='image0_20_345'%20width='128'%20height='70'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABGCAMAAAAzUWxQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADPUExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANHR0f///wAAAAAAAC4uLoCAgAAAAAAAAAAAAJaWlgAAAAAAAAAAAAAAAAAAAH9/fwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEtLS5eXlwAAAAAAAAAAABgYGL+/v4+PjyAgIFhYWO/v7/f393BwcCgoKEBAQK+vrwgICHh4eJ+fnxAQEFBQUN/f3+fn56enpzAwMMfHx8/Pz9fX14eHh7e3tzg4OGBgYGhoaMeA8vwAAAApdFJOU/8ASL+AYEAIcCD//88o//9Qp9//EFj352j/n9fvOIcYlzDHeP//j7ev1XUDGwAAAAlwSFlzAAAXEQAAFxEByibzPwAABIJJREFUaEPtmllb2zgUhiWcBRLIwmIgQJPQsoWWlAGG0hlKOzP//zfNdxZ5IXYS5Ynti5n3Qlg68vEnS0eSFUwhWGs3AlCrN5q4nofesWbguK6XJtjckkdlgxot0yY05T+SrmpgATV5PLNd25GnZQBzR26itKs+JV3ZQAK2Go1Gr9YPWIExu7WcvoBtDzd1u9136V63u6qBBTj2D/ohSzg80pI0sOAm1wLyo03rpJqWazjmNG1ICSB6g0OScNLTfBIWoCKcA05bnK5kmBFgbXPzlCQEZ5qPKUkAuuID98SmZiNQVkwUzDIckILRu8GIomKiIIvxNmzn+5oTShVgm30Yd8eaY1DAN1FSWBQk+IgHhhuaIViAinAOOF33IHT0EA5hIhhKF2B3djEpxcsDBJQVBY4tvIPzKBYg4BNJ73Qo3eu0OCPpMoaLDMMCAbaBh/b1mgSUGAXKJqp81Gtc8k2UlBEFwgiP1VBgAa0WSUdKq1mrw5lPWrSCYbGAJlbpExkGLEBaIKlrGvXmiobFAuwQC4MsCxBQdhQwHxCL/AqqEtDEDoHHIQRQ16mDkqKAQCSEQ/zlMRA5KCsKAL2CS/ytTIDt4RVgFLAAFeEccFpsFBDYHBxUNwgBVmZMyBUK2DLmtEkCqokCcELzMWov+MzwNywrAF9vIxmEUQvIjzat8Ciw9gyzoQhQEc4Bp8VHgbXYG9HewDnKcedvWFoAVuUjCKgqCng6voSAyqLAbhhzVamAHWxLUJtvoqTsKKBpEOMQt6kI54DTMgYhxWAxqP+FaPX1o/4XEgS1pesWhUr+n2rR3qiA/5qA3igIgsFB4pisVAE9Pi0Fp/GZrZZojhjW+1B5fZQ+YZ+V7k2TDwmVK3dSp3nNgTofqILQnR+ALOm+DGnVuzmeTCa3n3F1qMf37DYWMKTF2XGudbKl+0JOvtzxojX9iuttKWankYAhNf/+FiovfsNV2ODCbOmeYOdhbvnxxMOjO6FBMcHX1lL7n6ZS5/dnLNXU5znS/Whi1f/GPoRj/TJOC6gb8zjRGu32yw1t2nOl+4Hv0Ofv6oOY3uv5iDxfBFAH8PZG+QOGca50P7D7/aoehFtjBmSQ54sA7I//1PcvfDOmlivdj8CYB/UgvGpfqgDHhZoFegVgRvpqvKgD4U5L3/FDzcKbFM5IX420gDYGUwaZlZaSvphXdSD80FKCOwlsG/OmZuE7pj6MwVlVeoMH1+nxzd17rbbI3cxAeTAmQOGM9BO9wYOsAR6dFetf+lhPBly7/YQPt3nSPaBz0Z/qgfiFN+9+t4kEjFH4SysQb3jZG/Ok+4Cv0Me4L6eY1HkaIOIexWxxI3Mu8xfWo7nSvcAIe3bNe8VkchhNZ7EAmvXuXY+/4fkhFp450r0Y06+Wf9Mof8FsyudzSiyAf8gw/0zu2tPJE4UgT3n50v04o1XVGLQLnMbPTwqwB7IdkfgPZcrNl+7JfryvuEo2IikguSNx+5F86d40BtTAsJ/+DT0lAAvnJf3HwfmornmQJ31NvBOQSbb0tWDtv7Grv+rTzLqtAAAAAElFTkSuQmCC'/%3e%3c/defs%3e%3c/svg%3e",nS="/MIFC/assets/icon17-Z8uIKHCF.svg",iS="/MIFC/assets/icon18-CaKI0bhr.svg",aS="data:image/svg+xml,%3csvg%20width='49'%20height='23'%20viewBox='0%200%2049%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='49'%20height='23'%20fill='url(%23pattern0_50_7)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_50_7'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_50_7'%20transform='matrix(0.00938776%200%200%200.02%20-0.0022449%200)'/%3e%3c/pattern%3e%3cimage%20id='image0_50_7'%20width='107'%20height='50'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAAAyCAMAAABs4NUBAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHUUExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAF0x3AoAAACcdFJOUwAlWXIMATJpNg1AYQ5SnHYCF1SGfV6eIQkmaohwkWR5hKgfFlOHfltEgBhHdI9mLwt8JC5XiVE9Xwc7YotDHXgURWcwGQY5d4JCBYEjFWgnSQODWn8zc2COHnpjCiosTCBcCEZ1OmuFZUgRNG5vHDwEP41LcTVKD20pXYp7ThCMG5CXlSK+KzipEpKUlpiZmpufoKGjpKWmp+Kq0ilutw4AAAAJcEhZcwAAFxEAABcRAcom8z8AAAJoSURBVFhH3ZPrW9JgGIcHNAMlhQBPZKAcCpCAisxAAhEhyYKBBkmmlpEdyORgSmkeKjufreyfbWwPsAF99PnA/WH7/Z5d73Xvet+N+B8CoegIxBrIlqNiiLVIWtukEGsQHGvvgMhHJj+uUKo6u6By6e7pVZ/oOwmNh0Ss0Yr6B6BxIHV6g/HUaRNULmbLoPWMzU44zsKgyrnzWucFATF0EXqV4Usut3LEQ1yuW+T1iayjfjsxVucKjAdDHVcmSjF8lZlUmBSGTdeul1KkxhUV9FLGmLwU4/xF0alpbdAXKMWuMDMpE/DfSGgsHmg8V9J3MzEjTrGF77qlNyj0s2wmea7ZmNt0u3wSAyEIJebajNS8WQaN61q4c5fSLC5A47nkMYf2noDZhxIcly7mSN9PRqHRLgoCkVzSquenoLCA68HDR4nHlkkmA2VXZiTudj1ZZgtD2WV+6liZWay+N41Hy9xS2Zxz0Fb7iYfn6Et+NERlveygQkRFX1KFnFqTX2UnZcg4vYgcepZWjtc8YVxSm8idKzT4l6i1zHrxubD+aySyKql/uph7sQG9Cmla87g2g3ozdA4vFUSBSi9loPJJbznXe6qHxKF120BZGi8q7hhiu9xdrUC7Xu1CruN1HkIdq5FGvzlDyxsIdYwZiH6Ih47ZQOxBPHTkTjyXrticLu9mc7reriC6EniuDSuiawvPtdqH55Jgut7huezvm9PVvYPo+oDnGt5GdH3EcwUQXROf8FzLn/Fcsi+IrnY8F4Hp6kR0fW1S1zdE1/cmdf1AdP1EdO0jun41qes3fWJY7BN/9g5wOPj7D5Lbu7YJPLPIAAAAAElFTkSuQmCC'/%3e%3c/defs%3e%3c/svg%3e",rS="data:image/svg+xml,%3csvg%20width='37'%20height='30'%20viewBox='0%200%2037%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.42%204.5H14.7V29H9.32V4.5H0.6V0.079998H23.42V4.5ZM30.6472%2029.32C28.8605%2029.32%2027.4872%2028.82%2026.5272%2027.82C25.5805%2026.8067%2025.1072%2025.4133%2025.1072%2023.64V12.18H23.0072C22.7405%2012.18%2022.5139%2012.0933%2022.3272%2011.92C22.1405%2011.7467%2022.0472%2011.4867%2022.0472%2011.14V9.18L25.3472%208.64L26.3872%203.04C26.4539%202.77333%2026.5805%202.56666%2026.7672%202.42C26.9539%202.27333%2027.1939%202.2%2027.4872%202.2H30.0472V8.66H35.5272V12.18H30.0472V23.3C30.0472%2023.94%2030.2005%2024.44%2030.5072%2024.8C30.8272%2025.16%2031.2605%2025.34%2031.8072%2025.34C32.1139%2025.34%2032.3672%2025.3067%2032.5672%2025.24C32.7805%2025.16%2032.9605%2025.08%2033.1072%2025C33.2672%2024.92%2033.4072%2024.8467%2033.5272%2024.78C33.6472%2024.7%2033.7672%2024.66%2033.8872%2024.66C34.0339%2024.66%2034.1539%2024.7%2034.2472%2024.78C34.3405%2024.8467%2034.4405%2024.9533%2034.5472%2025.1L36.0272%2027.5C35.3072%2028.1%2034.4805%2028.5533%2033.5472%2028.86C32.6139%2029.1667%2031.6472%2029.32%2030.6472%2029.32Z'%20fill='black'/%3e%3c/svg%3e",Q9=[{name:"Build",icon:k_},{name:"Chute",icon:P_},{name:"Dolly Conveyance",icon:F_},{name:"Intruction",icon:V_},{name:"Kanban Post",icon:Y_},{name:"Kanban Post 2",icon:X_},{name:"Kanban Post 3",icon:q_},{name:"Kanban",icon:K_},{name:"Other",icon:Q_},{name:"Ship Conveyance",icon:W_},{name:"Process",icon:Z_},{name:"Sequence Lane",icon:I_},{name:"Text 8",icon:J_},{name:"Store",icon:$_},{name:"Yama",icon:tS},{name:"Truck Conveyance",icon:eS},{name:"Black Arrow",icon:nS},{name:"Red Arrow",icon:iS},{name:"Destination",icon:aS},{name:"Add Text",icon:rS}],W9=()=>{const[a,t]=F.useState([]),[e,n]=F.useState(null),[r,l]=F.useState(null),[h,f]=F.useState([]),[d,p]=F.useState("black"),[v,b]=F.useState({}),[A,S]=F.useState(!1),[x,w]=F.useState(!1),M=B=>{const Y={id:`${a.length}`,x:100,y:100,width:60,height:60,icon:B,data:{}};t([...a,Y]),n(Y.id),b({}),S(!0)},D=B=>{x&&e?f([...h,{from:e,to:B.id,color:d}]):(n(B.id),b(B.data||{}),S(!0))},T=B=>{l(B)},O=B=>{const{name:Y,value:Z}=B.target;b(j=>({...j,[Y]:Z}))},R=()=>{if(e){const B=a.find(Y=>Y.id===e);if(B){const Y={...B,data:v},Z=a.map(j=>j.id===Y.id?Y:j);t(Z)}}},z=()=>{S(!1),n(null)},H=B=>{B.key==="Shift"&&w(!0),B.key==="Delete"&&(e?(t(a.filter(Y=>Y.id!==e)),n(null),S(!1)):r&&(f(h.filter(Y=>Y!==r)),l(null)))},V=B=>{B.key==="Shift"&&w(!1)},P=B=>{p(B)},K=B=>{B.target===B.target.getStage()&&(l(null),n(null),S(!1))};return F.useEffect(()=>(window.addEventListener("keydown",H),window.addEventListener("keyup",V),()=>{window.removeEventListener("keydown",H),window.removeEventListener("keyup",V)}),[a,e,r]),$.jsxs($.Fragment,{children:[$.jsxs("div",{className:"w-[80vw]",children:[$.jsx("div",{className:"w-[80vw] overflow-x-auto",children:$.jsxs("div",{className:"w-[100vw] flex gap-10 px-5",children:[Q9.map((B,Y)=>$.jsx("button",{onClick:()=>M(B.icon),children:$.jsx("img",{src:B.icon,alt:B.name,className:"object-cover"})},Y)),$.jsx("button",{onClick:()=>P("black"),children:"Black Arrow"}),$.jsx("button",{onClick:()=>P("red"),children:"Red Arrow"})]})}),$.jsx("div",{className:"w-[80vw] h-[80vh] overflow-auto mt-5 bg-white rounded-xl",children:$.jsx(X9,{width:window.innerWidth,height:window.innerHeight,onClick:K,children:$.jsxs(P9,{children:[a.map(B=>$.jsx(q9,{...B,isSelected:B.id===e,onSelect:()=>D(B),onChange:Y=>{const Z=a.map(j=>j.id===Y.id?Y:j);t(Z)}},B.id)),h.map((B,Y)=>{const Z=a.find(U=>U.id===B.from),j=a.find(U=>U.id===B.to);if(Z&&j){const U=Z.x+Z.width/2,G=Z.y+Z.height/2,k=j.x+j.width/2,X=j.y+j.height/2,I=r&&r.from===B.from&&r.to===B.to;return $.jsx(V9,{points:[U,G,k,X],stroke:I?"blue":B.color,strokeWidth:4,fill:I?"blue":B.color,pointerLength:10,pointerWidth:10,onClick:()=>T(B)},Y)}return null})]})})})]}),A&&$.jsx(K9,{formData:v,selectedId:e,closeSidebar:z,handleFormChange:O,saveShape:R})]})},Z9=()=>{const a=Lm(t=>t.theme.theme);return $.jsxs("div",{className:`w-[50vw] h-[50vh] ${a!=="light"?"bg-[#252525] text-white":"bg-[#F1F1F1] text-black"}`,children:[$.jsx("div",{className:"flex items-center h-[10vh] px-5",children:$.jsx("p",{className:"text-3xl font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-full",children:"MIFC Drawing"})}),$.jsx(W9,{})]})};function at(a,t,e){return(t=function(n){var r=function(l,h){if(typeof l!="object"||!l)return l;var f=l[Symbol.toPrimitive];if(f!==void 0){var d=f.call(l,h||"default");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(l)}(n,"string");return typeof r=="symbol"?r:r+""}(t))in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function q5(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),e.push.apply(e,n)}return e}function st(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(e),!0).forEach(function(n){at(a,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):q5(Object(e)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(e,n))})}return a}function $e(a,t){if(a==null)return{};var e,n,r=function(h,f){if(h==null)return{};var d={};for(var p in h)if({}.hasOwnProperty.call(h,p)){if(f.indexOf(p)>=0)continue;d[p]=h[p]}return d}(a,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);for(n=0;n<l.length;n++)e=l[n],t.indexOf(e)>=0||{}.propertyIsEnumerable.call(a,e)&&(r[e]=a[e])}return r}function Jl(a,t){return t||(t=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(t)}}))}class K5{constructor(){at(this,"browserShadowBlurConstant",1),at(this,"DPI",96),at(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),at(this,"perfLimitSizeTotal",2097152),at(this,"maxCacheSideLimit",4096),at(this,"minCacheSideLimit",256),at(this,"disableStyleCopyPaste",!1),at(this,"enableGLFiltering",!0),at(this,"textureSize",4096),at(this,"forceGLPutImageData",!1),at(this,"cachesBoundsOfCurve",!1),at(this,"fontPaths",{}),at(this,"NUM_FRACTION_DIGITS",4)}}const _e=new class extends K5{constructor(a){super(),this.configure(a)}configure(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,a)}addFonts(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=st(st({},this.fontPaths),a)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(a=>{delete this.fontPaths[a]})}clearFonts(){this.fontPaths={}}restoreDefaults(a){const t=new K5,e=(a==null?void 0:a.reduce((n,r)=>(n[r]=t[r],n),{}))||t;this.configure(e)}},Xl=function(a){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];return console[a]("fabric",...e)};class Hs extends Error{constructor(t,e){super("fabric: ".concat(t),e)}}class I9 extends Hs{constructor(t){super("".concat(t," 'options.signal' is in 'aborted' state"))}}class J9{}class $9 extends J9{testPrecision(t,e){const n="precision ".concat(e,` float;
void main(){}`),r=t.createShader(t.FRAGMENT_SHADER);return!!r&&(t.shaderSource(r,n),t.compileShader(r),!!t.getShaderParameter(r,t.COMPILE_STATUS))}queryWebGL(t){const e=t.getContext("webgl");e&&(this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(n=>this.testPrecision(e,n)),e.getExtension("WEBGL_lose_context").loseContext(),Xl("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(t){return!!this.maxTextureSize&&this.maxTextureSize>=t}}const t7={};let Q5;const Ps=()=>Q5||(Q5={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new $9,dispose(){},copyPasteData:t7}),Gh=()=>Ps().document,Bv=()=>Ps().window,sS=()=>{var a;return Math.max((a=_e.devicePixelRatio)!==null&&a!==void 0?a:Bv().devicePixelRatio,1)},l0=new class{constructor(){at(this,"charWidthsCache",{}),at(this,"boundsOfCurveCache",{})}getFontCache(a){let{fontFamily:t,fontStyle:e,fontWeight:n}=a;t=t.toLowerCase(),this.charWidthsCache[t]||(this.charWidthsCache[t]={});const r=this.charWidthsCache[t],l="".concat(e.toLowerCase(),"_").concat((n+"").toLowerCase());return r[l]||(r[l]={}),r[l]}clearFontCache(a){(a=(a||"").toLowerCase())?this.charWidthsCache[a]&&delete this.charWidthsCache[a]:this.charWidthsCache={}}limitDimsByArea(a){const{perfLimitSizeTotal:t}=_e,e=Math.sqrt(t*a);return[Math.floor(e),Math.floor(t/e)]}},q2="6.5.3";function J1(){}const E0=Math.PI/2,cm=2*Math.PI,Lv=Math.PI/180,Vi=Object.freeze([1,0,0,1,0,0]),Uv=16,Ul=.4477152502,oe="center",Re="left",ha="top",K2="bottom",Mn="right",fa="none",Gv=/\r?\n/,oS="moving",Pm="scaling",lS="rotating",Hv="rotate",cS="skewing",m0="resizing",e7="modifyPoly",n7="modifyPath",um="changed",Fm="scale",ga="scaleX",ar="scaleY",Hh="skewX",kh="skewY",Vn="fill",da="stroke",hm="modified",ph="json",m2="svg",zt=new class{constructor(){this[ph]=new Map,this[m2]=new Map}has(a){return this[ph].has(a)}getClass(a){const t=this[ph].get(a);if(!t)throw new Hs("No class registered for ".concat(a));return t}setClass(a,t){t?this[ph].set(t,a):(this[ph].set(a.type,a),this[ph].set(a.type.toLowerCase(),a))}getSVGClass(a){return this[m2].get(a)}setSVGClass(a,t){this[m2].set(t??a.type.toLowerCase(),a)}},fm=new class extends Array{remove(a){const t=this.indexOf(a);t>-1&&this.splice(t,1)}cancelAll(){const a=this.splice(0);return a.forEach(t=>t.abort()),a}cancelByCanvas(a){if(!a)return[];const t=this.filter(e=>{var n;return e.target===a||typeof e.target=="object"&&((n=e.target)===null||n===void 0?void 0:n.canvas)===a});return t.forEach(e=>e.abort()),t}cancelByTarget(a){if(!a)return[];const t=this.filter(e=>e.target===a);return t.forEach(e=>e.abort()),t}};class i7{constructor(){at(this,"__eventListeners",{})}on(t,e){if(this.__eventListeners||(this.__eventListeners={}),typeof t=="object")return Object.entries(t).forEach(n=>{let[r,l]=n;this.on(r,l)}),()=>this.off(t);if(e){const n=t;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(e),()=>this.off(n,e)}return()=>!1}once(t,e){if(typeof t=="object"){const n=[];return Object.entries(t).forEach(r=>{let[l,h]=r;n.push(this.once(l,h))}),()=>n.forEach(r=>r())}if(e){const n=this.on(t,function(){for(var r=arguments.length,l=new Array(r),h=0;h<r;h++)l[h]=arguments[h];e.call(this,...l),n()});return n}return()=>!1}_removeEventListener(t,e){if(this.__eventListeners[t])if(e){const n=this.__eventListeners[t],r=n.indexOf(e);r>-1&&n.splice(r,1)}else this.__eventListeners[t]=[]}off(t,e){if(this.__eventListeners)if(t===void 0)for(const n in this.__eventListeners)this._removeEventListener(n);else typeof t=="object"?Object.entries(t).forEach(n=>{let[r,l]=n;this._removeEventListener(r,l)}):this._removeEventListener(t,e)}fire(t,e){var n;if(!this.__eventListeners)return;const r=(n=this.__eventListeners[t])===null||n===void 0?void 0:n.concat();if(r)for(let l=0;l<r.length;l++)r[l].call(this,e||{})}}const xh=(a,t)=>{const e=a.indexOf(t);return e!==-1&&a.splice(e,1),a},Bo=a=>{if(a===0)return 1;switch(Math.abs(a)/E0){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},Lo=a=>{if(a===0)return 0;const t=a/E0,e=Math.sign(a);switch(t){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(a)};class bt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof t=="object"?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e)}add(t){return new bt(this.x+t.x,this.y+t.y)}addEquals(t){return this.x+=t.x,this.y+=t.y,this}scalarAdd(t){return new bt(this.x+t,this.y+t)}scalarAddEquals(t){return this.x+=t,this.y+=t,this}subtract(t){return new bt(this.x-t.x,this.y-t.y)}subtractEquals(t){return this.x-=t.x,this.y-=t.y,this}scalarSubtract(t){return new bt(this.x-t,this.y-t)}scalarSubtractEquals(t){return this.x-=t,this.y-=t,this}multiply(t){return new bt(this.x*t.x,this.y*t.y)}scalarMultiply(t){return new bt(this.x*t,this.y*t)}scalarMultiplyEquals(t){return this.x*=t,this.y*=t,this}divide(t){return new bt(this.x/t.x,this.y/t.y)}scalarDivide(t){return new bt(this.x/t,this.y/t)}scalarDivideEquals(t){return this.x/=t,this.y/=t,this}eq(t){return this.x===t.x&&this.y===t.y}lt(t){return this.x<t.x&&this.y<t.y}lte(t){return this.x<=t.x&&this.y<=t.y}gt(t){return this.x>t.x&&this.y>t.y}gte(t){return this.x>=t.x&&this.y>=t.y}lerp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return e=Math.max(Math.min(1,e),0),new bt(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)}distanceFrom(t){const e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}midPointFrom(t){return this.lerp(t)}min(t){return new bt(Math.min(this.x,t.x),Math.min(this.y,t.y))}max(t){return new bt(Math.max(this.x,t.x),Math.max(this.y,t.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(t,e){return this.x=t,this.y=e,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setFromPoint(t){return this.x=t.x,this.y=t.y,this}swap(t){const e=this.x,n=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=n}clone(){return new bt(this.x,this.y)}rotate(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kv;const n=Lo(t),r=Bo(t),l=this.subtract(e);return new bt(l.x*r-l.y*n,l.x*n+l.y*r).add(e)}transform(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new bt(t[0]*this.x+t[2]*this.y+(e?0:t[4]),t[1]*this.x+t[3]*this.y+(e?0:t[5]))}}const kv=new bt(0,0),$1=a=>!!a&&Array.isArray(a._objects);function uS(a){class t extends a{constructor(){super(...arguments),at(this,"_objects",[])}_onObjectAdded(n){}_onObjectRemoved(n){}_onStackOrderChanged(n){}add(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];const h=this._objects.push(...r);return r.forEach(f=>this._onObjectAdded(f)),h}insertAt(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),h=1;h<r;h++)l[h-1]=arguments[h];return this._objects.splice(n,0,...l),l.forEach(f=>this._onObjectAdded(f)),this._objects.length}remove(){const n=this._objects,r=[];for(var l=arguments.length,h=new Array(l),f=0;f<l;f++)h[f]=arguments[f];return h.forEach(d=>{const p=n.indexOf(d);p!==-1&&(n.splice(p,1),r.push(d),this._onObjectRemoved(d))}),r}forEachObject(n){this.getObjects().forEach((r,l,h)=>n(r,l,h))}getObjects(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return r.length===0?[...this._objects]:this._objects.filter(h=>h.isType(...r))}item(n){return this._objects[n]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(n,r){return!!this._objects.includes(n)||!!r&&this._objects.some(l=>l instanceof t&&l.contains(n,!0))}complexity(){return this._objects.reduce((n,r)=>n+=r.complexity?r.complexity():0,0)}sendObjectToBack(n){return!(!n||n===this._objects[0])&&(xh(this._objects,n),this._objects.unshift(n),this._onStackOrderChanged(n),!0)}bringObjectToFront(n){return!(!n||n===this._objects[this._objects.length-1])&&(xh(this._objects,n),this._objects.push(n),this._onStackOrderChanged(n),!0)}sendObjectBackwards(n,r){if(!n)return!1;const l=this._objects.indexOf(n);if(l!==0){const h=this.findNewLowerIndex(n,l,r);return xh(this._objects,n),this._objects.splice(h,0,n),this._onStackOrderChanged(n),!0}return!1}bringObjectForward(n,r){if(!n)return!1;const l=this._objects.indexOf(n);if(l!==this._objects.length-1){const h=this.findNewUpperIndex(n,l,r);return xh(this._objects,n),this._objects.splice(h,0,n),this._onStackOrderChanged(n),!0}return!1}moveObjectTo(n,r){return n!==this._objects[r]&&(xh(this._objects,n),this._objects.splice(r,0,n),this._onStackOrderChanged(n),!0)}findNewLowerIndex(n,r,l){let h;if(l){h=r;for(let f=r-1;f>=0;--f)if(n.isOverlapping(this._objects[f])){h=f;break}}else h=r-1;return h}findNewUpperIndex(n,r,l){let h;if(l){h=r;for(let f=r+1;f<this._objects.length;++f)if(n.isOverlapping(this._objects[f])){h=f;break}}else h=r+1;return h}collectObjects(n){let{left:r,top:l,width:h,height:f}=n,{includeIntersecting:d=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const p=[],v=new bt(r,l),b=v.add(new bt(h,f));for(let A=this._objects.length-1;A>=0;A--){const S=this._objects[A];S.selectable&&S.visible&&(d&&S.intersectsWithRect(v,b)||S.isContainedWithinRect(v,b)||d&&S.containsPoint(v)||d&&S.containsPoint(b))&&p.push(S)}return p}}return t}class hS extends i7{_setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const e in t)this.set(e,t[e])}_setObject(t){for(const e in t)this._set(e,t[e])}set(t,e){return typeof t=="object"?this._setObject(t):this._set(t,e),this}_set(t,e){this[t]=e}toggle(t){const e=this.get(t);return typeof e=="boolean"&&this.set(t,!e),this}get(t){return this[t]}}function tm(a){return Bv().requestAnimationFrame(a)}function a7(a){return Bv().cancelAnimationFrame(a)}let r7=0;const ql=()=>r7++,Kr=()=>{const a=Gh().createElement("canvas");if(!a||a.getContext===void 0)throw new Hs("Failed to create `canvas` element");return a},s7=()=>Gh().createElement("img"),Fs=a=>{const t=Kr();return t.width=a.width,t.height=a.height,t},fS=(a,t,e)=>a.toDataURL("image/".concat(t),e),Dn=a=>a*Lv,su=a=>a/Lv,o7=a=>a.every((t,e)=>t===Vi[e]),ca=(a,t,e)=>new bt(a).transform(t,e),Xr=a=>{const t=1/(a[0]*a[3]-a[1]*a[2]),e=[t*a[3],-t*a[1],-t*a[2],t*a[0],0,0],{x:n,y:r}=new bt(a[4],a[5]).transform(e,!0);return e[4]=-n,e[5]=-r,e},vi=(a,t,e)=>[a[0]*t[0]+a[2]*t[1],a[1]*t[0]+a[3]*t[1],a[0]*t[2]+a[2]*t[3],a[1]*t[2]+a[3]*t[3],e?0:a[0]*t[4]+a[2]*t[5]+a[4],e?0:a[1]*t[4]+a[3]*t[5]+a[5]],Pv=(a,t)=>a.reduceRight((e,n)=>n&&e?vi(n,e,t):n||e,void 0)||Vi.concat(),dS=a=>{let[t,e]=a;return Math.atan2(e,t)},dm=a=>{const t=dS(a),e=Math.pow(a[0],2)+Math.pow(a[1],2),n=Math.sqrt(e),r=(a[0]*a[3]-a[2]*a[1])/n,l=Math.atan2(a[0]*a[2]+a[1]*a[3],e);return{angle:su(t),scaleX:n,scaleY:r,skewX:su(l),skewY:0,translateX:a[4]||0,translateY:a[5]||0}},w0=function(a){return[1,0,0,1,a,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function O0(){let{angle:a=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:t=0,y:e=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Dn(a),r=Bo(n),l=Lo(n);return[r,l,-l,r,t?t-(r*t-l*e):0,e?e-(l*t+r*e):0]}const Fv=function(a){return[a,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,0,0]},gS=a=>Math.tan(Dn(a)),mS=a=>[1,0,gS(a),1,0,0],pS=a=>[1,gS(a),0,1,0,0],Vm=a=>{let{scaleX:t=1,scaleY:e=1,flipX:n=!1,flipY:r=!1,skewX:l=0,skewY:h=0}=a,f=Fv(n?-t:t,r?-e:e);return l&&(f=vi(f,mS(l),!0)),h&&(f=vi(f,pS(h),!0)),f},l7=a=>{const{translateX:t=0,translateY:e=0,angle:n=0}=a;let r=w0(t,e);n&&(r=vi(r,O0({angle:n})));const l=Vm(a);return o7(l)||(r=vi(r,l)),r},em=function(a){let{signal:t,crossOrigin:e=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,r){if(t&&t.aborted)return r(new I9("loadImage"));const l=s7();let h;t&&(h=function(d){l.src="",r(d)},t.addEventListener("abort",h,{once:!0}));const f=function(){l.onload=l.onerror=null,h&&(t==null||t.removeEventListener("abort",h)),n(l)};a?(l.onload=f,l.onerror=function(){h&&(t==null||t.removeEventListener("abort",h)),r(new Hs("Error loading ".concat(l.src)))},e&&(l.crossOrigin=e),l.src=a):f()})},p0=function(a){let{signal:t,reviver:e=J1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,r)=>{const l=[];t&&t.addEventListener("abort",r,{once:!0}),Promise.all(a.map(h=>zt.getClass(h.type).fromObject(h,{signal:t}).then(f=>(e(h,f),l.push(f),f)))).then(n).catch(h=>{l.forEach(f=>{f.dispose&&f.dispose()}),r(h)}).finally(()=>{t&&t.removeEventListener("abort",r)})})},Ym=function(a){let{signal:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((e,n)=>{const r=[];t&&t.addEventListener("abort",n,{once:!0});const l=Object.values(a).map(f=>f&&f.type&&zt.has(f.type)?p0([f],{signal:t}).then(d=>{let[p]=d;return r.push(p),p}):f),h=Object.keys(a);Promise.all(l).then(f=>f.reduce((d,p,v)=>(d[h[v]]=p,d),{})).then(e).catch(f=>{r.forEach(d=>{d.dispose&&d.dispose()}),n(f)}).finally(()=>{t&&t.removeEventListener("abort",n)})})},Ph=function(a){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((t,e)=>(e in a&&(t[e]=a[e]),t),{})},Vv=(a,t)=>Object.keys(a).reduce((e,n)=>(t(a[n],n,a)&&(e[n]=a[n]),e),{}),W5={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},p2=(a,t,e)=>(e<0&&(e+=1),e>1&&(e-=1),e<1/6?a+6*(t-a)*e:e<.5?t:e<2/3?a+(t-a)*(2/3-e)*6:a),Z5=(a,t,e,n)=>{a/=255,t/=255,e/=255;const r=Math.max(a,t,e),l=Math.min(a,t,e);let h,f;const d=(r+l)/2;if(r===l)h=f=0;else{const p=r-l;switch(f=d>.5?p/(2-r-l):p/(r+l),r){case a:h=(t-e)/p+(t<e?6:0);break;case t:h=(e-a)/p+2;break;case e:h=(a-t)/p+4}h/=6}return[Math.round(360*h),Math.round(100*f),Math.round(100*d),n]},I5=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(a)/(a.endsWith("%")?100:1)},b1=a=>Math.min(Math.round(a),255).toString(16).toUpperCase().padStart(2,"0"),J5=a=>{let[t,e,n,r=1]=a;const l=Math.round(.3*t+.59*e+.11*n);return[l,l,l,r]};class Be{constructor(t){if(at(this,"isUnrecognised",!1),t)if(t instanceof Be)this.setSource([...t._source]);else if(Array.isArray(t)){const[e,n,r,l=1]=t;this.setSource([e,n,r,l])}else this.setSource(this._tryParsingColor(t));else this.setSource([0,0,0,1])}_tryParsingColor(t){return(t=t.toLowerCase())in W5&&(t=W5[t]),t==="transparent"?[255,255,255,0]:Be.sourceFromHex(t)||Be.sourceFromRgb(t)||Be.sourceFromHsl(t)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(t){this._source=t}toRgb(){const[t,e,n]=this.getSource();return"rgb(".concat(t,",").concat(e,",").concat(n,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[t,e,n]=Z5(...this.getSource());return"hsl(".concat(t,",").concat(e,"%,").concat(n,"%)")}toHsla(){const[t,e,n,r]=Z5(...this.getSource());return"hsla(".concat(t,",").concat(e,"%,").concat(n,"%,").concat(r,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[t,e,n,r]=this.getSource();return"".concat(b1(t)).concat(b1(e)).concat(b1(n)).concat(b1(Math.round(255*r)))}getAlpha(){return this.getSource()[3]}setAlpha(t){return this._source[3]=t,this}toGrayscale(){return this.setSource(J5(this.getSource())),this}toBlackWhite(t){const[e,,,n]=J5(this.getSource()),r=e<(t||127)?0:255;return this.setSource([r,r,r,n]),this}overlayWith(t){t instanceof Be||(t=new Be(t));const e=this.getSource(),n=t.getSource(),[r,l,h]=e.map((f,d)=>Math.round(.5*f+.5*n[d]));return this.setSource([r,l,h,e[3]]),this}static fromRgb(t){return Be.fromRgba(t)}static fromRgba(t){return new Be(Be.sourceFromRgb(t))}static sourceFromRgb(t){const e=t.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(e){const[n,r,l]=e.slice(1,4).map(h=>{const f=parseFloat(h);return h.endsWith("%")?Math.round(2.55*f):f});return[n,r,l,I5(e[4])]}}static fromHsl(t){return Be.fromHsla(t)}static fromHsla(t){return new Be(Be.sourceFromHsl(t))}static sourceFromHsl(t){const e=t.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!e)return;const n=(Be.parseAngletoDegrees(e[1])%360+360)%360/360,r=parseFloat(e[2])/100,l=parseFloat(e[3])/100;let h,f,d;if(r===0)h=f=d=l;else{const p=l<=.5?l*(r+1):l+r-l*r,v=2*l-p;h=p2(v,p,n+1/3),f=p2(v,p,n),d=p2(v,p,n-1/3)}return[Math.round(255*h),Math.round(255*f),Math.round(255*d),I5(e[4])]}static fromHex(t){return new Be(Be.sourceFromHex(t))}static sourceFromHex(t){if(t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const e=t.slice(t.indexOf("#")+1);let n;n=e.length<=4?e.split("").map(d=>d+d):e.match(/.{2}/g);const[r,l,h,f=255]=n.map(d=>parseInt(d,16));return[r,l,h,f/255]}}static parseAngletoDegrees(t){const e=t.toLowerCase(),n=parseFloat(e);return e.includes("rad")?su(n):e.includes("turn")?360*n:n}}const gn=(a,t)=>parseFloat(Number(a).toFixed(t)),wh=function(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uv;const e=/\D{0,2}$/.exec(a),n=parseFloat(a),r=_e.DPI;switch(e==null?void 0:e[0]){case"mm":return n*r/25.4;case"cm":return n*r/2.54;case"in":return n*r;case"pt":return n*r/72;case"pc":return n*r/72*12;case"em":return n*t;default:return n}},c7=a=>{const[t,e]=a.trim().split(" "),[n,r]=(l=t)&&l!==fa?[l.slice(1,4),l.slice(5,8)]:l===fa?[l,l]:["Mid","Mid"];var l;return{meetOrSlice:e||"meet",alignX:n,alignY:r}},gm=a=>"matrix("+a.map(t=>gn(t,_e.NUM_FRACTION_DIGITS)).join(" ")+")",v0=function(a,t){let e,n,r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(t)if(t.toLive)e="url(#SVGID_".concat(t.id,")");else{const l=new Be(t),h=l.getAlpha();e=l.toRgb(),h!==1&&(n=h.toString())}else e="none";return r?"".concat(a,": ").concat(e,"; ").concat(n?"".concat(a,"-opacity: ").concat(n,"; "):""):"".concat(a,'="').concat(e,'" ').concat(n?"".concat(a,'-opacity="').concat(n,'" '):"")},ir=a=>!!a&&a.toLive!==void 0,$5=a=>!!a&&typeof a.toObject=="function",t3=a=>!!a&&a.offsetX!==void 0&&"source"in a,$c=a=>!!a&&"multiSelectionStacking"in a;function vS(a){const t=a&&Vr(a);let e=0,n=0;if(!a||!t)return{left:e,top:n};let r=a;const l=t.documentElement,h=t.body||{scrollLeft:0,scrollTop:0};for(;r&&(r.parentNode||r.host)&&(r=r.parentNode||r.host,r===t?(e=h.scrollLeft||l.scrollLeft||0,n=h.scrollTop||l.scrollTop||0):(e+=r.scrollLeft||0,n+=r.scrollTop||0),r.nodeType!==1||r.style.position!=="fixed"););return{left:e,top:n}}const Vr=a=>a.ownerDocument||null,yS=a=>{var t;return((t=a.ownerDocument)===null||t===void 0?void 0:t.defaultView)||null},bS=function(a,t,e){let{width:n,height:r}=e,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;a.width=n,a.height=r,l>1&&(a.setAttribute("width",(n*l).toString()),a.setAttribute("height",(r*l).toString()),t.scale(l,l))},Q2=(a,t)=>{let{width:e,height:n}=t;e&&(a.style.width=typeof e=="number"?"".concat(e,"px"):e),n&&(a.style.height=typeof n=="number"?"".concat(n,"px"):n)};function e3(a){return a.onselectstart!==void 0&&(a.onselectstart=()=>!1),a.style.userSelect=fa,a}class _S{constructor(t){at(this,"_originalCanvasStyle",void 0),at(this,"lower",void 0);const e=this.createLowerCanvas(t);this.lower={el:e,ctx:e.getContext("2d")}}createLowerCanvas(t){const e=(n=t)&&n.getContext!==void 0?t:t&&Gh().getElementById(t)||Kr();var n;if(e.hasAttribute("data-fabric"))throw new Hs("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=e.style.cssText,e.setAttribute("data-fabric","main"),e.classList.add("lower-canvas"),e}cleanupDOM(t){let{width:e,height:n}=t;const{el:r}=this.lower;r.classList.remove("lower-canvas"),r.removeAttribute("data-fabric"),r.setAttribute("width","".concat(e)),r.setAttribute("height","".concat(n)),r.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(t,e){const{el:n,ctx:r}=this.lower;bS(n,r,t,e)}setCSSDimensions(t){Q2(this.lower.el,t)}calcOffset(){return function(t){var e;const n=t&&Vr(t),r={left:0,top:0};if(!n)return r;const l=((e=yS(t))===null||e===void 0?void 0:e.getComputedStyle(t,null))||{};r.left+=parseInt(l.borderLeftWidth,10)||0,r.top+=parseInt(l.borderTopWidth,10)||0,r.left+=parseInt(l.paddingLeft,10)||0,r.top+=parseInt(l.paddingTop,10)||0;let h={left:0,top:0};const f=n.documentElement;t.getBoundingClientRect!==void 0&&(h=t.getBoundingClientRect());const d=vS(t);return{left:h.left+d.left-(f.clientLeft||0)+r.left,top:h.top+d.top-(f.clientTop||0)+r.top}}(this.lower.el)}dispose(){Ps().dispose(this.lower.el),delete this.lower}}const u7={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Vi]};class M0 extends uS(hS){get lowerCanvasEl(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.el}get contextContainer(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.ctx}static getDefaults(){return M0.ownDefaults}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(e),this.initElements(t),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(t){this.elements=new _S(t)}add(){const t=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}insertAt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const l=super.insertAt(t,...n);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),l}remove(){const t=super.remove(...arguments);return t.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}_onObjectAdded(t){t.canvas&&t.canvas!==this&&(Xl("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),t.canvas.remove(t)),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t){t._set("canvas",void 0),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?sS():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(t,e){return this.setDimensions({width:t},e)}setHeight(t,e){return this.setDimensions({height:t},e)}_setDimensionsImpl(t){let{cssOnly:e=!1,backstoreOnly:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e){const r=st({width:this.width,height:this.height},t);this.elements.setDimensions(r,this.getRetinaScaling()),this.hasLostContext=!0,this.width=r.width,this.height=r.height}n||this.elements.setCSSDimensions(t),this.calcOffset()}setDimensions(t,e){this._setDimensionsImpl(t,e),e&&e.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(t){this.viewportTransform=t,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(t,e){const n=t,r=[...this.viewportTransform],l=ca(t,Xr(r));r[0]=e,r[3]=e;const h=ca(l,r);r[4]+=n.x-h.x,r[5]+=n.y-h.y,this.setViewportTransform(r)}setZoom(t){this.zoomToPoint(new bt(0,0),t)}absolutePan(t){const e=[...this.viewportTransform];return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)}relativePan(t){return this.absolutePan(new bt(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(t){t.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=tm(()=>this.renderAndReset()))}calcViewportBoundaries(){const t=this.width,e=this.height,n=Xr(this.viewportTransform),r=ca({x:0,y:0},n),l=ca({x:t,y:e},n),h=r.min(l),f=r.max(l);return this.vptCoords={tl:h,tr:new bt(f.x,h.y),bl:new bt(h.x,f.y),br:f}}cancelRequestedRender(){this.nextRenderHandle&&(a7(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(t){}renderCanvas(t,e){if(this.destroyed)return;const n=this.viewportTransform,r=this.clipPath;this.calcViewportBoundaries(),this.clearContext(t),t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.patternQuality="best",this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(t,e),t.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(t),r&&(r._set("canvas",this),r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t,r)),this._renderOverlay(t),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(t),this.fire("after:render",{ctx:t}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(t,e){const n=this.viewportTransform;t.save(),t.transform(...n),t.globalCompositeOperation="destination-in",e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()}_renderObjects(t,e){for(let n=0,r=e.length;n<r;++n)e[n]&&e[n].render(t)}_renderBackgroundOrOverlay(t,e){const n=this["".concat(e,"Color")],r=this["".concat(e,"Image")],l=this.viewportTransform,h=this["".concat(e,"Vpt")];if(!n&&!r)return;const f=ir(n);if(n){if(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=f?n.toLive(t):n,h&&t.transform(...l),f){t.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);const d=n.gradientTransform||n.patternTransform;d&&t.transform(...d)}t.fill(),t.restore()}if(r){t.save();const{skipOffscreen:d}=this;this.skipOffscreen=h,h&&t.transform(...l),r.render(t),this.skipOffscreen=d,t.restore()}}_renderBackground(t){this._renderBackgroundOrOverlay(t,"background")}_renderOverlay(t){this._renderBackgroundOrOverlay(t,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new bt(this.width/2,this.height/2)}centerObjectH(t){return this._centerObject(t,new bt(this.getCenterPoint().x,t.getCenterPoint().y))}centerObjectV(t){return this._centerObject(t,new bt(t.getCenterPoint().x,this.getCenterPoint().y))}centerObject(t){return this._centerObject(t,this.getCenterPoint())}viewportCenterObject(t){return this._centerObject(t,this.getVpCenter())}viewportCenterObjectH(t){return this._centerObject(t,new bt(this.getVpCenter().x,t.getCenterPoint().y))}viewportCenterObjectV(t){return this._centerObject(t,new bt(t.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return ca(this.getCenterPoint(),Xr(this.viewportTransform))}_centerObject(t,e){t.setXY(e,oe,oe),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(t){return this.toDatalessObject(t)}toObject(t){return this._toObjectMethod("toObject",t)}toJSON(){return this.toObject()}toDatalessObject(t){return this._toObjectMethod("toDatalessObject",t)}_toObjectMethod(t,e){const n=this.clipPath,r=n&&!n.excludeFromExport?this._toObject(n,t,e):null;return st(st(st({version:q2},Ph(this,e)),{},{objects:this._objects.filter(l=>!l.excludeFromExport).map(l=>this._toObject(l,t,e))},this.__serializeBgOverlay(t,e)),r?{clipPath:r}:null)}_toObject(t,e,n){let r;this.includeDefaultValues||(r=t.includeDefaultValues,t.includeDefaultValues=!1);const l=t[e](n);return this.includeDefaultValues||(t.includeDefaultValues=!!r),l}__serializeBgOverlay(t,e){const n={},r=this.backgroundImage,l=this.overlayImage,h=this.backgroundColor,f=this.overlayColor;return ir(h)?h.excludeFromExport||(n.background=h.toObject(e)):h&&(n.background=h),ir(f)?f.excludeFromExport||(n.overlay=f.toObject(e)):f&&(n.overlay=f),r&&!r.excludeFromExport&&(n.backgroundImage=this._toObject(r,t,e)),l&&!l.excludeFromExport&&(n.overlayImage=this._toObject(l,t,e)),n}toSVG(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;t.reviver=e;const n=[];return this._setSVGPreamble(n,t),this._setSVGHeader(n,t),this.clipPath&&n.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",e),this._setSVGObjects(n,e),this.clipPath&&n.push(`</g>
`),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",e),n.push("</svg>"),n.join("")}_setSVGPreamble(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(t,e){const n=e.width||"".concat(this.width),r=e.height||"".concat(this.height),l=_e.NUM_FRACTION_DIGITS,h=e.viewBox;let f;if(h)f='viewBox="'.concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height,'" ');else if(this.svgViewportTransformation){const d=this.viewportTransform;f='viewBox="'.concat(gn(-d[4]/d[0],l)," ").concat(gn(-d[5]/d[3],l)," ").concat(gn(this.width/d[0],l)," ").concat(gn(this.height/d[3],l),'" ')}else f='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',r,'" ',f,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",q2,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),`</defs>
`)}createSVGClipPathMarkup(t){const e=this.clipPath;return e?(e.clipPathId="CLIPPATH_".concat(ql()),'<clipPath id="'.concat(e.clipPathId,`" >
`).concat(e.toClipPathSVG(t.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(t=>{const e=this["".concat(t,"Color")];if(ir(e)){const n=this["".concat(t,"Vpt")],r=this.viewportTransform,l={isType:()=>!1,width:this.width/(n?r[0]:1),height:this.height/(n?r[3]:1)};return e.toSVG(l,{additionalTransform:n?gm(r):""})}}).join("")}createSVGFontFacesMarkup(){const t=[],e={},n=_e.fontPaths;this._objects.forEach(function l(h){t.push(h),$1(h)&&h._objects.forEach(l)}),t.forEach(l=>{if(!(h=l)||typeof h._renderText!="function")return;var h;const{styles:f,fontFamily:d}=l;!e[d]&&n[d]&&(e[d]=!0,f&&Object.values(f).forEach(p=>{Object.values(p).forEach(v=>{let{fontFamily:b=""}=v;!e[b]&&n[b]&&(e[b]=!0)})}))});const r=Object.keys(e).map(l=>`		@font-face {
			font-family: '`.concat(l,`';
			src: url('`).concat(n[l],`');
		}
`)).join("");return r?`	<style type="text/css"><![CDATA[
`.concat(r,`]]></style>
`):""}_setSVGObjects(t,e){this.forEachObject(n=>{n.excludeFromExport||this._setSVGObject(t,n,e)})}_setSVGObject(t,e,n){t.push(e.toSVG(n))}_setSVGBgOverlayImage(t,e,n){const r=this[e];r&&!r.excludeFromExport&&r.toSVG&&t.push(r.toSVG(n))}_setSVGBgOverlayColor(t,e){const n=this["".concat(e,"Color")];if(n)if(ir(n)){const r=n.repeat||"",l=this.width,h=this.height,f=this["".concat(e,"Vpt")]?gm(Xr(this.viewportTransform)):"";t.push('<rect transform="'.concat(f," translate(").concat(l/2,",").concat(h/2,')" x="').concat(n.offsetX-l/2,'" y="').concat(n.offsetY-h/2,'" width="').concat(r!=="repeat-y"&&r!=="no-repeat"||!t3(n)?l:n.source.width,'" height="').concat(r!=="repeat-x"&&r!=="no-repeat"||!t3(n)?h:n.source.height,'" fill="url(#SVGID_').concat(n.id,`)"></rect>
`))}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',`></rect>
`)}loadFromJSON(t,e){let{signal:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return Promise.reject(new Hs("`json` is undefined"));const r=typeof t=="string"?JSON.parse(t):t,{objects:l=[],backgroundImage:h,background:f,overlayImage:d,overlay:p,clipPath:v}=r,b=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([p0(l,{reviver:e,signal:n}),Ym({backgroundImage:h,backgroundColor:f,overlayImage:d,overlayColor:p,clipPath:v},{signal:n})]).then(A=>{let[S,x]=A;return this.clear(),this.add(...S),this.set(r),this.set(x),this.renderOnAddRemove=b,this})}clone(t){const e=this.toObject(t);return this.cloneWithoutData().loadFromJSON(e)}cloneWithoutData(){const t=Fs(this);return new this.constructor(t)}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:e="png",quality:n=1,multiplier:r=1,enableRetinaScaling:l=!1}=t,h=r*(l?this.getRetinaScaling():1);return fS(this.toCanvasElement(h,t),e,n)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:e,height:n,left:r,top:l,filter:h}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const f=(e||this.width)*t,d=(n||this.height)*t,p=this.getZoom(),v=this.width,b=this.height,A=this.skipControlsDrawing,S=p*t,x=this.viewportTransform,w=[S,0,0,S,(x[4]-(r||0))*t,(x[5]-(l||0))*t],M=this.enableRetinaScaling,D=Fs({width:f,height:d}),T=h?this._objects.filter(O=>h(O)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=w,this.width=f,this.height=d,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(D.getContext("2d"),T),this.viewportTransform=x,this.width=v,this.height=b,this.calcViewportBoundaries(),this.enableRetinaScaling=M,this.skipControlsDrawing=A,D}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),fm.cancelByCanvas(this),this.disposed=!0,new Promise((t,e)=>{const n=()=>{this.destroy(),t(!0)};n.kill=e,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?t(!1):this.nextRenderHandle?this.__cleanupTask=n:n()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(t=>t.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}at(M0,"ownDefaults",u7);const h7=["touchstart","touchmove","touchend"],f7=a=>{const t=vS(a.target),e=function(n){const r=n.changedTouches;return r&&r[0]?r[0]:n}(a);return new bt(e.clientX+t.left,e.clientY+t.top)},W2=a=>h7.includes(a.type)||a.pointerType==="touch",Z2=a=>{a.preventDefault(),a.stopPropagation()},No=a=>{let t=0,e=0,n=0,r=0;for(let l=0,h=a.length;l<h;l++){const{x:f,y:d}=a[l];(f>n||!l)&&(n=f),(f<t||!l)&&(t=f),(d>r||!l)&&(r=d),(d<e||!l)&&(e=d)}return{left:t,top:e,width:n-t,height:r-e}},d7=["translateX","translateY","scaleX","scaleY"],g7=(a,t)=>mm(a,vi(t,a.calcOwnMatrix())),mm=(a,t)=>{const e=dm(t),{translateX:n,translateY:r,scaleX:l,scaleY:h}=e,f=$e(e,d7),d=new bt(n,r);a.flipX=!1,a.flipY=!1,Object.assign(a,f),a.set({scaleX:l,scaleY:h}),a.setPositionByOrigin(d,oe,oe)},m7=a=>{a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},SS=a=>({scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}),Yv=(a,t,e)=>{const n=a/2,r=t/2,l=[new bt(-n,-r),new bt(n,-r),new bt(-n,r),new bt(n,r)].map(f=>f.transform(e)),h=No(l);return new bt(h.width,h.height)},Xm=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vi;return vi(Xr(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vi),a)},Oh=function(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vi,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vi;return a.transform(Xm(t,e))},p7=function(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vi,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vi;return a.transform(Xm(t,e),!0)},v7=(a,t,e)=>{const n=Xm(t,e);return mm(a,vi(n,a.calcOwnMatrix())),n},AS=(a,t)=>{var e;const{transform:{target:n}}=t;(e=n.canvas)===null||e===void 0||e.fire("object:".concat(a),st(st({},t),{},{target:n})),n.fire(a,t)},y7={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Ln=a=>typeof a=="string"?y7[a]:a-.5,pm="not-allowed";function xS(a){return Ln(a.originX)===Ln(oe)&&Ln(a.originY)===Ln(oe)}function n3(a){return .5-Ln(a)}const qr=(a,t)=>a[t],CS=(a,t,e,n)=>({e:a,transform:t,pointer:new bt(e,n)});function TS(a,t){const e=a.getTotalAngle()+su(Math.atan2(t.y,t.x))+360;return Math.round(e%360/45)}function Xv(a,t,e,n,r){var l;let{target:h,corner:f}=a;const d=h.controls[f],p=((l=h.canvas)===null||l===void 0?void 0:l.getZoom())||1,v=h.padding/p,b=function(A,S,x,w){const M=A.getRelativeCenterPoint(),D=x!==void 0&&w!==void 0?A.translateToGivenOrigin(M,oe,oe,x,w):new bt(A.left,A.top);return(A.angle?S.rotate(-Dn(A.angle),M):S).subtract(D)}(h,new bt(n,r),t,e);return b.x>=v&&(b.x-=v),b.x<=-v&&(b.x+=v),b.y>=v&&(b.y-=v),b.y<=v&&(b.y+=v),b.x-=d.offsetX,b.y-=d.offsetY,b}const b7=(a,t,e,n)=>{const{target:r,offsetX:l,offsetY:h}=t,f=e-l,d=n-h,p=!qr(r,"lockMovementX")&&r.left!==f,v=!qr(r,"lockMovementY")&&r.top!==d;return p&&r.set(Re,f),v&&r.set(ha,d),(p||v)&&AS(oS,CS(a,t,e,n)),p||v};class ES{getSvgStyles(t){const e=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):fa,l=this.strokeDashOffset?this.strokeDashOffset:"0",h=this.strokeLineCap?this.strokeLineCap:"butt",f=this.strokeLineJoin?this.strokeLineJoin:"miter",d=this.strokeMiterLimit?this.strokeMiterLimit:"4",p=this.opacity!==void 0?this.opacity:"1",v=this.visible?"":" visibility: hidden;",b=t?"":this.getSvgFilter(),A=v0(Vn,this.fill);return[v0(da,this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",h,"; ","stroke-dashoffset: ",l,"; ","stroke-linejoin: ",f,"; ","stroke-miterlimit: ",d,"; ",A,"fill-rule: ",e,"; ","opacity: ",p,";",b,v].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=t?this.calcTransformMatrix():this.calcOwnMatrix(),r='transform="'.concat(gm(n));return"".concat(r).concat(e,'" ')}_toSVG(t){return[""]}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})}toClipPathSVG(t){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})}_createBaseClipPathSVGMarkup(t){let{reviver:e,additionalTransform:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),l=t.indexOf("COMMON_PARTS");return t[l]=r,e?e(t.join("")):t.join("")}_createBaseSVGMarkup(t){let{noStyle:e,reviver:n,withShadow:r,additionalTransform:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const h=e?"":'style="'.concat(this.getSvgStyles(),'" '),f=r?'style="'.concat(this.getSvgFilter(),'" '):"",d=this.clipPath,p=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=d&&d.absolutePositioned,b=this.stroke,A=this.fill,S=this.shadow,x=[],w=t.indexOf("COMMON_PARTS");let M;d&&(d.clipPathId="CLIPPATH_".concat(ql()),M='<clipPath id="'.concat(d.clipPathId,`" >
`).concat(d.toClipPathSVG(n),`</clipPath>
`)),v&&x.push("<g ",f,this.getSvgCommons(),` >
`),x.push("<g ",this.getSvgTransform(!1),v?"":f+this.getSvgCommons(),` >
`);const D=[h,p,e?"":this.addPaintOrder()," ",l?'transform="'.concat(l,'" '):""].join("");return t[w]=D,ir(A)&&x.push(A.toSVG(this)),ir(b)&&x.push(b.toSVG(this)),S&&x.push(S.toSVG(this)),d&&x.push(M),x.push(t.join("")),x.push(`</g>
`),v&&x.push(`</g>
`),n?n(x.join("")):x.join("")}addPaintOrder(){return this.paintFirst!==Vn?' paint-order="'.concat(this.paintFirst,'" '):""}}function qm(a){return new RegExp("^("+a.join("|")+")\\b","i")}var i3;const ou=String.raw(i3||(i3=Jl(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),_7=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+ou+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+ou+"))?\\s+(.*)"),S7={cx:Re,x:Re,r:"radius",cy:ha,y:ha,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},v2="font-size",y2="clip-path";qm(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);qm(["symbol","image","marker","pattern","view","svg"]);const a3=qm(["symbol","g","a","svg","clipPath","defs"]),A7=new bt(1,0),wS=new bt,OS=(a,t)=>a.rotate(t),I2=(a,t)=>new bt(t).subtract(a),J2=a=>a.distanceFrom(wS),$2=(a,t)=>Math.atan2(c0(a,t),C7(a,t)),x7=a=>$2(A7,a),qv=a=>a.eq(wS)?a:a.scalarDivide(J2(a)),MS=function(a){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return qv(new bt(-a.y,a.x).scalarMultiply(t?1:-1))},c0=(a,t)=>a.x*t.y-a.y*t.x,C7=(a,t)=>a.x*t.x+a.y*t.y,r3=(a,t,e)=>{if(a.eq(t)||a.eq(e))return!0;const n=c0(t,e),r=c0(t,a),l=c0(e,a);return n>=0?r>=0&&l<=0:!(r<=0&&l>=0)},s3="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",o3=new RegExp("(?:\\s|^)"+s3+s3+"("+ou+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class jo{constructor(t){const e=typeof t=="string"?jo.parseShadow(t):t;Object.assign(this,jo.ownDefaults,e),this.id=ql()}static parseShadow(t){const e=t.trim(),[,n=0,r=0,l=0]=(o3.exec(e)||[]).map(h=>parseFloat(h)||0);return{color:(e.replace(o3,"")||"rgb(0,0,0)").trim(),offsetX:n,offsetY:r,blur:l}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(t){const e=OS(new bt(this.offsetX,this.offsetY),Dn(-t.angle)),n=new Be(this.color);let r=40,l=40;return t.width&&t.height&&(r=100*gn((Math.abs(e.x)+this.blur)/t.width,_e.NUM_FRACTION_DIGITS)+20,l=100*gn((Math.abs(e.y)+this.blur)/t.height,_e.NUM_FRACTION_DIGITS)+20),t.flipX&&(e.x*=-1),t.flipY&&(e.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(l,'%" height="').concat(100+2*l,'%" x="-').concat(r,'%" width="').concat(100+2*r,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(gn(this.blur?this.blur/2:0,_e.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(gn(e.x,_e.NUM_FRACTION_DIGITS),'" dy="').concat(gn(e.y,_e.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(n.toRgb(),'" flood-opacity="').concat(n.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},e=jo.ownDefaults;return this.includeDefaultValues?t:Vv(t,(n,r)=>n!==e[r])}static async fromObject(t){return new this(t)}}at(jo,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),at(jo,"type","shadow"),zt.setClass(jo,"shadow");const jh=(a,t,e)=>Math.max(a,Math.min(t,e)),T7=[ha,Re,ga,ar,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",Hh,kh],Fo=[Vn,da,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],E7={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Re,originY:ha,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:Vn,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},w7=(a,t,e,n)=>-e*Math.cos(a/n*E0)+e+t,O7=()=>!1;class Kv{constructor(t){let{startValue:e,byValue:n,duration:r=500,delay:l=0,easing:h=w7,onStart:f=J1,onChange:d=J1,onComplete:p=J1,abort:v=O7,target:b}=t;at(this,"_state","pending"),at(this,"durationProgress",0),at(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=r,this.delay=l,this.easing=h,this._onStart=f,this._onChange=d,this._onComplete=p,this._abort=v,this.target=b,this.startValue=e,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const t=e=>{this._state==="pending"&&(this.startTime=e||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>tm(t),this.delay):tm(t)}tick(t){const e=(t||+new Date)-this.startTime,n=Math.min(e,this.duration);this.durationProgress=n/this.duration;const{value:r,valueProgress:l}=this.calculate(n);this.value=Object.freeze(r),this.valueProgress=l,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):e>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),tm(this.tick)))}register(){fm.push(this)}unregister(){fm.remove(this)}abort(){this._state="aborted",this.unregister()}}const M7=["startValue","endValue"];class D7 extends Kv{constructor(t){let{startValue:e=0,endValue:n=100}=t;super(st(st({},$e(t,M7)),{},{startValue:e,byValue:n-e}))}calculate(t){const e=this.easing(t,this.startValue,this.byValue,this.duration);return{value:e,valueProgress:Math.abs((e-this.startValue)/this.byValue)}}}const R7=["startValue","endValue"];class N7 extends Kv{constructor(t){let{startValue:e=[0],endValue:n=[100]}=t;super(st(st({},$e(t,R7)),{},{startValue:e,byValue:n.map((r,l)=>r-e[l])}))}calculate(t){const e=this.startValue.map((n,r)=>this.easing(t,n,this.byValue[r],this.duration,r));return{value:e,valueProgress:Math.abs((e[0]-this.startValue[0])/this.byValue[0])}}}const j7=["startValue","endValue","easing","onChange","onComplete","abort"],z7=(a,t,e,n)=>t+e*(1-Math.cos(a/n*E0)),b2=a=>a&&((t,e,n)=>a(new Be(t).toRgba(),e,n));class B7 extends Kv{constructor(t){let{startValue:e,endValue:n,easing:r=z7,onChange:l,onComplete:h,abort:f}=t,d=$e(t,j7);const p=new Be(e).getSource(),v=new Be(n).getSource();super(st(st({},d),{},{startValue:p,byValue:v.map((b,A)=>b-p[A]),easing:r,onChange:b2(l),onComplete:b2(h),abort:b2(f)}))}calculate(t){const[e,n,r,l]=this.startValue.map((f,d)=>this.easing(t,f,this.byValue[d],this.duration,d)),h=[...[e,n,r].map(Math.round),jh(0,l,1)];return{value:h,valueProgress:h.map((f,d)=>this.byValue[d]!==0?Math.abs((f-this.startValue[d])/this.byValue[d]):0).find(f=>f!==0)||0}}}function DS(a){const t=(e=>Array.isArray(e.startValue)||Array.isArray(e.endValue))(a)?new N7(a):new D7(a);return t.start(),t}function L7(a){const t=new B7(a);return t.start(),t}class fn{constructor(t){this.status=t,this.points=[]}includes(t){return this.points.some(e=>e.eq(t))}append(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.points=this.points.concat(e.filter(r=>!this.includes(r))),this}static isPointContained(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(e.eq(n))return t.eq(e);if(e.x===n.x)return t.x===e.x&&(r||t.y>=Math.min(e.y,n.y)&&t.y<=Math.max(e.y,n.y));if(e.y===n.y)return t.y===e.y&&(r||t.x>=Math.min(e.x,n.x)&&t.x<=Math.max(e.x,n.x));{const l=I2(e,n),h=I2(e,t).divide(l);return r?Math.abs(h.x)===Math.abs(h.y):h.x===h.y&&h.x>=0&&h.x<=1}}static isPointInPolygon(t,e){const n=new bt(t).setX(Math.min(t.x-1,...e.map(l=>l.x)));let r=0;for(let l=0;l<e.length;l++){const h=this.intersectSegmentSegment(e[l],e[(l+1)%e.length],t,n);if(h.includes(t))return!0;r+=+(h.status==="Intersection")}return r%2==1}static intersectLineLine(t,e,n,r){let l=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],h=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const f=e.x-t.x,d=e.y-t.y,p=r.x-n.x,v=r.y-n.y,b=t.x-n.x,A=t.y-n.y,S=p*A-v*b,x=f*A-d*b,w=v*f-p*d;if(w!==0){const M=S/w,D=x/w;return(l||0<=M&&M<=1)&&(h||0<=D&&D<=1)?new fn("Intersection").append(new bt(t.x+M*f,t.y+M*d)):new fn}if(S===0||x===0){const M=l||h||fn.isPointContained(t,n,r)||fn.isPointContained(e,n,r)||fn.isPointContained(n,t,e)||fn.isPointContained(r,t,e);return new fn(M?"Coincident":void 0)}return new fn("Parallel")}static intersectSegmentLine(t,e,n,r){return fn.intersectLineLine(t,e,n,r,!1,!0)}static intersectSegmentSegment(t,e,n,r){return fn.intersectLineLine(t,e,n,r,!1,!1)}static intersectLinePolygon(t,e,n){let r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const l=new fn,h=n.length;for(let f,d,p,v=0;v<h;v++){if(f=n[v],d=n[(v+1)%h],p=fn.intersectLineLine(t,e,f,d,r,!1),p.status==="Coincident")return p;l.append(...p.points)}return l.points.length>0&&(l.status="Intersection"),l}static intersectSegmentPolygon(t,e,n){return fn.intersectLinePolygon(t,e,n,!1)}static intersectPolygonPolygon(t,e){const n=new fn,r=t.length,l=[];for(let h=0;h<r;h++){const f=t[h],d=t[(h+1)%r],p=fn.intersectSegmentPolygon(f,d,e);p.status==="Coincident"?(l.push(p),n.append(f,d)):n.append(...p.points)}return l.length>0&&l.length===t.length?new fn("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}static intersectPolygonRectangle(t,e,n){const r=e.min(n),l=e.max(n),h=new bt(l.x,r.y),f=new bt(r.x,l.y);return fn.intersectPolygonPolygon(t,[r,h,l,f])}}class U7 extends hS{getX(){return this.getXY().x}setX(t){this.setXY(this.getXY().setX(t))}getY(){return this.getXY().y}setY(t){this.setXY(this.getXY().setY(t))}getRelativeX(){return this.left}setRelativeX(t){this.left=t}getRelativeY(){return this.top}setRelativeY(t){this.top=t}getXY(){const t=this.getRelativeXY();return this.group?ca(t,this.group.calcTransformMatrix()):t}setXY(t,e,n){this.group&&(t=ca(t,Xr(this.group.calcTransformMatrix()))),this.setRelativeXY(t,e,n)}getRelativeXY(){return new bt(this.left,this.top)}setRelativeXY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(t,e,n)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:t,tr:e,br:n,bl:r}=this.aCoords||(this.aCoords=this.calcACoords()),l=[t,e,n,r];if(this.group){const h=this.group.calcTransformMatrix();return l.map(f=>ca(f,h))}return l}intersectsWithRect(t,e){return fn.intersectPolygonRectangle(this.getCoords(),t,e).status==="Intersection"}intersectsWithObject(t){const e=fn.intersectPolygonPolygon(this.getCoords(),t.getCoords());return e.status==="Intersection"||e.status==="Coincident"||t.isContainedWithinObject(this)||this.isContainedWithinObject(t)}isContainedWithinObject(t){return this.getCoords().every(e=>t.containsPoint(e))}isContainedWithinRect(t,e){const{left:n,top:r,width:l,height:h}=this.getBoundingRect();return n>=t.x&&n+l<=e.x&&r>=t.y&&r+h<=e.y}isOverlapping(t){return this.intersectsWithObject(t)||this.isContainedWithinObject(t)||t.isContainedWithinObject(this)}containsPoint(t){return fn.isPointInPolygon(t,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:t,br:e}=this.canvas.vptCoords;return!!this.getCoords().some(n=>n.x<=e.x&&n.x>=t.x&&n.y<=e.y&&n.y>=t.y)||!!this.intersectsWithRect(t,e)||this.containsPoint(t.midPointFrom(e))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:t,br:e}=this.canvas.vptCoords;return this.intersectsWithRect(t,e)?!0:this.getCoords().every(n=>(n.x>=e.x||n.x<=t.x)&&(n.y>=e.y||n.y<=t.y))&&this.containsPoint(t.midPointFrom(e))}getBoundingRect(){return No(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(t){this._set(ga,t),this._set(ar,t),this.setCoords()}scaleToWidth(t){const e=this.getBoundingRect().width/this.getScaledWidth();return this.scale(t/this.width/e)}scaleToHeight(t){const e=this.getBoundingRect().height/this.getScaledHeight();return this.scale(t/this.height/e)}getCanvasRetinaScaling(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.getRetinaScaling())||1}getTotalAngle(){return this.group?su(dS(this.calcTransformMatrix())):this.angle}getViewportTransform(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.viewportTransform)||Vi.concat()}calcACoords(){const t=O0({angle:this.angle}),{x:e,y:n}=this.getRelativeCenterPoint(),r=w0(e,n),l=vi(r,t),h=this._getTransformedDimensions(),f=h.x/2,d=h.y/2;return{tl:ca({x:-f,y:-d},l),tr:ca({x:f,y:-d},l),bl:ca({x:-f,y:d},l),br:ca({x:f,y:d},l)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=[];return!t&&this.group&&(e=this.group.transformMatrixKey(t)),e.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Ln(this.originX),Ln(this.originY)),e}calcTransformMatrix(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=this.calcOwnMatrix();if(t||!this.group)return e;const n=this.transformMatrixKey(t),r=this.matrixCache;return r&&r.key.every((l,h)=>l===n[h])?r.value:(this.group&&(e=vi(this.group.calcTransformMatrix(!1),e)),this.matrixCache={key:n,value:e},e)}calcOwnMatrix(){const t=this.transformMatrixKey(!0),e=this.ownMatrixCache;if(e&&e.key===t)return e.value;const n=this.getRelativeCenterPoint(),r={angle:this.angle,translateX:n.x,translateY:n.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},l=l7(r);return this.ownMatrixCache={key:t,value:l},l}_getNonTransformedDimensions(){return new bt(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(t){return this._getTransformedDimensions(t).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=st({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},t),n=e.strokeWidth;let r=n,l=0;this.strokeUniform&&(r=0,l=n);const h=e.width+r,f=e.height+r;let d;return d=e.skewX===0&&e.skewY===0?new bt(h*e.scaleX,f*e.scaleY):Yv(h,f,Vm(e)),d.scalarAdd(l)}translateToGivenOrigin(t,e,n,r,l){let h=t.x,f=t.y;const d=Ln(r)-Ln(e),p=Ln(l)-Ln(n);if(d||p){const v=this._getTransformedDimensions();h+=d*v.x,f+=p*v.y}return new bt(h,f)}translateToCenterPoint(t,e,n){if(e===oe&&n===oe)return t;const r=this.translateToGivenOrigin(t,e,n,oe,oe);return this.angle?r.rotate(Dn(this.angle),t):r}translateToOriginPoint(t,e,n){const r=this.translateToGivenOrigin(t,oe,oe,e,n);return this.angle?r.rotate(Dn(this.angle),t):r}getCenterPoint(){const t=this.getRelativeCenterPoint();return this.group?ca(t,this.group.calcTransformMatrix()):t}getRelativeCenterPoint(){return this.translateToCenterPoint(new bt(this.left,this.top),this.originX,this.originY)}getPointByOrigin(t,e){return this.translateToOriginPoint(this.getRelativeCenterPoint(),t,e)}setPositionByOrigin(t,e,n){const r=this.translateToCenterPoint(t,e,n),l=this.translateToOriginPoint(r,this.originX,this.originY);this.set({left:l.x,top:l.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Re,ha)}}const G7=["type"],H7=["extraParam"];let wo=class nm extends U7{static getDefaults(){return nm.ownDefaults}get type(){const t=this.constructor.type;return t==="FabricObject"?"object":t.toLowerCase()}set type(t){Xl("warn","Setting type has no effect",t)}constructor(t){super(),at(this,"_cacheContext",null),Object.assign(this,nm.ownDefaults),this.setOptions(t)}_createCacheCanvas(){this._cacheCanvas=Kr(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(t){const e=t.width,n=t.height,r=_e.maxCacheSideLimit,l=_e.minCacheSideLimit;if(e<=r&&n<=r&&e*n<=_e.perfLimitSizeTotal)return e<l&&(t.width=l),n<l&&(t.height=l),t;const h=e/n,[f,d]=l0.limitDimsByArea(h),p=jh(l,f,r),v=jh(l,d,r);return e>p&&(t.zoomX/=e/p,t.width=p,t.capped=!0),n>v&&(t.zoomY/=n/v,t.height=v,t.capped=!0),t}_getCacheCanvasDimensions(){const t=this.getTotalObjectScaling(),e=this._getTransformedDimensions({skewX:0,skewY:0}),n=e.x*t.x/this.scaleX,r=e.y*t.y/this.scaleY;return{width:Math.ceil(n+2),height:Math.ceil(r+2),zoomX:t.x,zoomY:t.y,x:n,y:r}}_updateCacheCanvas(){const t=this._cacheCanvas,e=this._cacheContext,{width:n,height:r,zoomX:l,zoomY:h,x:f,y:d}=this._limitCacheSize(this._getCacheCanvasDimensions()),p=n!==t.width||r!==t.height,v=this.zoomX!==l||this.zoomY!==h;if(!t||!e)return!1;if(p||v){n!==t.width||r!==t.height?(t.width=n,t.height=r):(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height));const b=f/2,A=d/2;return this.cacheTranslationX=Math.round(t.width/2-b)+b,this.cacheTranslationY=Math.round(t.height/2-A)+A,e.translate(this.cacheTranslationX,this.cacheTranslationY),e.scale(l,h),this.zoomX=l,this.zoomY=h,!0}return!1}setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(t)}transform(t){const e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,n=this.calcTransformMatrix(!e);t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}getObjectScaling(){if(!this.group)return new bt(Math.abs(this.scaleX),Math.abs(this.scaleY));const t=dm(this.calcTransformMatrix());return new bt(Math.abs(t.scaleX),Math.abs(t.scaleY))}getTotalObjectScaling(){const t=this.getObjectScaling();if(this.canvas){const e=this.canvas.getZoom(),n=this.getCanvasRetinaScaling();return t.scalarMultiply(e*n)}return t}getObjectOpacity(){let t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t}_constrainScale(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t===0?1e-4:t}_set(t,e){t!==ga&&t!==ar||(e=this._constrainScale(e)),t===ga&&e<0?(this.flipX=!this.flipX,e*=-1):t==="scaleY"&&e<0?(this.flipY=!this.flipY,e*=-1):t!=="shadow"||!e||e instanceof jo||(e=new jo(e));const n=this[t]!==e;return this[t]=e,n&&this.constructor.cacheProperties.includes(t)&&(this.dirty=!0),this.parent&&(this.dirty||n&&this.constructor.stateProperties.includes(t))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.drawObject(t,!1,{}),this.dirty=!1),t.restore())}drawSelectionBackground(t){}renderCache(t){if(t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:e,zoomY:n,cacheTranslationX:r,cacheTranslationY:l}=this,{width:h,height:f}=this._cacheCanvas;this.drawObject(this._cacheContext,t.forClipping,{zoomX:e,zoomY:n,cacheTranslationX:r,cacheTranslationY:l,width:h,height:f,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===da&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.parent||!this.parent.isOnACache()),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(t,e,n){t.save(),e.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",t.setTransform(1,0,0,1,0,0),t.drawImage(n,0,0),t.restore()}drawObject(t,e,n){const r=this.fill,l=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath,n),this.fill=r,this.stroke=l}createClipPathLayer(t,e){const n=Fs(e),r=n.getContext("2d");if(r.translate(e.cacheTranslationX,e.cacheTranslationY),r.scale(e.zoomX,e.zoomY),t._cacheCanvas=n,e.parentClipPaths.forEach(l=>{l.transform(r)}),e.parentClipPaths.push(t),t.absolutePositioned){const l=Xr(this.calcTransformMatrix());r.transform(l[0],l[1],l[2],l[3],l[4],l[5])}return t.transform(r),t.drawObject(r,!0,e),n}_drawClipPath(t,e,n){if(!e)return;e._transformDone=!0;const r=this.createClipPathLayer(e,n);this.drawClipPathOnCache(t,e,r)}drawCacheOnCanvas(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const e=this._cacheCanvas,n=this._cacheContext;return!(!e||!n||t||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(e&&n&&!t&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),n.restore()),!0)}_renderBackground(t){if(!this.backgroundColor)return;const e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}_setOpacity(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity}_setStrokeStyles(t,e){const n=e.stroke;n&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,ir(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(t,n):(t.strokeStyle=n.toLive(t),this._applyPatternGradientTransform(t,n)):t.strokeStyle=e.stroke)}_setFillStyles(t,e){let{fill:n}=e;n&&(ir(n)?(t.fillStyle=n.toLive(t),this._applyPatternGradientTransform(t,n)):t.fillStyle=n)}_setClippingProperties(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"}_setLineDash(t,e){e&&e.length!==0&&t.setLineDash(e)}_setShadow(t){if(!this.shadow)return;const e=this.shadow,n=this.canvas,r=this.getCanvasRetinaScaling(),[l,,,h]=(n==null?void 0:n.viewportTransform)||Vi,f=l*r,d=h*r,p=e.nonScaling?new bt(1,1):this.getObjectScaling();t.shadowColor=e.color,t.shadowBlur=e.blur*_e.browserShadowBlurConstant*(f+d)*(p.x+p.y)/4,t.shadowOffsetX=e.offsetX*f*p.x,t.shadowOffsetY=e.offsetY*d*p.y}_removeShadow(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)}_applyPatternGradientTransform(t,e){if(!ir(e))return{offsetX:0,offsetY:0};const n=e.gradientTransform||e.patternTransform,r=-this.width/2+e.offsetX||0,l=-this.height/2+e.offsetY||0;return e.gradientUnits==="percentage"?t.transform(this.width,0,0,this.height,r,l):t.transform(1,0,0,1,r,l),n&&t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:r,offsetY:l}}_renderPaintInOrder(t){this.paintFirst===da?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))}_render(t){}_renderFill(t){this.fill&&(t.save(),this._setFillStyles(t,this),this.fillRule==="evenodd"?t.fill("evenodd"):t.fill(),t.restore())}_renderStroke(t){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform){const e=this.getObjectScaling();t.scale(1/e.x,1/e.y)}this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}}_applyPatternForTransformedGradient(t,e){var n;const r=this._limitCacheSize(this._getCacheCanvasDimensions()),l=this.getCanvasRetinaScaling(),h=r.x/this.scaleX/l,f=r.y/this.scaleY/l,d=Fs({width:Math.ceil(h),height:Math.ceil(f)}),p=d.getContext("2d");p&&(p.beginPath(),p.moveTo(0,0),p.lineTo(h,0),p.lineTo(h,f),p.lineTo(0,f),p.closePath(),p.translate(h/2,f/2),p.scale(r.zoomX/this.scaleX/l,r.zoomY/this.scaleY/l),this._applyPatternGradientTransform(p,e),p.fillStyle=e.toLive(t),p.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(l*this.scaleX/r.zoomX,l*this.scaleY/r.zoomY),t.strokeStyle=(n=p.createPattern(d,"no-repeat"))!==null&&n!==void 0?n:"")}_findCenterFromElement(){return new bt(this.left+this.width/2,this.top+this.height/2)}clone(t){const e=this.toObject(t);return this.constructor.fromObject(e)}cloneAsImage(t){const e=this.toCanvasElement(t);return new(zt.getClass("image"))(e)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=SS(this),n=this.group,r=this.shadow,l=Math.abs,h=t.enableRetinaScaling?sS():1,f=(t.multiplier||1)*h,d=t.canvasProvider||(T=>new M0(T,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,t.withoutTransform&&m7(this),t.withoutShadow&&(this.shadow=null),t.viewportTransform&&v7(this,this.getViewportTransform()),this.setCoords();const p=Kr(),v=this.getBoundingRect(),b=this.shadow,A=new bt;if(b){const T=b.blur,O=b.nonScaling?new bt(1,1):this.getObjectScaling();A.x=2*Math.round(l(b.offsetX)+T)*l(O.x),A.y=2*Math.round(l(b.offsetY)+T)*l(O.y)}const S=v.width+A.x,x=v.height+A.y;p.width=Math.ceil(S),p.height=Math.ceil(x);const w=d(p);t.format==="jpeg"&&(w.backgroundColor="#fff"),this.setPositionByOrigin(new bt(w.width/2,w.height/2),oe,oe);const M=this.canvas;w._objects=[this],this.set("canvas",w),this.setCoords();const D=w.toCanvasElement(f||1,t);return this.set("canvas",M),this.shadow=r,n&&(this.group=n),this.set(e),this.setCoords(),w._objects=[],w.destroy(),D}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fS(this.toCanvasElement(t),t.format||"png",t.quality||1)}isType(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.includes(this.constructor.type)||e.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(t){const{centeredRotation:e,originX:n,originY:r}=this;if(e){const{x:l,y:h}=this.getRelativeCenterPoint();this.originX=oe,this.originY=oe,this.left=l,this.top=h}if(this.set("angle",t),e){const{x:l,y:h}=this.translateToOriginPoint(this.getRelativeCenterPoint(),n,r);this.left=l,this.top=h,this.originX=n,this.originY=r}}setOnGroup(){}_setupCompositeOperation(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}dispose(){fm.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Ps().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(t,e){return Object.entries(t).reduce((n,r)=>{let[l,h]=r;return n[l]=this._animate(l,h,e),n},{})}_animate(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.split("."),l=this.constructor.colorProperties.includes(r[r.length-1]),{abort:h,startValue:f,onChange:d,onComplete:p}=n,v=st(st({},n),{},{target:this,startValue:f??r.reduce((b,A)=>b[A],this),endValue:e,abort:h==null?void 0:h.bind(this),onChange:(b,A,S)=>{r.reduce((x,w,M)=>(M===r.length-1&&(x[w]=b),x[w]),this),d&&d(b,A,S)},onComplete:(b,A,S)=>{this.setCoords(),p&&p(b,A,S)}});return l?L7(v):DS(v)}isDescendantOf(t){const{parent:e,group:n}=this;return e===t||n===t||!!e&&e.isDescendantOf(t)||!!n&&n!==e&&n.isDescendantOf(t)}getAncestors(){const t=[];let e=this;do e=e.parent,e&&t.push(e);while(e);return t}findCommonAncestors(t){if(this===t)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const e=this.getAncestors(),n=t.getAncestors();if(e.length===0&&n.length>0&&this===n[n.length-1])return{fork:[],otherFork:[t,...n.slice(0,n.length-1)],common:[this]};for(let r,l=0;l<e.length;l++){if(r=e[l],r===t)return{fork:[this,...e.slice(0,l)],otherFork:[],common:e.slice(l)};for(let h=0;h<n.length;h++){if(this===n[h])return{fork:[],otherFork:[t,...n.slice(0,h)],common:[this,...e]};if(r===n[h])return{fork:[this,...e.slice(0,l)],otherFork:[t,...n.slice(0,h)],common:e.slice(l)}}}return{fork:[this,...e],otherFork:[t,...n],common:[]}}hasCommonAncestors(t){const e=this.findCommonAncestors(t);return e&&!!e.common.length}isInFrontOf(t){if(this===t)return;const e=this.findCommonAncestors(t);if(e.fork.includes(t))return!0;if(e.otherFork.includes(this))return!1;const n=e.common[0]||this.canvas;if(!n)return;const r=e.fork.pop(),l=e.otherFork.pop(),h=n._objects.indexOf(r),f=n._objects.indexOf(l);return h>-1&&h>f}toObject(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(nm.customProperties,this.constructor.customProperties||[]);let e;const n=_e.NUM_FRACTION_DIGITS,{clipPath:r,fill:l,stroke:h,shadow:f,strokeDashArray:d,left:p,top:v,originX:b,originY:A,width:S,height:x,strokeWidth:w,strokeLineCap:M,strokeDashOffset:D,strokeLineJoin:T,strokeUniform:O,strokeMiterLimit:R,scaleX:z,scaleY:H,angle:V,flipX:P,flipY:K,opacity:B,visible:Y,backgroundColor:Z,fillRule:j,paintFirst:U,globalCompositeOperation:G,skewX:k,skewY:X}=this;r&&!r.excludeFromExport&&(e=r.toObject(t.concat("inverted","absolutePositioned")));const I=q=>gn(q,n),it=st(st({},Ph(this,t)),{},{type:this.constructor.type,version:q2,originX:b,originY:A,left:I(p),top:I(v),width:I(S),height:I(x),fill:$5(l)?l.toObject():l,stroke:$5(h)?h.toObject():h,strokeWidth:I(w),strokeDashArray:d&&d.concat(),strokeLineCap:M,strokeDashOffset:D,strokeLineJoin:T,strokeUniform:O,strokeMiterLimit:I(R),scaleX:I(z),scaleY:I(H),angle:I(V),flipX:P,flipY:K,opacity:I(B),shadow:f&&f.toObject(),visible:Y,backgroundColor:Z,fillRule:j,paintFirst:U,globalCompositeOperation:G,skewX:I(k),skewY:I(X)},e?{clipPath:e}:null);return this.includeDefaultValues?it:this._removeDefaultValues(it)}toDatalessObject(t){return this.toObject(t)}_removeDefaultValues(t){const e=this.constructor.getDefaults(),n=Object.keys(e).length>0?e:Object.getPrototypeOf(this);return Vv(t,(r,l)=>{if(l===Re||l===ha||l==="type")return!0;const h=n[l];return r!==h&&!(Array.isArray(r)&&Array.isArray(h)&&r.length===0&&h.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(t){let e=$e(t,G7),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:r}=n,l=$e(n,H7);return Ym(e,l).then(h=>r?(delete h[r],new this(e[r],h)):new this(h))}static fromObject(t,e){return this._fromObject(t,e)}};at(wo,"stateProperties",T7),at(wo,"cacheProperties",Fo),at(wo,"ownDefaults",E7),at(wo,"type","FabricObject"),at(wo,"colorProperties",[Vn,da,"backgroundColor"]),at(wo,"customProperties",[]),zt.setClass(wo),zt.setClass(wo,"object");const Fh=(a,t,e)=>(n,r,l,h)=>{const f=t(n,r,l,h);return f&&AS(a,st(st({},CS(n,r,l,h)),e)),f};function Vh(a){return(t,e,n,r)=>{const{target:l,originX:h,originY:f}=e,d=l.getRelativeCenterPoint(),p=l.translateToOriginPoint(d,h,f),v=a(t,e,n,r);return l.setPositionByOrigin(p,e.originX,e.originY),v}}const l3=Fh(m0,Vh((a,t,e,n)=>{const r=Xv(t,t.originX,t.originY,e,n);if(Ln(t.originX)===Ln(oe)||Ln(t.originX)===Ln(Mn)&&r.x<0||Ln(t.originX)===Ln(Re)&&r.x>0){const{target:l}=t,h=l.strokeWidth/(l.strokeUniform?l.scaleX:1),f=xS(t)?2:1,d=l.width,p=Math.abs(r.x*f/l.scaleX)-h;return l.set("width",Math.max(p,1)),d!==l.width}return!1}));function k7(a,t,e,n,r){n=n||{};const l=this.sizeX||n.cornerSize||r.cornerSize,h=this.sizeY||n.cornerSize||r.cornerSize,f=n.transparentCorners!==void 0?n.transparentCorners:r.transparentCorners,d=f?da:Vn,p=!f&&(n.cornerStrokeColor||r.cornerStrokeColor);let v,b=t,A=e;a.save(),a.fillStyle=n.cornerColor||r.cornerColor||"",a.strokeStyle=n.cornerStrokeColor||r.cornerStrokeColor||"",l>h?(v=l,a.scale(1,h/l),A=e*l/h):h>l?(v=h,a.scale(l/h,1),b=t*h/l):v=l,a.beginPath(),a.arc(b,A,v/2,0,cm,!1),a[d](),p&&a.stroke(),a.restore()}function P7(a,t,e,n,r){n=n||{};const l=this.sizeX||n.cornerSize||r.cornerSize,h=this.sizeY||n.cornerSize||r.cornerSize,f=n.transparentCorners!==void 0?n.transparentCorners:r.transparentCorners,d=f?da:Vn,p=!f&&(n.cornerStrokeColor||r.cornerStrokeColor),v=l/2,b=h/2;a.save(),a.fillStyle=n.cornerColor||r.cornerColor||"",a.strokeStyle=n.cornerStrokeColor||r.cornerStrokeColor||"",a.translate(t,e);const A=r.getTotalAngle();a.rotate(Dn(A)),a["".concat(d,"Rect")](-v,-b,l,h),p&&a.strokeRect(-v,-b,l,h),a.restore()}class kr{constructor(t){at(this,"visible",!0),at(this,"actionName",Fm),at(this,"angle",0),at(this,"x",0),at(this,"y",0),at(this,"offsetX",0),at(this,"offsetY",0),at(this,"sizeX",0),at(this,"sizeY",0),at(this,"touchSizeX",0),at(this,"touchSizeY",0),at(this,"cursorStyle","crosshair"),at(this,"withConnection",!1),Object.assign(this,t)}shouldActivate(t,e,n,r){var l;let{tl:h,tr:f,br:d,bl:p}=r;return((l=e.canvas)===null||l===void 0?void 0:l.getActiveObject())===e&&e.isControlVisible(t)&&fn.isPointInPolygon(n,[h,f,d,p])}getActionHandler(t,e,n){return this.actionHandler}getMouseDownHandler(t,e,n){return this.mouseDownHandler}getMouseUpHandler(t,e,n){return this.mouseUpHandler}cursorStyleHandler(t,e,n){return e.cursorStyle}getActionName(t,e,n){return e.actionName}getVisibility(t,e){var n,r;return(n=(r=t._controlsVisibility)===null||r===void 0?void 0:r[e])!==null&&n!==void 0?n:this.visible}setVisibility(t,e,n){this.visible=t}positionHandler(t,e,n,r){return new bt(this.x*t.x+this.offsetX,this.y*t.y+this.offsetY).transform(e)}calcCornerCoords(t,e,n,r,l,h){const f=Pv([w0(n,r),O0({angle:t}),Fv((l?this.touchSizeX:this.sizeX)||e,(l?this.touchSizeY:this.sizeY)||e)]);return{tl:new bt(-.5,-.5).transform(f),tr:new bt(.5,-.5).transform(f),br:new bt(.5,.5).transform(f),bl:new bt(-.5,.5).transform(f)}}render(t,e,n,r,l){((r=r||{}).cornerStyle||l.cornerStyle)==="circle"?k7.call(this,t,e,n,r,l):P7.call(this,t,e,n,r,l)}}const F7=(a,t,e)=>e.lockRotation?pm:t.cursorStyle,V7=Fh(lS,Vh((a,t,e,n)=>{let{target:r,ex:l,ey:h,theta:f,originX:d,originY:p}=t;const v=r.translateToOriginPoint(r.getRelativeCenterPoint(),d,p);if(qr(r,"lockRotation"))return!1;const b=Math.atan2(h-v.y,l-v.x),A=Math.atan2(n-v.y,e-v.x);let S=su(A-b+f);if(r.snapAngle&&r.snapAngle>0){const w=r.snapAngle,M=r.snapThreshold||w,D=Math.ceil(S/w)*w,T=Math.floor(S/w)*w;Math.abs(S-T)<M?S=T:Math.abs(S-D)<M&&(S=D)}S<0&&(S=360+S),S%=360;const x=r.angle!==S;return r.angle=S,x}));function RS(a,t){const e=t.canvas,n=a[e.uniScaleKey];return e.uniformScaling&&!n||!e.uniformScaling&&n}function NS(a,t,e){const n=qr(a,"lockScalingX"),r=qr(a,"lockScalingY");if(n&&r||!t&&(n||r)&&e||n&&t==="x"||r&&t==="y")return!0;const{width:l,height:h,strokeWidth:f}=a;return l===0&&f===0&&t!=="y"||h===0&&f===0&&t!=="x"}const Y7=["e","se","s","sw","w","nw","n","ne","e"],s0=(a,t,e)=>{const n=RS(a,e);if(NS(e,t.x!==0&&t.y===0?"x":t.x===0&&t.y!==0?"y":"",n))return pm;const r=TS(e,t);return"".concat(Y7[r],"-resize")};function Qv(a,t,e,n){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const l=t.target,h=r.by,f=RS(a,l);let d,p,v,b,A,S;if(NS(l,h,f))return!1;if(t.gestureScale)p=t.scaleX*t.gestureScale,v=t.scaleY*t.gestureScale;else{if(d=Xv(t,t.originX,t.originY,e,n),A=h!=="y"?Math.sign(d.x||t.signX||1):1,S=h!=="x"?Math.sign(d.y||t.signY||1):1,t.signX||(t.signX=A),t.signY||(t.signY=S),qr(l,"lockScalingFlip")&&(t.signX!==A||t.signY!==S))return!1;if(b=l._getTransformedDimensions(),f&&!h){const M=Math.abs(d.x)+Math.abs(d.y),{original:D}=t,T=M/(Math.abs(b.x*D.scaleX/l.scaleX)+Math.abs(b.y*D.scaleY/l.scaleY));p=D.scaleX*T,v=D.scaleY*T}else p=Math.abs(d.x*l.scaleX/b.x),v=Math.abs(d.y*l.scaleY/b.y);xS(t)&&(p*=2,v*=2),t.signX!==A&&h!=="y"&&(t.originX=n3(t.originX),p*=-1,t.signX=A),t.signY!==S&&h!=="x"&&(t.originY=n3(t.originY),v*=-1,t.signY=S)}const x=l.scaleX,w=l.scaleY;return h?(h==="x"&&l.set(ga,p),h==="y"&&l.set(ar,v)):(!qr(l,"lockScalingX")&&l.set(ga,p),!qr(l,"lockScalingY")&&l.set(ar,v)),x!==l.scaleX||w!==l.scaleY}const _1=Fh(Pm,Vh((a,t,e,n)=>Qv(a,t,e,n))),X7=Fh(Pm,Vh((a,t,e,n)=>Qv(a,t,e,n,{by:"x"}))),q7=Fh(Pm,Vh((a,t,e,n)=>Qv(a,t,e,n,{by:"y"}))),K7=["target","ex","ey","skewingSide"],_2={x:{counterAxis:"y",scale:ga,skew:Hh,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:ar,skew:kh,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},Q7=["ns","nesw","ew","nwse"],W7=(a,t,e)=>{if(t.x!==0&&qr(e,"lockSkewingY")||t.y!==0&&qr(e,"lockSkewingX"))return pm;const n=TS(e,t)%4;return"".concat(Q7[n],"-resize")};function jS(a,t,e,n,r){const{target:l}=e,{counterAxis:h,origin:f,lockSkewing:d,skew:p,flip:v}=_2[a];if(qr(l,d))return!1;const{origin:b,flip:A}=_2[h],S=Ln(e[b])*(l[A]?-1:1),x=-Math.sign(S)*(l[v]?-1:1),w=.5*-((l[p]===0&&Xv(e,oe,oe,n,r)[a]>0||l[p]>0?1:-1)*x)+.5;return Fh(cS,Vh((D,T,O,R)=>function(z,H,V){let{target:P,ex:K,ey:B,skewingSide:Y}=H,Z=$e(H,K7);const{skew:j}=_2[z],U=V.subtract(new bt(K,B)).divide(new bt(P.scaleX,P.scaleY))[z],G=P[j],k=Z[j],X=Math.tan(Dn(k)),I=z==="y"?P._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:P._getTransformedDimensions({scaleX:1,scaleY:1}).y,it=2*U*Y/Math.max(I,1)+X,q=su(Math.atan(it));P.set(j,q);const tt=G!==P[j];if(tt&&z==="y"){const{skewX:mt,scaleX:lt}=P,dt=P._getTransformedDimensions({skewY:G}),Tt=P._getTransformedDimensions(),Ct=mt!==0?dt.x/Tt.x:1;Ct!==1&&P.set(ga,Ct*lt)}return tt}(a,T,new bt(O,R))))(t,st(st({},e),{},{[f]:w,skewingSide:x}),n,r)}const Z7=(a,t,e,n)=>jS("x",a,t,e,n),I7=(a,t,e,n)=>jS("y",a,t,e,n);function Km(a,t){return a[t.canvas.altActionKey]}const S1=(a,t,e)=>{const n=Km(a,e);return t.x===0?n?Hh:ar:t.y===0?n?kh:ga:""},Ch=(a,t,e)=>Km(a,e)?W7(0,t,e):s0(a,t,e),c3=(a,t,e,n)=>Km(a,t.target)?I7(a,t,e,n):X7(a,t,e,n),u3=(a,t,e,n)=>Km(a,t.target)?Z7(a,t,e,n):q7(a,t,e,n),zS=()=>({ml:new kr({x:-.5,y:0,cursorStyleHandler:Ch,actionHandler:c3,getActionName:S1}),mr:new kr({x:.5,y:0,cursorStyleHandler:Ch,actionHandler:c3,getActionName:S1}),mb:new kr({x:0,y:.5,cursorStyleHandler:Ch,actionHandler:u3,getActionName:S1}),mt:new kr({x:0,y:-.5,cursorStyleHandler:Ch,actionHandler:u3,getActionName:S1}),tl:new kr({x:-.5,y:-.5,cursorStyleHandler:s0,actionHandler:_1}),tr:new kr({x:.5,y:-.5,cursorStyleHandler:s0,actionHandler:_1}),bl:new kr({x:-.5,y:.5,cursorStyleHandler:s0,actionHandler:_1}),br:new kr({x:.5,y:.5,cursorStyleHandler:s0,actionHandler:_1}),mtr:new kr({x:0,y:-.5,actionHandler:V7,cursorStyleHandler:F7,offsetY:-40,withConnection:!0,actionName:Hv})}),J7=()=>({mr:new kr({x:.5,y:0,actionHandler:l3,cursorStyleHandler:Ch,actionName:m0}),ml:new kr({x:-.5,y:0,actionHandler:l3,cursorStyleHandler:Ch,actionName:m0})}),$7=()=>st(st({},zS()),J7());class y0 extends wo{static getDefaults(){return st(st({},super.getDefaults()),y0.ownDefaults)}constructor(t){super(),Object.assign(this,this.constructor.createControls(),y0.ownDefaults),this.setOptions(t)}static createControls(){return{controls:zS()}}_updateCacheCanvas(){const t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){const e=t._currentTransform,n=e.target,r=e.action;if(this===n&&r&&r.startsWith(Fm))return!1}return super._updateCacheCanvas()}getActiveControl(){const t=this.__corner;return t?{key:t,control:this.controls[t],coord:this.oCoords[t]}:void 0}findControl(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const n=Object.entries(this.oCoords);for(let r=n.length-1;r>=0;r--){const[l,h]=n[r],f=this.controls[l];if(f.shouldActivate(l,this,t,e?h.touchCorner:h.corner))return this.__corner=l,{key:l,control:f,coord:this.oCoords[l]}}}calcOCoords(){const t=this.getViewportTransform(),e=this.getCenterPoint(),n=w0(e.x,e.y),r=O0({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),l=vi(n,r),h=vi(t,l),f=vi(h,[1/t[0],0,0,1/t[3],0,0]),d=this.group?dm(this.calcTransformMatrix()):void 0;d&&(d.scaleX=Math.abs(d.scaleX),d.scaleY=Math.abs(d.scaleY));const p=this._calculateCurrentDimensions(d),v={};return this.forEachControl((b,A)=>{const S=b.positionHandler(p,f,this,b);v[A]=Object.assign(S,this._calcCornerCoords(b,S))}),v}_calcCornerCoords(t,e){const n=this.getTotalAngle();return{corner:t.calcCornerCoords(n,this.cornerSize,e.x,e.y,!1,this),touchCorner:t.calcCornerCoords(n,this.touchCornerSize,e.x,e.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(t){for(const e in this.controls)t(this.controls[e],e,this)}drawSelectionBackground(t){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;t.save();const e=this.getRelativeCenterPoint(),n=this._calculateCurrentDimensions(),r=this.getViewportTransform();t.translate(e.x,e.y),t.scale(1/r[0],1/r[3]),t.rotate(Dn(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-n.x/2,-n.y/2,n.x,n.y),t.restore()}strokeBorders(t,e){t.strokeRect(-e.x/2,-e.y/2,e.x,e.y)}_drawBorders(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=st({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},n);t.save(),t.strokeStyle=r.borderColor,this._setLineDash(t,r.borderDashArray),this.strokeBorders(t,e),r.hasControls&&this.drawControlsConnectingLines(t,e),t.restore()}_renderControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:n,hasControls:r}=this,l=st({hasBorders:n,hasControls:r},e),h=this.getViewportTransform(),f=l.hasBorders,d=l.hasControls,p=vi(h,this.calcTransformMatrix()),v=dm(p);t.save(),t.translate(v.translateX,v.translateY),t.lineWidth=this.borderScaleFactor,this.group===this.parent&&(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(v.angle-=180),t.rotate(Dn(this.group?v.angle:this.angle)),f&&this.drawBorders(t,v,e),d&&this.drawControls(t,e),t.restore()}drawBorders(t,e,n){let r;if(n&&n.forActiveSelection||this.group){const l=Yv(this.width,this.height,Vm(e)),h=this.isStrokeAccountedForInDimensions()?kv:(this.strokeUniform?new bt().scalarAdd(this.canvas?this.canvas.getZoom():1):new bt(e.scaleX,e.scaleY)).scalarMultiply(this.strokeWidth);r=l.add(h).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else r=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(t,r,n)}drawControlsConnectingLines(t,e){let n=!1;t.beginPath(),this.forEachControl((r,l)=>{r.withConnection&&r.getVisibility(this,l)&&(n=!0,t.moveTo(r.x*e.x,r.y*e.y),t.lineTo(r.x*e.x+r.offsetX,r.y*e.y+r.offsetY))}),n&&t.stroke()}drawControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.save();const n=this.getCanvasRetinaScaling(),{cornerStrokeColor:r,cornerDashArray:l,cornerColor:h}=this,f=st({cornerStrokeColor:r,cornerDashArray:l,cornerColor:h},e);t.setTransform(n,0,0,n,0,0),t.strokeStyle=t.fillStyle=f.cornerColor,this.transparentCorners||(t.strokeStyle=f.cornerStrokeColor),this._setLineDash(t,f.cornerDashArray),this.forEachControl((d,p)=>{if(d.getVisibility(this,p)){const v=this.oCoords[p];d.render(t,v.x,v.y,f,this)}}),t.restore()}isControlVisible(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)}setControlVisible(t,e){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e}setControlsVisibility(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(t).forEach(e=>{let[n,r]=e;return this.setControlVisible(n,r)})}clearContextTop(t){if(!this.canvas)return;const e=this.canvas.contextTop;if(!e)return;const n=this.canvas.viewportTransform;e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(e);const r=this.width+4,l=this.height+4;return e.clearRect(-r/2,-l/2,r,l),t||e.restore(),e}onDeselect(t){return!1}onSelect(t){return!1}shouldStartDragging(t){return!1}onDragStart(t){return!1}canDrop(t){return!1}renderDragSourceEffect(t){}renderDropTargetEffect(t){}}function BS(a,t){return t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(a.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n)||Object.create(null))})}),a}at(y0,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Mi extends y0{}BS(Mi,[ES]),zt.setClass(Mi),zt.setClass(Mi,"object");const tT=(a,t,e,n)=>{const r=2*(n=Math.round(n))+1,{data:l}=a.getImageData(t-n,e-n,r,r);for(let h=3;h<l.length;h+=4)if(l[h]>0)return!1;return!0};class LS{constructor(t){this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new bt(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new bt(1/this.options.scaleX,1/this.options.scaleY):new bt(1,1)}createSideVector(t,e){const n=I2(t,e);return this.options.strokeUniform?n.multiply(this.scale):n}projectOrthogonally(t,e,n){return this.applySkew(t.add(this.calcOrthogonalProjection(t,e,n)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(t){const e=new bt(t);return e.y+=e.x*Math.tan(Dn(this.options.skewY)),e.x+=e.y*Math.tan(Dn(this.options.skewX)),e}scaleUnitVector(t,e){return t.multiply(this.strokeUniformScalar).scalarMultiply(e)}}const eT=new bt;class Mh extends LS{static getOrthogonalRotationFactor(t,e){const n=e?$2(t,e):x7(t);return Math.abs(n)<E0?-1:1}constructor(t,e,n,r){super(r),at(this,"AB",void 0),at(this,"AC",void 0),at(this,"alpha",void 0),at(this,"bisector",void 0),this.A=new bt(t),this.B=new bt(e),this.C=new bt(n),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=$2(this.AB,this.AC),this.bisector=qv(OS(this.AB.eq(eT)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const r=this.createSideVector(t,e),l=MS(r),h=Mh.getOrthogonalRotationFactor(l,this.bisector);return this.scaleUnitVector(l,n*h)}projectBevel(){const t=[];return(this.alpha%cm==0?[this.B]:[this.B,this.C]).forEach(e=>{t.push(this.projectOrthogonally(this.A,e)),t.push(this.projectOrthogonally(this.A,e,-this.strokeProjectionMagnitude))}),t}projectMiter(){const t=[],e=Math.abs(this.alpha),n=1/Math.sin(e/2),r=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*n),l=this.options.strokeUniform?J2(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return J2(r)/this.strokeProjectionMagnitude<=l&&t.push(this.applySkew(this.A.add(r))),t.push(...this.projectBevel()),t}projectRoundNoSkew(t,e){const n=[],r=new bt(Mh.getOrthogonalRotationFactor(this.bisector),Mh.getOrthogonalRotationFactor(new bt(this.bisector.y,this.bisector.x)));return[new bt(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(r),new bt(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(r)].forEach(l=>{r3(l,t,e)&&n.push(this.A.add(l))}),n}projectRoundWithSkew(t,e){const n=[],{skewX:r,skewY:l,scaleX:h,scaleY:f,strokeUniform:d}=this.options,p=new bt(Math.tan(Dn(r)),Math.tan(Dn(l))),v=this.strokeProjectionMagnitude,b=d?v/f/Math.sqrt(1/f**2+1/h**2*p.y**2):v/Math.sqrt(1+p.y**2),A=new bt(Math.sqrt(Math.max(v**2-b**2,0)),b),S=d?v/Math.sqrt(1+p.x**2*(1/f)**2/(1/h+1/h*p.x*p.y)**2):v/Math.sqrt(1+p.x**2/(1+p.x*p.y)**2),x=new bt(S,Math.sqrt(Math.max(v**2-S**2,0)));return[x,x.scalarMultiply(-1),A,A.scalarMultiply(-1)].map(w=>this.applySkew(d?w.multiply(this.strokeUniformScalar):w)).forEach(w=>{r3(w,t,e)&&n.push(this.applySkew(this.A).add(w))}),n}projectRound(){const t=[];t.push(...this.projectBevel());const e=this.alpha%cm==0,n=this.applySkew(this.A),r=t[e?0:2].subtract(n),l=t[e?1:0].subtract(n),h=e?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),f=c0(r,h)>0,d=f?r:l,p=f?l:r;return this.isSkewed()?t.push(...this.projectRoundWithSkew(d,p)):t.push(...this.projectRoundNoSkew(d,p)),t}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t,angle:this.alpha,bisector:this.bisector}))}}class h3 extends LS{constructor(t,e,n){super(n),this.A=new bt(t),this.T=new bt(e)}calcOrthogonalProjection(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const r=this.createSideVector(t,e);return this.scaleUnitVector(MS(r),n)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const t=[];if(!this.isSkewed()&&this.A.eq(this.T)){const e=new bt(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.applySkew(this.A.add(e)),this.applySkew(this.A.subtract(e)))}else t.push(...new Mh(this.A,this.T,this.T,this.options).projectRound());return t}projectSquare(){const t=[];if(this.A.eq(this.T)){const e=new bt(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.A.add(e),this.A.subtract(e))}else{const e=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),n=this.scaleUnitVector(qv(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),r=this.A.add(n);t.push(r.add(e),r.subtract(e))}return t.map(e=>this.applySkew(e))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t}))}}const nT=function(a,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const n=[];if(a.length===0)return n;const r=a.reduce((l,h)=>(l[l.length-1].eq(h)||l.push(new bt(h)),l),[new bt(a[0])]);if(r.length===1)e=!0;else if(!e){const l=r[0],h=((f,d)=>{for(let p=f.length-1;p>=0;p--)if(d(f[p],p,f))return p;return-1})(r,f=>!f.eq(l));r.splice(h+1)}return r.forEach((l,h,f)=>{let d,p;h===0?(p=f[1],d=e?l:f[f.length-1]):h===f.length-1?(d=f[h-1],p=e?l:f[0]):(d=f[h-1],p=f[h+1]),e&&f.length===1?n.push(...new h3(l,l,t).project()):!e||h!==0&&h!==f.length-1?n.push(...new Mh(l,d,p,t).project()):n.push(...new h3(l,h===0?p:d,t).project())}),n},Wv=a=>{const t={};return Object.keys(a).forEach(e=>{t[e]={},Object.keys(a[e]).forEach(n=>{t[e][n]=st({},a[e][n])})}),t},iT=a=>a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Zv=a=>{const t=[];for(let e,n=0;n<a.length;n++)(e=aT(a,n))!==!1&&t.push(e);return t},aT=(a,t)=>{const e=a.charCodeAt(t);if(isNaN(e))return"";if(e<55296||e>57343)return a.charAt(t);if(55296<=e&&e<=56319){if(a.length<=t+1)throw"High surrogate without following low surrogate";const r=a.charCodeAt(t+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return a.charAt(t)+a.charAt(t+1)}if(t===0)throw"Low surrogate without preceding high surrogate";const n=a.charCodeAt(t-1);if(55296>n||n>56319)throw"Low surrogate without preceding high surrogate";return!1},Iv=function(a,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.fill!==t.fill||a.stroke!==t.stroke||a.strokeWidth!==t.strokeWidth||a.fontSize!==t.fontSize||a.fontFamily!==t.fontFamily||a.fontWeight!==t.fontWeight||a.fontStyle!==t.fontStyle||a.textBackgroundColor!==t.textBackgroundColor||a.deltaY!==t.deltaY||e&&(a.overline!==t.overline||a.underline!==t.underline||a.linethrough!==t.linethrough)},rT=(a,t)=>{const e=t.split(`
`),n=[];let r=-1,l={};a=Wv(a);for(let h=0;h<e.length;h++){const f=Zv(e[h]);if(a[h])for(let d=0;d<f.length;d++){r++;const p=a[h][d];p&&Object.keys(p).length>0&&(Iv(l,p,!0)?n.push({start:r,end:r+1,style:p}):n[n.length-1].end++),l=p||{}}else r+=f.length,l={}}return n},sT=(a,t)=>{if(!Array.isArray(a))return Wv(a);const e=t.split(Gv),n={};let r=-1,l=0;for(let h=0;h<e.length;h++){const f=Zv(e[h]);for(let d=0;d<f.length;d++)r++,a[l]&&a[l].start<=r&&r<a[l].end&&(n[h]=n[h]||{},n[h][d]=st({},a[l].style),r===a[l].end-1&&l++)}return n},$l=["display","transform",Vn,"fill-opacity","fill-rule","opacity",da,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function f3(a,t){const e=a.nodeName,n=a.getAttribute("class"),r=a.getAttribute("id"),l="(?![a-zA-Z\\-]+)";let h;if(h=new RegExp("^"+e,"i"),t=t.replace(h,""),r&&t.length&&(h=new RegExp("#"+r+l,"i"),t=t.replace(h,"")),n&&t.length){const f=n.split(" ");for(let d=f.length;d--;)h=new RegExp("\\."+f[d]+l,"i"),t=t.replace(h,"")}return t.length===0}function oT(a,t){let e=!0;const n=f3(a,t.pop());return n&&t.length&&(e=function(r,l){let h,f=!0;for(;r.parentElement&&r.parentElement.nodeType===1&&l.length;)f&&(h=l.pop()),f=f3(r=r.parentElement,h);return l.length===0}(a,t)),n&&e&&t.length===0}const lT=a=>{var t;return(t=S7[a])!==null&&t!==void 0?t:a},cT=new RegExp("(".concat(ou,")"),"gi"),uT=a=>a.replace(cT," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var d3,g3,m3,p3,v3,y3,b3;const Fi="(".concat(ou,")"),hT=String.raw(d3||(d3=Jl(["(skewX)(",")"],["(skewX)\\(","\\)"])),Fi),fT=String.raw(g3||(g3=Jl(["(skewY)(",")"],["(skewY)\\(","\\)"])),Fi),dT=String.raw(m3||(m3=Jl(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Fi,Fi,Fi),gT=String.raw(p3||(p3=Jl(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Fi,Fi),mT=String.raw(v3||(v3=Jl(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Fi,Fi),pT=String.raw(y3||(y3=Jl(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Fi,Fi,Fi,Fi,Fi,Fi),Jv="(?:".concat(pT,"|").concat(mT,"|").concat(dT,"|").concat(gT,"|").concat(hT,"|").concat(fT,")"),vT="(?:".concat(Jv,"*)"),yT=String.raw(b3||(b3=Jl(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),vT),bT=new RegExp(yT),_T=new RegExp(Jv),ST=new RegExp(Jv,"g");function tv(a){const t=[];if(!(a=uT(a).replace(/\s*([()])\s*/gi,"$1"))||a&&!bT.test(a))return[...Vi];for(const e of a.matchAll(ST)){const n=_T.exec(e[0]);if(!n)continue;let r=Vi;const l=n.filter(x=>!!x),[,h,...f]=l,[d,p,v,b,A,S]=f.map(x=>parseFloat(x));switch(h){case"translate":r=w0(d,p);break;case Hv:r=O0({angle:d},{x:p,y:v});break;case Fm:r=Fv(d,p);break;case Hh:r=mS(d);break;case kh:r=pS(d);break;case"matrix":r=[d,p,v,b,A,S]}t.push(r)}return Pv(t)}function AT(a,t,e,n){const r=Array.isArray(t);let l,h=t;if(a!==Vn&&a!==da||t!==fa){if(a==="strokeUniform")return t==="non-scaling-stroke";if(a==="strokeDashArray")h=t===fa?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(a==="transformMatrix")h=e&&e.transformMatrix?vi(e.transformMatrix,tv(t)):tv(t);else if(a==="visible")h=t!==fa&&t!=="hidden",e&&e.visible===!1&&(h=!1);else if(a==="opacity")h=parseFloat(t),e&&e.opacity!==void 0&&(h*=e.opacity);else if(a==="textAnchor")h=t==="start"?Re:t==="end"?Mn:oe;else if(a==="charSpacing")l=wh(t,n)/n*1e3;else if(a==="paintFirst"){const f=t.indexOf(Vn),d=t.indexOf(da);h=Vn,(f>-1&&d>-1&&d<f||f===-1&&d>-1)&&(h=da)}else{if(a==="href"||a==="xlink:href"||a==="font"||a==="id")return t;if(a==="imageSmoothing")return t==="optimizeQuality";l=r?t.map(wh):wh(t,n)}}else h="";return!r&&isNaN(l)?h:l}function xT(a,t){const e=a.match(_7);if(!e)return;const n=e[1],r=e[3],l=e[4],h=e[5],f=e[6];n&&(t.fontStyle=n),r&&(t.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),l&&(t.fontSize=wh(l)),f&&(t.fontFamily=f),h&&(t.lineHeight=h==="normal"?1:h)}function CT(a,t){a.replace(/;\s*$/,"").split(";").forEach(e=>{if(!e)return;const[n,r]=e.split(":");t[n.trim().toLowerCase()]=r.trim()})}function TT(a){const t={},e=a.getAttribute("style");return e&&(typeof e=="string"?CT(e,t):function(n,r){Object.entries(n).forEach(l=>{let[h,f]=l;f!==void 0&&(r[h.toLowerCase()]=f)})}(e,t)),t}const ET={stroke:"strokeOpacity",fill:"fillOpacity"};function Vo(a,t,e){if(!a)return{};let n,r={},l=Uv;a.parentNode&&a3.test(a.parentNode.nodeName)&&(r=Vo(a.parentElement,t,e),r.fontSize&&(n=l=wh(r.fontSize)));const h=st(st(st({},t.reduce((p,v)=>{const b=a.getAttribute(v);return b&&(p[v]=b),p},{})),function(p){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b={};for(const A in v)oT(p,A.split(" "))&&(b=st(st({},b),v[A]));return b}(a,e)),TT(a));h[y2]&&a.setAttribute(y2,h[y2]),h[v2]&&(n=wh(h[v2],l),h[v2]="".concat(n));const f={};for(const p in h){const v=lT(p),b=AT(v,h[p],r,n);f[v]=b}f&&f.font&&xT(f.font,f);const d=st(st({},r),f);return a3.test(a.nodeName)?d:function(p){const v=Mi.getDefaults();return Object.entries(ET).forEach(b=>{let[A,S]=b;if(p[S]===void 0||p[A]==="")return;if(p[A]===void 0){if(!v[A])return;p[A]=v[A]}if(p[A].indexOf("url(")===0)return;const x=new Be(p[A]);p[A]=x.setAlpha(gn(x.getAlpha()*p[S],2)).toRgba()}),p}(d)}const wT=["left","top","width","height","visible"],US=["rx","ry"];class Fr extends Mi{static getDefaults(){return st(st({},super.getDefaults()),Fr.ownDefaults)}constructor(t){super(),Object.assign(this,Fr.ownDefaults),this.setOptions(t),this._initRxRy()}_initRxRy(){const{rx:t,ry:e}=this;t&&!e?this.ry=t:e&&!t&&(this.rx=e)}_render(t){const{width:e,height:n}=this,r=-e/2,l=-n/2,h=this.rx?Math.min(this.rx,e/2):0,f=this.ry?Math.min(this.ry,n/2):0,d=h!==0||f!==0;t.beginPath(),t.moveTo(r+h,l),t.lineTo(r+e-h,l),d&&t.bezierCurveTo(r+e-Ul*h,l,r+e,l+Ul*f,r+e,l+f),t.lineTo(r+e,l+n-f),d&&t.bezierCurveTo(r+e,l+n-Ul*f,r+e-Ul*h,l+n,r+e-h,l+n),t.lineTo(r+h,l+n),d&&t.bezierCurveTo(r+Ul*h,l+n,r,l+n-Ul*f,r,l+n-f),t.lineTo(r,l+f),d&&t.bezierCurveTo(r,l+Ul*f,r+Ul*h,l,r+h,l),t.closePath(),this._renderPaintInOrder(t)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...US,...t])}_toSVG(){const{width:t,height:e,rx:n,ry:r}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-t/2,'" y="').concat(-e/2,'" rx="').concat(n,'" ry="').concat(r,'" width="').concat(t,'" height="').concat(e,`" />
`)]}static async fromElement(t,e,n){const r=Vo(t,this.ATTRIBUTE_NAMES,n),{left:l=0,top:h=0,width:f=0,height:d=0,visible:p=!0}=r,v=$e(r,wT);return new this(st(st(st({},e),v),{},{left:l,top:h,width:f,height:d,visible:!!(p&&f&&d)}))}}at(Fr,"type","Rect"),at(Fr,"cacheProperties",[...Fo,...US]),at(Fr,"ownDefaults",{rx:0,ry:0}),at(Fr,"ATTRIBUTE_NAMES",[...$l,"x","y","rx","ry","width","height"]),zt.setClass(Fr),zt.setSVGClass(Fr);const Do="initialization",vm="added",$v="removed",ym="imperative",GS=(a,t)=>{const{strokeUniform:e,strokeWidth:n,width:r,height:l,group:h}=t,f=h&&h!==a?Xm(h.calcTransformMatrix(),a.calcTransformMatrix()):null,d=f?t.getRelativeCenterPoint().transform(f):t.getRelativeCenterPoint(),p=!t.isStrokeAccountedForInDimensions(),v=e&&p?p7(new bt(n,n),void 0,a.calcTransformMatrix()):kv,b=!e&&p?n:0,A=Yv(r+b,l+b,Pv([f,t.calcOwnMatrix()],!0)).add(v).scalarDivide(2);return[d.subtract(A),d.add(A)]};class Qm{calcLayoutResult(t,e){if(this.shouldPerformLayout(t))return this.calcBoundingBox(e,t)}shouldPerformLayout(t){let{type:e,prevStrategy:n,strategy:r}=t;return e===Do||e===ym||!!n&&r!==n}shouldLayoutClipPath(t){let{type:e,target:{clipPath:n}}=t;return e!==Do&&n&&!n.absolutePositioned}getInitialSize(t,e){return e.size}calcBoundingBox(t,e){const{type:n,target:r}=e;if(n===ym&&e.overrides)return e.overrides;if(t.length===0)return;const{left:l,top:h,width:f,height:d}=No(t.map(b=>GS(r,b)).reduce((b,A)=>b.concat(A),[])),p=new bt(f,d),v=new bt(l,h).add(p.scalarDivide(2));if(n===Do){const b=this.getInitialSize(e,{size:p,center:v});return{center:v,relativeCorrection:new bt(0,0),size:b}}return{center:v.transform(r.calcOwnMatrix()),size:p}}}at(Qm,"type","strategy");class ev extends Qm{shouldPerformLayout(t){return!0}}at(ev,"type","fit-content"),zt.setClass(ev);const OT=["strategy"],MT=["target","strategy","bubbles","prevStrategy"],HS="layoutManager";class b0{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new ev;at(this,"strategy",void 0),this.strategy=t,this._subscriptions=new Map}performLayout(t){const e=st(st({bubbles:!0,strategy:this.strategy},t),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(e);const n=this.getLayoutResult(e);n&&this.commitLayout(e,n),this.onAfterLayout(e,n),this._prevLayoutStrategy=e.strategy}attachHandlers(t,e){const{target:n}=e;return[hm,oS,m0,lS,Pm,cS,um,e7,n7].map(r=>t.on(r,l=>this.performLayout(r===hm?{type:"object_modified",trigger:r,e:l,target:n}:{type:"object_modifying",trigger:r,e:l,target:n})))}subscribe(t,e){this.unsubscribe(t,e);const n=this.attachHandlers(t,e);this._subscriptions.set(t,n)}unsubscribe(t,e){(this._subscriptions.get(t)||[]).forEach(n=>n()),this._subscriptions.delete(t)}unsubscribeTargets(t){t.targets.forEach(e=>this.unsubscribe(e,t))}subscribeTargets(t){t.targets.forEach(e=>this.subscribe(e,t))}onBeforeLayout(t){const{target:e,type:n}=t,{canvas:r}=e;if(n===Do||n===vm?this.subscribeTargets(t):n===$v&&this.unsubscribeTargets(t),e.fire("layout:before",{context:t}),r&&r.fire("object:layout:before",{target:e,context:t}),n===ym&&t.deep){const l=$e(t,OT);e.forEachObject(h=>h.layoutManager&&h.layoutManager.performLayout(st(st({},l),{},{bubbles:!1,target:h})))}}getLayoutResult(t){const{target:e,strategy:n,type:r}=t,l=n.calcLayoutResult(t,e.getObjects());if(!l)return;const h=r===Do?new bt:e.getRelativeCenterPoint(),{center:f,correction:d=new bt,relativeCorrection:p=new bt}=l,v=h.subtract(f).add(d).transform(r===Do?Vi:Xr(e.calcOwnMatrix()),!0).add(p);return{result:l,prevCenter:h,nextCenter:f,offset:v}}commitLayout(t,e){const{target:n}=t,{result:{size:r},nextCenter:l}=e;var h,f;n.set({width:r.x,height:r.y}),this.layoutObjects(t,e),t.type===Do?n.set({left:(h=t.x)!==null&&h!==void 0?h:l.x+r.x*Ln(n.originX),top:(f=t.y)!==null&&f!==void 0?f:l.y+r.y*Ln(n.originY)}):(n.setPositionByOrigin(l,oe,oe),n.setCoords(),n.set("dirty",!0))}layoutObjects(t,e){const{target:n}=t;n.forEachObject(r=>{r.group===n&&this.layoutObject(t,e,r)}),t.strategy.shouldLayoutClipPath(t)&&this.layoutObject(t,e,n.clipPath)}layoutObject(t,e,n){let{offset:r}=e;n.set({left:n.left+r.x,top:n.top+r.y})}onAfterLayout(t,e){const{target:n,strategy:r,bubbles:l,prevStrategy:h}=t,f=$e(t,MT),{canvas:d}=n;n.fire("layout:after",{context:t,result:e}),d&&d.fire("object:layout:after",{context:t,result:e,target:n});const p=n.parent;l&&p!=null&&p.layoutManager&&((f.path||(f.path=[])).push(n),p.layoutManager.performLayout(st(st({},f),{},{target:p}))),n.set("dirty",!0)}dispose(){const{_subscriptions:t}=this;t.forEach(e=>e.forEach(n=>n())),t.clear()}toObject(){return{type:HS,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}zt.setClass(b0,HS);const DT=["type","objects","layoutManager"];class RT extends b0{performLayout(){}}class ru extends uS(Mi){static getDefaults(){return st(st({},super.getDefaults()),ru.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),at(this,"_activeObjects",[]),at(this,"__objectSelectionTracker",void 0),at(this,"__objectSelectionDisposer",void 0),Object.assign(this,ru.ownDefaults),this.setOptions(e),this.groupInit(t,e)}groupInit(t,e){var n;this._objects=[...t],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(r=>{this.enterGroup(r,!1)}),this.layoutManager=(n=e.layoutManager)!==null&&n!==void 0?n:new b0,this.layoutManager.performLayout({type:Do,target:this,targets:[...t],x:e.left,y:e.top})}canEnterGroup(t){return t===this||this.isDescendantOf(t)?(Xl("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(t)===-1||(Xl("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(t){return t.filter((e,n,r)=>this.canEnterGroup(e)&&r.indexOf(e)===n)}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=this._filterObjectsBeforeEnteringGroup(e),l=super.add(...r);return this._onAfterObjectsChange(vm,r),l}insertAt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const l=this._filterObjectsBeforeEnteringGroup(n),h=super.insertAt(t,...l);return this._onAfterObjectsChange(vm,l),h}remove(){const t=super.remove(...arguments);return this._onAfterObjectsChange($v,t),t}_onObjectAdded(t){this.enterGroup(t,!0),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t,e){this.exitGroup(t,e),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onAfterObjectsChange(t,e){this.layoutManager.performLayout({type:t,targets:e,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(t,e){const n=this[t];return super._set(t,e),t==="canvas"&&n!==e&&(this._objects||[]).forEach(r=>{r._set(t,e)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(t,e){let{target:n}=e;const r=this._activeObjects;if(t)r.push(n),this._set("dirty",!0);else if(r.length>0){const l=r.indexOf(n);l>-1&&(r.splice(l,1),this._set("dirty",!0))}}_watchObject(t,e){t&&this._watchObject(!1,e),t?(e.on("selected",this.__objectSelectionTracker),e.on("deselected",this.__objectSelectionDisposer)):(e.off("selected",this.__objectSelectionTracker),e.off("deselected",this.__objectSelectionDisposer))}enterGroup(t,e){t.group&&t.group.remove(t),t._set("parent",this),this._enterGroup(t,e)}_enterGroup(t,e){e&&mm(t,vi(Xr(this.calcTransformMatrix()),t.calcTransformMatrix())),this._shouldSetNestedCoords()&&t.setCoords(),t._set("group",this),t._set("canvas",this.canvas),this._watchObject(!0,t);const n=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();n&&(n===t||t.isDescendantOf(n))&&this._activeObjects.push(t)}exitGroup(t,e){this._exitGroup(t,e),t._set("parent",void 0),t._set("canvas",void 0)}_exitGroup(t,e){t._set("group",void 0),e||(mm(t,vi(this.calcTransformMatrix(),t.calcTransformMatrix())),t.setCoords()),this._watchObject(!1,t);const n=this._activeObjects.length>0?this._activeObjects.indexOf(t):-1;n>-1&&this._activeObjects.splice(n,1)}shouldCache(){const t=Mi.prototype.shouldCache.call(this);if(t){for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1,!1}return t}willDrawShadow(){if(super.willDrawShadow())return!0;for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(t,e,n){this._renderBackground(t);for(let l=0;l<this._objects.length;l++){var r;const h=this._objects[l];(r=this.canvas)!==null&&r!==void 0&&r.preserveObjectStacking&&h.group!==this?(t.save(),t.transform(...Xr(this.calcTransformMatrix())),h.render(t),t.restore()):h.group===this&&h.render(t)}this._drawClipPath(t,this.clipPath,n)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(t=>t.setCoords())}triggerLayout(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(st({target:this,type:ym},t))}render(t){this._transformDone=!0,super.render(t),this._transformDone=!1}__serializeObjects(t,e){const n=this.includeDefaultValues;return this._objects.filter(function(r){return!r.excludeFromExport}).map(function(r){const l=r.includeDefaultValues;r.includeDefaultValues=n;const h=r[t||"toObject"](e);return r.includeDefaultValues=l,h})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=this.layoutManager.toObject();return st(st(st({},super.toObject(["subTargetCheck","interactive",...t])),e.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:e}:{}),{},{objects:this.__serializeObjects("toObject",t)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(t=>{this._watchObject(!1,t),t.dispose()}),super.dispose()}_createSVGBgRect(t){if(!this.backgroundColor)return"";const e=Fr.prototype._toSVG.call(this),n=e.indexOf("COMMON_PARTS");e[n]='for="group" ';const r=e.join("");return t?t(r):r}_toSVG(t){const e=["<g ","COMMON_PARTS",` >
`],n=this._createSVGBgRect(t);n&&e.push("		",n);for(let r=0;r<this._objects.length;r++)e.push("		",this._objects[r].toSVG(t));return e.push(`</g>
`),e}getSvgStyles(){const t=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")}toClipPathSVG(t){const e=[],n=this._createSVGBgRect(t);n&&e.push("	",n);for(let r=0;r<this._objects.length;r++)e.push("	",this._objects[r].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}static fromObject(t,e){let{type:n,objects:r=[],layoutManager:l}=t,h=$e(t,DT);return Promise.all([p0(r,e),Ym(h,e)]).then(f=>{let[d,p]=f;const v=new this(d,st(st(st({},h),p),{},{layoutManager:new RT}));if(l){const b=zt.getClass(l.type),A=zt.getClass(l.strategy);v.layoutManager=new b(new A)}else v.layoutManager=new b0;return v.layoutManager.subscribeTargets({type:Do,target:v,targets:v.getObjects()}),v.setCoords(),v})}}at(ru,"type","Group"),at(ru,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),zt.setClass(ru);const NT=(a,t)=>Math.min(t.width/a.width,t.height/a.height),jT=(a,t)=>Math.max(t.width/a.width,t.height/a.height),nv="\\s*,?\\s*",n0="".concat(nv,"(").concat(ou,")"),zT="".concat(n0).concat(n0).concat(n0).concat(nv,"([01])").concat(nv,"([01])").concat(n0).concat(n0),BT={m:"l",M:"L"},LT=(a,t,e,n,r,l,h,f,d,p,v)=>{const b=Bo(a),A=Lo(a),S=Bo(t),x=Lo(t),w=e*r*S-n*l*x+h,M=n*r*S+e*l*x+f;return["C",p+d*(-e*r*A-n*l*b),v+d*(-n*r*A+e*l*b),w+d*(e*r*x+n*l*S),M+d*(n*r*x-e*l*S),w,M]},_3=(a,t,e,n)=>{const r=Math.atan2(t,a),l=Math.atan2(n,e);return l>=r?l-r:2*Math.PI-(r-l)};function S3(a,t,e,n,r,l,h,f){let d;if(_e.cachesBoundsOfCurve&&(d=[...arguments].join(),l0.boundsOfCurveCache[d]))return l0.boundsOfCurveCache[d];const p=Math.sqrt,v=Math.abs,b=[],A=[[0,0],[0,0]];let S=6*a-12*e+6*r,x=-3*a+9*e-9*r+3*h,w=3*e-3*a;for(let R=0;R<2;++R){if(R>0&&(S=6*t-12*n+6*l,x=-3*t+9*n-9*l+3*f,w=3*n-3*t),v(x)<1e-12){if(v(S)<1e-12)continue;const K=-w/S;0<K&&K<1&&b.push(K);continue}const z=S*S-4*w*x;if(z<0)continue;const H=p(z),V=(-S+H)/(2*x);0<V&&V<1&&b.push(V);const P=(-S-H)/(2*x);0<P&&P<1&&b.push(P)}let M=b.length;const D=M,T=kS(a,t,e,n,r,l,h,f);for(;M--;){const{x:R,y:z}=T(b[M]);A[0][M]=R,A[1][M]=z}A[0][D]=a,A[1][D]=t,A[0][D+1]=h,A[1][D+1]=f;const O=[new bt(Math.min(...A[0]),Math.min(...A[1])),new bt(Math.max(...A[0]),Math.max(...A[1]))];return _e.cachesBoundsOfCurve&&(l0.boundsOfCurveCache[d]=O),O}const UT=(a,t,e)=>{let[n,r,l,h,f,d,p,v]=e;const b=((A,S,x,w,M,D,T)=>{if(x===0||w===0)return[];let O=0,R=0,z=0;const H=Math.PI,V=T*Lv,P=Lo(V),K=Bo(V),B=.5*(-K*A-P*S),Y=.5*(-K*S+P*A),Z=x**2,j=w**2,U=Y**2,G=B**2,k=Z*j-Z*U-j*G;let X=Math.abs(x),I=Math.abs(w);if(k<0){const wt=Math.sqrt(1-k/(Z*j));X*=wt,I*=wt}else z=(M===D?-1:1)*Math.sqrt(k/(Z*U+j*G));const it=z*X*Y/I,q=-z*I*B/X,tt=K*it-P*q+.5*A,mt=P*it+K*q+.5*S;let lt=_3(1,0,(B-it)/X,(Y-q)/I),dt=_3((B-it)/X,(Y-q)/I,(-B-it)/X,(-Y-q)/I);D===0&&dt>0?dt-=2*H:D===1&&dt<0&&(dt+=2*H);const Tt=Math.ceil(Math.abs(dt/H*2)),Ct=[],et=dt/Tt,rt=8/3*Math.sin(et/4)*Math.sin(et/4)/Math.sin(et/2);let _t=lt+et;for(let wt=0;wt<Tt;wt++)Ct[wt]=LT(lt,_t,K,P,X,I,tt,mt,rt,O,R),O=Ct[wt][5],R=Ct[wt][6],lt=_t,_t+=et;return Ct})(p-a,v-t,r,l,f,d,h);for(let A=0,S=b.length;A<S;A++)b[A][1]+=a,b[A][2]+=t,b[A][3]+=a,b[A][4]+=t,b[A][5]+=a,b[A][6]+=t;return b},GT=a=>{let t=0,e=0,n=0,r=0;const l=[];let h,f=0,d=0;for(const p of a){const v=[...p];let b;switch(v[0]){case"l":v[1]+=t,v[2]+=e;case"L":t=v[1],e=v[2],b=["L",t,e];break;case"h":v[1]+=t;case"H":t=v[1],b=["L",t,e];break;case"v":v[1]+=e;case"V":e=v[1],b=["L",t,e];break;case"m":v[1]+=t,v[2]+=e;case"M":t=v[1],e=v[2],n=v[1],r=v[2],b=["M",t,e];break;case"c":v[1]+=t,v[2]+=e,v[3]+=t,v[4]+=e,v[5]+=t,v[6]+=e;case"C":f=v[3],d=v[4],t=v[5],e=v[6],b=["C",v[1],v[2],f,d,t,e];break;case"s":v[1]+=t,v[2]+=e,v[3]+=t,v[4]+=e;case"S":h==="C"?(f=2*t-f,d=2*e-d):(f=t,d=e),t=v[3],e=v[4],b=["C",f,d,v[1],v[2],t,e],f=b[3],d=b[4];break;case"q":v[1]+=t,v[2]+=e,v[3]+=t,v[4]+=e;case"Q":f=v[1],d=v[2],t=v[3],e=v[4],b=["Q",f,d,t,e];break;case"t":v[1]+=t,v[2]+=e;case"T":h==="Q"?(f=2*t-f,d=2*e-d):(f=t,d=e),t=v[1],e=v[2],b=["Q",f,d,t,e];break;case"a":v[6]+=t,v[7]+=e;case"A":UT(t,e,v).forEach(A=>l.push(A)),t=v[6],e=v[7];break;case"z":case"Z":t=n,e=r,b=["Z"]}b?(l.push(b),h=b[0]):h=""}return l},bm=(a,t,e,n)=>Math.sqrt((e-a)**2+(n-t)**2),kS=(a,t,e,n,r,l,h,f)=>d=>{const p=d**3,v=(S=>3*S**2*(1-S))(d),b=(S=>3*S*(1-S)**2)(d),A=(S=>(1-S)**3)(d);return new bt(h*p+r*v+e*b+a*A,f*p+l*v+n*b+t*A)},PS=a=>a**2,FS=a=>2*a*(1-a),VS=a=>(1-a)**2,HT=(a,t,e,n,r,l,h,f)=>d=>{const p=PS(d),v=FS(d),b=VS(d),A=3*(b*(e-a)+v*(r-e)+p*(h-r)),S=3*(b*(n-t)+v*(l-n)+p*(f-l));return Math.atan2(S,A)},kT=(a,t,e,n,r,l)=>h=>{const f=PS(h),d=FS(h),p=VS(h);return new bt(r*f+e*d+a*p,l*f+n*d+t*p)},PT=(a,t,e,n,r,l)=>h=>{const f=1-h,d=2*(f*(e-a)+h*(r-e)),p=2*(f*(n-t)+h*(l-n));return Math.atan2(p,d)},A3=(a,t,e)=>{let n=new bt(t,e),r=0;for(let l=1;l<=100;l+=1){const h=a(l/100);r+=bm(n.x,n.y,h.x,h.y),n=h}return r},FT=(a,t)=>{let e,n=0,r=0,l={x:a.x,y:a.y},h=st({},l),f=.01,d=0;const p=a.iterator,v=a.angleFinder;for(;r<t&&f>1e-4;)h=p(n),d=n,e=bm(l.x,l.y,h.x,h.y),e+r>t?(n-=f,f/=2):(l=h,n+=f,r+=e);return st(st({},h),{},{angle:v(d)})},YS=a=>{let t,e,n=0,r=0,l=0,h=0,f=0;const d=[];for(const p of a){const v={x:r,y:l,command:p[0],length:0};switch(p[0]){case"M":e=v,e.x=h=r=p[1],e.y=f=l=p[2];break;case"L":e=v,e.length=bm(r,l,p[1],p[2]),r=p[1],l=p[2];break;case"C":t=kS(r,l,p[1],p[2],p[3],p[4],p[5],p[6]),e=v,e.iterator=t,e.angleFinder=HT(r,l,p[1],p[2],p[3],p[4],p[5],p[6]),e.length=A3(t,r,l),r=p[5],l=p[6];break;case"Q":t=kT(r,l,p[1],p[2],p[3],p[4]),e=v,e.iterator=t,e.angleFinder=PT(r,l,p[1],p[2],p[3],p[4]),e.length=A3(t,r,l),r=p[3],l=p[4];break;case"Z":e=v,e.destX=h,e.destY=f,e.length=bm(r,l,h,f),r=h,l=f}n+=e.length,d.push(e)}return d.push({length:n,x:r,y:l}),d},VT=function(a,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YS(a),n=0;for(;t-e[n].length>0&&n<e.length-2;)t-=e[n].length,n++;const r=e[n],l=t/r.length,h=a[n];switch(r.command){case"M":return{x:r.x,y:r.y,angle:0};case"Z":return st(st({},new bt(r.x,r.y).lerp(new bt(r.destX,r.destY),l)),{},{angle:Math.atan2(r.destY-r.y,r.destX-r.x)});case"L":return st(st({},new bt(r.x,r.y).lerp(new bt(h[1],h[2]),l)),{},{angle:Math.atan2(h[2]-r.y,h[1]-r.x)});case"C":case"Q":return FT(r,t)}},YT=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),x3=new RegExp(zT,"g"),XT=new RegExp(ou,"gi"),qT={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},KT=a=>{var t;const e=[],n=(t=a.match(YT))!==null&&t!==void 0?t:[];for(const r of n){const l=r[0];if(l==="z"||l==="Z"){e.push([l]);continue}const h=qT[l.toLowerCase()];let f=[];if(l==="a"||l==="A"){x3.lastIndex=0;for(let d=null;d=x3.exec(r);)f.push(...d.slice(1))}else f=r.match(XT)||[];for(let d=0;d<f.length;d+=h){const p=new Array(h),v=BT[l];p[0]=d>0&&v?v:l;for(let b=0;b<h;b++)p[b+1]=parseFloat(f[d+b]);e.push(p)}}return e},QT=(a,t)=>a.map(e=>e.map((n,r)=>r===0||t===void 0?n:gn(n,t)).join(" ")).join(" ");function iv(a,t){const e=a.style;e&&t&&(typeof t=="string"?e.cssText+=";"+t:Object.entries(t).forEach(n=>{let[r,l]=n;return e.setProperty(r,l)}))}class WT extends _S{constructor(t){let{allowTouchScrolling:e=!1,containerClass:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(t),at(this,"upper",void 0),at(this,"container",void 0);const{el:r}=this.lower,l=this.createUpperCanvas();this.upper={el:l,ctx:l.getContext("2d")},this.applyCanvasStyle(r,{allowTouchScrolling:e}),this.applyCanvasStyle(l,{allowTouchScrolling:e,styles:{position:"absolute",left:"0",top:"0"}});const h=this.createContainerElement();h.classList.add(n),r.parentNode&&r.parentNode.replaceChild(h,r),h.append(r,l),this.container=h}createUpperCanvas(){const{el:t}=this.lower,e=Kr();return e.className=t.className,e.classList.remove("lower-canvas"),e.classList.add("upper-canvas"),e.setAttribute("data-fabric","top"),e.style.cssText=t.style.cssText,e.setAttribute("draggable","true"),e}createContainerElement(){const t=Gh().createElement("div");return t.setAttribute("data-fabric","wrapper"),iv(t,{position:"relative"}),e3(t),t}applyCanvasStyle(t,e){const{styles:n,allowTouchScrolling:r}=e;iv(t,st(st({},n),{},{"touch-action":r?"manipulation":fa})),e3(t)}setDimensions(t,e){super.setDimensions(t,e);const{el:n,ctx:r}=this.upper;bS(n,r,t,e)}setCSSDimensions(t){super.setCSSDimensions(t),Q2(this.upper.el,t),Q2(this.container,t)}cleanupDOM(t){const e=this.container,{el:n}=this.lower,{el:r}=this.upper;super.cleanupDOM(t),e.removeChild(r),e.removeChild(n),e.parentNode&&e.parentNode.replaceChild(n,e)}dispose(){super.dispose(),Ps().dispose(this.upper.el),delete this.upper,delete this.container}}class Wm extends M0{constructor(){super(...arguments),at(this,"targets",[]),at(this,"_hoveredTargets",[]),at(this,"_objectsToRender",void 0),at(this,"_currentTransform",null),at(this,"_groupSelector",null),at(this,"contextTopDirty",!1)}static getDefaults(){return st(st({},super.getDefaults()),Wm.ownDefaults)}get upperCanvasEl(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.el}get contextTop(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.ctx}get wrapperEl(){return this.elements.container}initElements(t){this.elements=new WT(t,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(t){this._objectsToRender=void 0,super._onObjectAdded(t)}_onObjectRemoved(t){this._objectsToRender=void 0,t===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[t]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[t]}),t.fire("deselected",{target:t})),t===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(t)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const t=this._activeObject;return!this.preserveObjectStacking&&t?this._objects.filter(e=>!e.group&&e!==t).concat(t):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()}renderTop(){const t=this.contextTop;this.clearContext(t),this.renderTopLayer(t),this.fire("after:render",{ctx:t})}setTargetFindTolerance(t){t=Math.round(t),this.targetFindTolerance=t;const e=this.getRetinaScaling(),n=Math.ceil((2*t+1)*e);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=n,this.pixelFindContext.scale(e,e)}isTargetTransparent(t,e,n){const r=this.targetFindTolerance,l=this.pixelFindContext;this.clearContext(l),l.save(),l.translate(-e+r,-n+r),l.transform(...this.viewportTransform);const h=t.selectionBackgroundColor;t.selectionBackgroundColor="",t.render(l),t.selectionBackgroundColor=h,l.restore();const f=Math.round(r*this.getRetinaScaling());return tT(l,f,f,f)}_isSelectionKeyPressed(t){const e=this.selectionKey;return!!e&&(Array.isArray(e)?!!e.find(n=>!!n&&t[n]===!0):t[e])}_shouldClearSelection(t,e){const n=this.getActiveObjects(),r=this._activeObject;return!!(!e||e&&r&&n.length>1&&n.indexOf(e)===-1&&r!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&r&&r!==e)}_shouldCenterTransform(t,e,n){if(!t)return;let r;return e===Fm||e===ga||e===ar||e===m0?r=this.centeredScaling||t.centeredScaling:e===Hv&&(r=this.centeredRotation||t.centeredRotation),r?!n:n}_getOriginFromCorner(t,e){const n={x:t.originX,y:t.originY};return e&&(["ml","tl","bl"].includes(e)?n.x=Mn:["mr","tr","br"].includes(e)&&(n.x=Re),["tl","mt","tr"].includes(e)?n.y=K2:["bl","mb","br"].includes(e)&&(n.y=ha)),n}_setupCurrentTransform(t,e,n){var r;const l=e.group?Oh(this.getScenePoint(t),void 0,e.group.calcTransformMatrix()):this.getScenePoint(t),{key:h="",control:f}=e.getActiveControl()||{},d=n&&f?(r=f.getActionHandler(t,e,f))===null||r===void 0?void 0:r.bind(f):b7,p=((S,x,w,M)=>{if(!x||!S)return"drag";const D=M.controls[x];return D.getActionName(w,D,M)})(n,h,t,e),v=t[this.centeredKey],b=this._shouldCenterTransform(e,p,v)?{x:oe,y:oe}:this._getOriginFromCorner(e,h),A={target:e,action:p,actionHandler:d,actionPerformed:!1,corner:h,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:l.x-e.left,offsetY:l.y-e.top,originX:b.x,originY:b.y,ex:l.x,ey:l.y,lastX:l.x,lastY:l.y,theta:Dn(e.angle),width:e.width,height:e.height,shiftKey:t.shiftKey,altKey:v,original:st(st({},SS(e)),{},{originX:b.x,originY:b.y})};this._currentTransform=A,this.fire("before:transform",{e:t,transform:A})}setCursor(t){this.upperCanvasEl.style.cursor=t}_drawSelection(t){const{x:e,y:n,deltaX:r,deltaY:l}=this._groupSelector,h=new bt(e,n).transform(this.viewportTransform),f=new bt(e+r,n+l).transform(this.viewportTransform),d=this.selectionLineWidth/2;let p=Math.min(h.x,f.x),v=Math.min(h.y,f.y),b=Math.max(h.x,f.x),A=Math.max(h.y,f.y);this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(p,v,b-p,A-v)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,p+=d,v+=d,b-=d,A-=d,Mi.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(p,v,b-p,A-v))}findTarget(t){if(this.skipTargetFind)return;const e=this.getViewportPoint(t),n=this._activeObject,r=this.getActiveObjects();if(this.targets=[],n&&r.length>=1){if(n.findControl(e,W2(t))||r.length>1&&this.searchPossibleTargets([n],e))return n;if(n===this.searchPossibleTargets([n],e)){if(this.preserveObjectStacking){const l=this.targets;this.targets=[];const h=this.searchPossibleTargets(this._objects,e);return t[this.altSelectionKey]&&h&&h!==n?(this.targets=l,n):h}return n}}return this.searchPossibleTargets(this._objects,e)}_pointIsInObjectSelectionArea(t,e){let n=t.getCoords();const r=this.getZoom(),l=t.padding/r;if(l){const[h,f,d,p]=n,v=Math.atan2(f.y-h.y,f.x-h.x),b=Bo(v)*l,A=Lo(v)*l,S=b+A,x=b-A;n=[new bt(h.x-x,h.y-S),new bt(f.x+S,f.y-x),new bt(d.x+x,d.y+S),new bt(p.x-S,p.y+x)]}return fn.isPointInPolygon(e,n)}_checkTarget(t,e){return!!(t&&t.visible&&t.evented&&this._pointIsInObjectSelectionArea(t,Oh(e,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing||!this.isTargetTransparent(t,e.x,e.y)))}_searchPossibleTargets(t,e){let n=t.length;for(;n--;){const r=t[n];if(this._checkTarget(r,e)){if($1(r)&&r.subTargetCheck){const l=this._searchPossibleTargets(r._objects,e);l&&this.targets.push(l)}return r}}}searchPossibleTargets(t,e){const n=this._searchPossibleTargets(t,e);if(n&&$1(n)&&n.interactive&&this.targets[0]){const r=this.targets;for(let l=r.length-1;l>0;l--){const h=r[l];if(!$1(h)||!h.interactive)return h}return r[0]}return n}getViewportPoint(t){return this._pointer?this._pointer:this.getPointer(t,!0)}getScenePoint(t){return this._absolutePointer?this._absolutePointer:this.getPointer(t)}getPointer(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const n=this.upperCanvasEl,r=n.getBoundingClientRect();let l=f7(t),h=r.width||0,f=r.height||0;h&&f||(ha in r&&K2 in r&&(f=Math.abs(r.top-r.bottom)),Mn in r&&Re in r&&(h=Math.abs(r.right-r.left))),this.calcOffset(),l.x=l.x-this._offset.left,l.y=l.y-this._offset.top,e||(l=Oh(l,void 0,this.viewportTransform));const d=this.getRetinaScaling();d!==1&&(l.x/=d,l.y/=d);const p=h===0||f===0?new bt(1,1):new bt(n.width/h,n.height/f);return l.multiply(p)}_setDimensionsImpl(t,e){this._resetTransformEventData(),super._setDimensionsImpl(t,e),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Kr(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const t=this._activeObject;return $c(t)?t.getObjects():t?[t]:[]}_fireSelectionEvents(t,e){let n=!1,r=!1;const l=this.getActiveObjects(),h=[],f=[];t.forEach(d=>{l.includes(d)||(n=!0,d.fire("deselected",{e,target:d}),f.push(d))}),l.forEach(d=>{t.includes(d)||(n=!0,d.fire("selected",{e,target:d}),h.push(d))}),t.length>0&&l.length>0?(r=!0,n&&this.fire("selection:updated",{e,selected:h,deselected:f})):l.length>0?(r=!0,this.fire("selection:created",{e,selected:h})):t.length>0&&(r=!0,this.fire("selection:cleared",{e,deselected:f})),r&&(this._objectsToRender=void 0)}setActiveObject(t,e){const n=this.getActiveObjects(),r=this._setActiveObject(t,e);return this._fireSelectionEvents(n,e),r}_setActiveObject(t,e){const n=this._activeObject;return n!==t&&!(!this._discardActiveObject(e,t)&&this._activeObject)&&!t.onSelect({e})&&(this._activeObject=t,$c(t)&&n!==t&&t.set("canvas",this),t.setCoords(),!0)}_discardActiveObject(t,e){const n=this._activeObject;return!!n&&!n.onDeselect({e:t,object:e})&&(this._currentTransform&&this._currentTransform.target===n&&this.endCurrentTransform(t),$c(n)&&n===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(t){const e=this.getActiveObjects(),n=this.getActiveObject();e.length&&this.fire("before:selection:cleared",{e:t,deselected:[n]});const r=this._discardActiveObject(t);return this._fireSelectionEvents(e,t),r}endCurrentTransform(t){const e=this._currentTransform;this._finalizeCurrentTransform(t),e&&e.target&&(e.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(t){const e=this._currentTransform,n=e.target,r={e:t,target:n,transform:e,action:e.action};n._scaling&&(n._scaling=!1),n.setCoords(),e.actionPerformed&&(this.fire("object:modified",r),n.fire(hm,r))}setViewportTransform(t){super.setViewportTransform(t);const e=this._activeObject;e&&e.setCoords()}destroy(){const t=this._activeObject;$c(t)&&(t.removeAll(),t.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(t){const e=this._activeObject;e&&e._renderControls(t)}_toObject(t,e,n){const r=this._realizeGroupTransformOnObject(t),l=super._toObject(t,e,n);return t.set(r),l}_realizeGroupTransformOnObject(t){const{group:e}=t;if(e&&$c(e)&&this._activeObject===e){const n=Ph(t,["angle","flipX","flipY",Re,ga,ar,Hh,kh,ha]);return g7(t,e.calcOwnMatrix()),n}return{}}_setSVGObject(t,e,n){const r=this._realizeGroupTransformOnObject(e);super._setSVGObject(t,e,n),e.set(r)}}at(Wm,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class ZT{constructor(t){at(this,"targets",[]),at(this,"__disposer",void 0);const e=()=>{const{hiddenTextarea:r}=t.getActiveObject()||{};r&&r.focus()},n=t.upperCanvasEl;n.addEventListener("click",e),this.__disposer=()=>n.removeEventListener("click",e)}exitTextEditing(){this.target=void 0,this.targets.forEach(t=>{t.isEditing&&t.exitEditing()})}add(t){this.targets.push(t)}remove(t){this.unregister(t),xh(this.targets,t)}register(t){this.target=t}unregister(t){t===this.target&&(this.target=void 0)}onMouseMove(t){var e;!((e=this.target)===null||e===void 0)&&e.isEditing&&this.target.updateSelectionOnMouseMove(t)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const IT=["target","oldTarget","fireCanvas","e"],Ma={passive:!1},vh=(a,t)=>{const e=a.getViewportPoint(t),n=a.getScenePoint(t);return{viewportPoint:e,scenePoint:n,pointer:e,absolutePointer:n}},Gl=function(a){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];return a.addEventListener(...e)},nr=function(a){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];return a.removeEventListener(...e)},JT={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class av extends Wm{constructor(t){super(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),at(this,"_isClick",void 0),at(this,"textEditingManager",new ZT(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(e=>{this[e]=this[e].bind(this)}),this.addOrRemove(Gl,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(t,e){const n=this.upperCanvasEl,r=this._getEventPrefix();t(yS(n),"resize",this._onResize),t(n,r+"down",this._onMouseDown),t(n,"".concat(r,"move"),this._onMouseMove,Ma),t(n,"".concat(r,"out"),this._onMouseOut),t(n,"".concat(r,"enter"),this._onMouseEnter),t(n,"wheel",this._onMouseWheel),t(n,"contextmenu",this._onContextMenu),t(n,"dblclick",this._onDoubleClick),t(n,"dragstart",this._onDragStart),t(n,"dragend",this._onDragEnd),t(n,"dragover",this._onDragOver),t(n,"dragenter",this._onDragEnter),t(n,"dragleave",this._onDragLeave),t(n,"drop",this._onDrop),this.enablePointerEvents||t(n,"touchstart",this._onTouchStart,Ma)}removeListeners(){this.addOrRemove(nr,"remove");const t=this._getEventPrefix(),e=Vr(this.upperCanvasEl);nr(e,"".concat(t,"up"),this._onMouseUp),nr(e,"touchend",this._onTouchEnd,Ma),nr(e,"".concat(t,"move"),this._onMouseMove,Ma),nr(e,"touchmove",this._onMouseMove,Ma),clearTimeout(this._willAddMouseDown)}_onMouseWheel(t){this.__onMouseWheel(t)}_onMouseOut(t){const e=this._hoveredTarget,n=st({e:t},vh(this,t));this.fire("mouse:out",st(st({},n),{},{target:e})),this._hoveredTarget=void 0,e&&e.fire("mouseout",st({},n)),this._hoveredTargets.forEach(r=>{this.fire("mouse:out",st(st({},n),{},{target:r})),r&&r.fire("mouseout",st({},n))}),this._hoveredTargets=[]}_onMouseEnter(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",st({e:t},vh(this,t))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(t){this._isClick=!1;const e=this.getActiveObject();if(e&&e.onDragStart(t)){this._dragSource=e;const n={e:t,target:e};return this.fire("dragstart",n),e.fire("dragstart",n),void Gl(this.upperCanvasEl,"drag",this._onDragProgress)}Z2(t)}_renderDragEffects(t,e,n){let r=!1;const l=this._dropTarget;l&&l!==e&&l!==n&&(l.clearContextTop(),r=!0),e==null||e.clearContextTop(),n!==e&&(n==null||n.clearContextTop());const h=this.contextTop;h.save(),h.transform(...this.viewportTransform),e&&(h.save(),e.transform(h),e.renderDragSourceEffect(t),h.restore(),r=!0),n&&(h.save(),n.transform(h),n.renderDropTargetEffect(t),h.restore(),r=!0),h.restore(),r&&(this.contextTopDirty=!0)}_onDragEnd(t){const e=!!t.dataTransfer&&t.dataTransfer.dropEffect!==fa,n=e?this._activeObject:void 0,r={e:t,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:e,dropTarget:n};nr(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",r),this._dragSource&&this._dragSource.fire("dragend",r),delete this._dragSource,this._onMouseUp(t)}_onDragProgress(t){const e={e:t,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",e),this._dragSource&&this._dragSource.fire("drag",e)}findDragTargets(t){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(t)),targets:[...this.targets]}}_onDragOver(t){const e="dragover",{target:n,targets:r}=this.findDragTargets(t),l=this._dragSource,h={e:t,target:n,subTargets:r,dragSource:l,canDrop:!1,dropTarget:void 0};let f;this.fire(e,h),this._fireEnterLeaveEvents(n,h),n&&(n.canDrop(t)&&(f=n),n.fire(e,h));for(let d=0;d<r.length;d++){const p=r[d];p.canDrop(t)&&(f=p),p.fire(e,h)}this._renderDragEffects(t,l,f),this._dropTarget=f}_onDragEnter(t){const{target:e,targets:n}=this.findDragTargets(t),r={e:t,target:e,subTargets:n,dragSource:this._dragSource};this.fire("dragenter",r),this._fireEnterLeaveEvents(e,r)}_onDragLeave(t){const e={e:t,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",e),this._fireEnterLeaveEvents(void 0,e),this._renderDragEffects(t,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(t){const{target:e,targets:n}=this.findDragTargets(t),r=this._basicEventHandler("drop:before",st({e:t,target:e,subTargets:n,dragSource:this._dragSource},vh(this,t)));r.didDrop=!1,r.dropTarget=void 0,this._basicEventHandler("drop",r),this.fire("drop:after",r)}_onContextMenu(t){const e=this.findTarget(t),n=this.targets||[],r=this._basicEventHandler("contextmenu:before",{e:t,target:e,subTargets:n});return this.stopContextMenu&&Z2(t),this._basicEventHandler("contextmenu",r),!1}_onDoubleClick(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData()}getPointerId(t){const e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1}_isMainEvent(t){return t.isPrimary===!0||t.isPrimary!==!1&&(t.type==="touchend"&&t.touches.length===0||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(t){let e=!this.allowTouchScrolling;const n=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),(this.isDrawingMode||n&&this._target===n)&&(e=!0),e&&t.preventDefault(),this._resetTransformEventData();const r=this.upperCanvasEl,l=this._getEventPrefix(),h=Vr(r);Gl(h,"touchend",this._onTouchEnd,Ma),e&&Gl(h,"touchmove",this._onMouseMove,Ma),nr(r,"".concat(l,"down"),this._onMouseDown)}_onMouseDown(t){this.__onMouseDown(t),this._resetTransformEventData();const e=this.upperCanvasEl,n=this._getEventPrefix();nr(e,"".concat(n,"move"),this._onMouseMove,Ma);const r=Vr(e);Gl(r,"".concat(n,"up"),this._onMouseUp),Gl(r,"".concat(n,"move"),this._onMouseMove,Ma)}_onTouchEnd(t){if(t.touches.length>0)return;this.__onMouseUp(t),this._resetTransformEventData(),delete this.mainTouchId;const e=this._getEventPrefix(),n=Vr(this.upperCanvasEl);nr(n,"touchend",this._onTouchEnd,Ma),nr(n,"touchmove",this._onMouseMove,Ma),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{Gl(this.upperCanvasEl,"".concat(e,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(t){this.__onMouseUp(t),this._resetTransformEventData();const e=this.upperCanvasEl,n=this._getEventPrefix();if(this._isMainEvent(t)){const r=Vr(this.upperCanvasEl);nr(r,"".concat(n,"up"),this._onMouseUp),nr(r,"".concat(n,"move"),this._onMouseMove,Ma),Gl(e,"".concat(n,"move"),this._onMouseMove,Ma)}}_onMouseMove(t){const e=this.getActiveObject();!this.allowTouchScrolling&&(!e||!e.shouldStartDragging(t))&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(t){const e=this.getActiveObject();return!!e!=!!t||e&&t&&e!==t}__onMouseUp(t){var e;this._cacheTransformEventData(t),this._handleEvent(t,"up:before");const n=this._currentTransform,r=this._isClick,l=this._target,{button:h}=t;if(h)return(this.fireMiddleClick&&h===1||this.fireRightClick&&h===2)&&this._handleEvent(t,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);if(!this._isMainEvent(t))return;let f,d,p=!1;if(n&&(this._finalizeCurrentTransform(t),p=n.actionPerformed),!r){const v=l===this._activeObject;this.handleSelection(t),p||(p=this._shouldRender(l)||!v&&l===this._activeObject)}if(l){const v=l.findControl(this.getViewportPoint(t),W2(t)),{key:b,control:A}=v||{};if(d=b,l.selectable&&l!==this._activeObject&&l.activeOn==="up")this.setActiveObject(l,t),p=!0;else if(A){const S=A.getMouseUpHandler(t,l,A);S&&(f=this.getScenePoint(t),S.call(A,t,n,f.x,f.y))}l.isMoving=!1}if(n&&(n.target!==l||n.corner!==d)){const v=n.target&&n.target.controls[n.corner],b=v&&v.getMouseUpHandler(t,n.target,v);f=f||this.getScenePoint(t),b&&b.call(v,t,n,f.x,f.y)}this._setCursorFromEvent(t,l),this._handleEvent(t,"up"),this._groupSelector=null,this._currentTransform=null,l&&(l.__corner=void 0),p?this.requestRenderAll():r||(e=this._activeObject)!==null&&e!==void 0&&e.isEditing||this.renderTop()}_basicEventHandler(t,e){const{target:n,subTargets:r=[]}=e;this.fire(t,e),n&&n.fire(t,e);for(let l=0;l<r.length;l++)r[l]!==n&&r[l].fire(t,e);return e}_handleEvent(t,e){const n=this._target,r=this.targets||[],l=st(st({e:t,target:n,subTargets:r},vh(this,t)),{},{transform:this._currentTransform},e==="up:before"||e==="up"?{isClick:this._isClick,currentTarget:this.findTarget(t),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(e),l),n&&n.fire("mouse".concat(e),l);for(let h=0;h<r.length;h++)r[h]!==n&&r[h].fire("mouse".concat(e),l)}_onMouseDownInDrawingMode(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(t),this.requestRenderAll());const e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")}_onMouseMoveInDrawingMode(t){if(this._isCurrentlyDrawing){const e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")}_onMouseUpInDrawingMode(t){const e=this.getScenePoint(t);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:t,pointer:e}):this._isCurrentlyDrawing=!1,this._handleEvent(t,"up")}__onMouseDown(t){this._isClick=!0,this._cacheTransformEventData(t),this._handleEvent(t,"down:before");let e=this._target;const{button:n}=t;if(n)return(this.fireMiddleClick&&n===1||this.fireRightClick&&n===2)&&this._handleEvent(t,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._isMainEvent(t)||this._currentTransform)return;let r=this._shouldRender(e),l=!1;if(this.handleMultiSelection(t,e)?(e=this._activeObject,l=!0,r=!0):this._shouldClearSelection(t,e)&&this.discardActiveObject(t),this.selection&&(!e||!e.selectable&&!e.isEditing&&e!==this._activeObject)){const h=this.getScenePoint(t);this._groupSelector={x:h.x,y:h.y,deltaY:0,deltaX:0}}if(e){const h=e===this._activeObject;e.selectable&&e.activeOn==="down"&&this.setActiveObject(e,t);const f=e.findControl(this.getViewportPoint(t),W2(t));if(e===this._activeObject&&(f||!l)){this._setupCurrentTransform(t,e,h);const d=f?f.control:void 0,p=this.getScenePoint(t),v=d&&d.getMouseDownHandler(t,e,d);v&&v.call(d,t,this._currentTransform,p.x,p.y)}}r&&(this._objectsToRender=void 0),this._handleEvent(t,"down"),r&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(t){this._resetTransformEventData(),this._pointer=this.getViewportPoint(t),this._absolutePointer=Oh(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)}__onMouseMove(t){if(this._isClick=!1,this._cacheTransformEventData(t),this._handleEvent(t,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!this._isMainEvent(t))return;const e=this._groupSelector;if(e){const n=this.getScenePoint(t);e.deltaX=n.x-e.x,e.deltaY=n.y-e.y,this.renderTop()}else if(this._currentTransform)this._transformObject(t);else{const n=this.findTarget(t);this._setCursorFromEvent(t,n),this._fireOverOutEvents(t,n)}this.textEditingManager.onMouseMove(t),this._handleEvent(t,"move"),this._resetTransformEventData()}_fireOverOutEvents(t,e){const n=this._hoveredTarget,r=this._hoveredTargets,l=this.targets,h=Math.max(r.length,l.length);this.fireSyntheticInOutEvents("mouse",{e:t,target:e,oldTarget:n,fireCanvas:!0});for(let f=0;f<h;f++)this.fireSyntheticInOutEvents("mouse",{e:t,target:l[f],oldTarget:r[f]});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(t,e){const n=this._draggedoverTarget,r=this._hoveredTargets,l=this.targets,h=Math.max(r.length,l.length);this.fireSyntheticInOutEvents("drag",st(st({},e),{},{target:t,oldTarget:n,fireCanvas:!0}));for(let f=0;f<h;f++)this.fireSyntheticInOutEvents("drag",st(st({},e),{},{target:l[f],oldTarget:r[f]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(t,e){let{target:n,oldTarget:r,fireCanvas:l,e:h}=e,f=$e(e,IT);const{targetIn:d,targetOut:p,canvasIn:v,canvasOut:b}=JT[t],A=r!==n;if(r&&A){const S=st(st({},f),{},{e:h,target:r,nextTarget:n},vh(this,h));l&&this.fire(b,S),r.fire(p,S)}if(n&&A){const S=st(st({},f),{},{e:h,target:n,previousTarget:r},vh(this,h));l&&this.fire(v,S),n.fire(d,S)}}__onMouseWheel(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()}_transformObject(t){const e=this.getScenePoint(t),n=this._currentTransform,r=n.target,l=r.group?Oh(e,void 0,r.group.calcTransformMatrix()):e;n.shiftKey=t.shiftKey,n.altKey=!!this.centeredKey&&t[this.centeredKey],this._performTransformAction(t,n,l),n.actionPerformed&&this.requestRenderAll()}_performTransformAction(t,e,n){const{action:r,actionHandler:l,target:h}=e,f=!!l&&l(t,e,n.x,n.y);f&&h.setCoords(),r==="drag"&&f&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||f}_setCursorFromEvent(t,e){if(!e)return void this.setCursor(this.defaultCursor);let n=e.hoverCursor||this.hoverCursor;const r=$c(this._activeObject)?this._activeObject:null,l=(!r||e.group!==r)&&e.findControl(this.getViewportPoint(t));if(l){const h=l.control;this.setCursor(h.cursorStyleHandler(t,h,e))}else e.subTargetCheck&&this.targets.concat().reverse().map(h=>{n=h.hoverCursor||n}),this.setCursor(n)}handleMultiSelection(t,e){const n=this._activeObject,r=$c(n);if(n&&this._isSelectionKeyPressed(t)&&this.selection&&e&&e.selectable&&(n!==e||r)&&(r||!e.isDescendantOf(n)&&!n.isDescendantOf(e))&&!e.onSelect({e:t})&&!n.getActiveControl()){if(r){const l=n.getObjects();if(e===n){const h=this.getViewportPoint(t);if(!(e=this.searchPossibleTargets(l,h)||this.searchPossibleTargets(this._objects,h))||!e.selectable)return!1}e.group===n?(n.remove(e),this._hoveredTarget=e,this._hoveredTargets=[...this.targets],n.size()===1&&this._setActiveObject(n.item(0),t)):(n.multiSelectAdd(e),this._hoveredTarget=n,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(l,t)}else{n.isEditing&&n.exitEditing();const l=new(zt.getClass("ActiveSelection"))([],{canvas:this});l.multiSelectAdd(n,e),this._hoveredTarget=l,this._setActiveObject(l,t),this._fireSelectionEvents([n],t)}return!0}return!1}handleSelection(t){if(!this.selection||!this._groupSelector)return!1;const{x:e,y:n,deltaX:r,deltaY:l}=this._groupSelector,h=new bt(e,n),f=h.add(new bt(r,l)),d=h.min(f),p=h.max(f).subtract(d),v=this.collectObjects({left:d.x,top:d.y,width:p.x,height:p.y},{includeIntersecting:!this.selectionFullyContained}),b=h.eq(f)?v[0]?[v[0]]:[]:v.length>1?v.filter(A=>!A.onSelect({e:t})).reverse():v;if(b.length===1)this.setActiveObject(b[0],t);else if(b.length>1){const A=zt.getClass("ActiveSelection");this.setActiveObject(new A(b,{canvas:this}),t)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const XS={x1:0,y1:0,x2:0,y2:0},$T=st(st({},XS),{},{r1:0,r2:0}),Th=(a,t)=>isNaN(a)&&typeof t=="number"?t:a,tE=/^(\d+\.\d+)%|(\d+)%$/;function qS(a){return a&&tE.test(a)}function KS(a,t){const e=typeof a=="number"?a:typeof a=="string"?parseFloat(a)/(qS(a)?100:1):NaN;return jh(0,Th(e,t),1)}const eE=/\s*;\s*/,nE=/\s*:\s*/;function iE(a,t){let e,n;const r=a.getAttribute("style");if(r){const h=r.split(eE);h[h.length-1]===""&&h.pop();for(let f=h.length;f--;){const[d,p]=h[f].split(nE).map(v=>v.trim());d==="stop-color"?e=p:d==="stop-opacity"&&(n=p)}}const l=new Be(e||a.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:KS(a.getAttribute("offset"),0),color:l.toRgb(),opacity:Th(parseFloat(n||a.getAttribute("stop-opacity")||""),1)*l.getAlpha()*t}}function aE(a,t){const e=[],n=a.getElementsByTagName("stop"),r=KS(t,1);for(let l=n.length;l--;)e.push(iE(n[l],r));return e}function QS(a){return a.nodeName==="linearGradient"||a.nodeName==="LINEARGRADIENT"?"linear":"radial"}function WS(a){return a.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Hr(a,t){return a.getAttribute(t)}function rE(a,t){return function(e,n){let r,{width:l,height:h,gradientUnits:f}=n;return Object.keys(e).reduce((d,p)=>{const v=e[p];return v==="Infinity"?r=1:v==="-Infinity"?r=0:(r=typeof v=="string"?parseFloat(v):v,typeof v=="string"&&qS(v)&&(r*=.01,f==="pixels"&&(p!=="x1"&&p!=="x2"&&p!=="r2"||(r*=l),p!=="y1"&&p!=="y2"||(r*=h)))),d[p]=r,d},{})}(QS(a)==="linear"?function(e){return{x1:Hr(e,"x1")||0,y1:Hr(e,"y1")||0,x2:Hr(e,"x2")||"100%",y2:Hr(e,"y2")||0}}(a):function(e){return{x1:Hr(e,"fx")||Hr(e,"cx")||"50%",y1:Hr(e,"fy")||Hr(e,"cy")||"50%",r1:0,x2:Hr(e,"cx")||"50%",y2:Hr(e,"cy")||"50%",r2:Hr(e,"r")||"50%"}}(a),st(st({},t),{},{gradientUnits:WS(a)}))}class A1{constructor(t){const{type:e="linear",gradientUnits:n="pixels",coords:r={},colorStops:l=[],offsetX:h=0,offsetY:f=0,gradientTransform:d,id:p}=t||{};Object.assign(this,{type:e,gradientUnits:n,coords:st(st({},e==="radial"?$T:XS),r),colorStops:l,offsetX:h,offsetY:f,gradientTransform:d,id:p?"".concat(p,"_").concat(ql()):ql()})}addColorStop(t){for(const e in t){const n=new Be(t[e]);this.colorStops.push({offset:parseFloat(e),color:n.toRgb(),opacity:n.getAlpha()})}return this}toObject(t){return st(st({},Ph(this,t)),{},{type:this.type,coords:st({},this.coords),colorStops:this.colorStops.map(e=>st({},e)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(t){let{additionalTransform:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[],r=this.gradientTransform?this.gradientTransform.concat():Vi.concat(),l=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",h=this.colorStops.map(b=>st({},b)).sort((b,A)=>b.offset-A.offset);let f=-this.offsetX,d=-this.offsetY;var p;l==="objectBoundingBox"?(f/=t.width,d/=t.height):(f+=t.width/2,d+=t.height/2),(p=t)&&typeof p._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(f-=t.pathOffset.x,d-=t.pathOffset.y),r[4]-=f,r[5]-=d;const v=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(l,'"'),'gradientTransform="'.concat(e?e+" ":"").concat(gm(r),'"'),""].join(" ");if(this.type==="linear"){const{x1:b,y1:A,x2:S,y2:x}=this.coords;n.push("<linearGradient ",v,' x1="',b,'" y1="',A,'" x2="',S,'" y2="',x,`">
`)}else if(this.type==="radial"){const{x1:b,y1:A,x2:S,y2:x,r1:w,r2:M}=this.coords,D=w>M;n.push("<radialGradient ",v,' cx="',D?b:S,'" cy="',D?A:x,'" r="',D?w:M,'" fx="',D?S:b,'" fy="',D?x:A,`">
`),D&&(h.reverse(),h.forEach(O=>{O.offset=1-O.offset}));const T=Math.min(w,M);if(T>0){const O=T/Math.max(w,M);h.forEach(R=>{R.offset+=O*(1-R.offset)})}}return h.forEach(b=>{let{color:A,offset:S,opacity:x}=b;n.push("<stop ",'offset="',100*S+"%",'" style="stop-color:',A,x!==void 0?";stop-opacity: "+x:";",`"/>
`)}),n.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),n.join("")}toLive(t){const{x1:e,y1:n,x2:r,y2:l,r1:h,r2:f}=this.coords,d=this.type==="linear"?t.createLinearGradient(e,n,r,l):t.createRadialGradient(e,n,h,r,l,f);return this.colorStops.forEach(p=>{let{color:v,opacity:b,offset:A}=p;d.addColorStop(A,b!==void 0?new Be(v).setAlpha(b).toRgba():v)}),d}static async fromObject(t){const{colorStops:e,gradientTransform:n}=t;return new this(st(st({},t),{},{colorStops:e?e.map(r=>st({},r)):void 0,gradientTransform:n?[...n]:void 0}))}static fromElement(t,e,n){const r=WS(t),l=e._findCenterFromElement();return new this(st({id:t.getAttribute("id")||void 0,type:QS(t),coords:rE(t,{width:n.viewBoxWidth||n.width,height:n.viewBoxHeight||n.height}),colorStops:aE(t,n.opacity),gradientUnits:r,gradientTransform:tv(t.getAttribute("gradientTransform")||"")},r==="pixels"?{offsetX:e.width/2-l.x,offsetY:e.height/2-l.y}:{offsetX:0,offsetY:0}))}}at(A1,"type","Gradient"),zt.setClass(A1,"gradient"),zt.setClass(A1,"linear"),zt.setClass(A1,"radial");const sE=["type","source","patternTransform"];class S2{get type(){return"pattern"}set type(t){Xl("warn","Setting type has no effect",t)}constructor(t){at(this,"repeat","repeat"),at(this,"offsetX",0),at(this,"offsetY",0),at(this,"crossOrigin",""),this.id=ql(),Object.assign(this,t)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(t){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?t.createPattern(this.source,this.repeat):null}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:e,crossOrigin:n}=this;return st(st({},Ph(this,t)),{},{type:"pattern",source:this.sourceToString(),repeat:e,crossOrigin:n,offsetX:gn(this.offsetX,_e.NUM_FRACTION_DIGITS),offsetY:gn(this.offsetY,_e.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(t){let{width:e,height:n}=t;const{source:r,repeat:l,id:h}=this,f=Th(this.offsetX/e,0),d=Th(this.offsetY/n,0),p=l==="repeat-y"||l==="no-repeat"?1+Math.abs(f||0):Th(r.width/e,0),v=l==="repeat-x"||l==="no-repeat"?1+Math.abs(d||0):Th(r.height/n,0);return['<pattern id="SVGID_'.concat(h,'" x="').concat(f,'" y="').concat(d,'" width="').concat(p,'" height="').concat(v,'">'),'<image x="0" y="0" width="'.concat(r.width,'" height="').concat(r.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(t,e){let{type:n,source:r,patternTransform:l}=t,h=$e(t,sE);const f=await em(r,st(st({},e),{},{crossOrigin:h.crossOrigin}));return new this(st(st({},h),{},{patternTransform:l&&l.slice(0),source:f}))}}at(S2,"type","Pattern"),zt.setClass(S2),zt.setClass(S2,"pattern");const oE=["path","left","top"],lE=["d"];class tu extends Mi{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:n,left:r,top:l}=e,h=$e(e,oE);super(),Object.assign(this,tu.ownDefaults),this.setOptions(h),this._setPath(t||[],!0),typeof r=="number"&&this.set(Re,r),typeof l=="number"&&this.set(ha,l)}_setPath(t,e){this.path=GT(Array.isArray(t)?t:KT(t)),this.setBoundingBox(e)}_findCenterFromElement(){const t=this._calcBoundsFromPath();return new bt(t.left+t.width/2,t.top+t.height/2)}_renderPathCommands(t){const e=-this.pathOffset.x,n=-this.pathOffset.y;t.beginPath();for(const r of this.path)switch(r[0]){case"L":t.lineTo(r[1]+e,r[2]+n);break;case"M":t.moveTo(r[1]+e,r[2]+n);break;case"C":t.bezierCurveTo(r[1]+e,r[2]+n,r[3]+e,r[4]+n,r[5]+e,r[6]+n);break;case"Q":t.quadraticCurveTo(r[1]+e,r[2]+n,r[3]+e,r[4]+n);break;case"Z":t.closePath()}}_render(t){this._renderPathCommands(t),this._renderPaintInOrder(t)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return st(st({},super.toObject(t)),{},{path:this.path.map(e=>e.slice())})}toDatalessObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=this.toObject(t);return this.sourcePath&&(delete e.path,e.sourcePath=this.sourcePath),e}_toSVG(){const t=QT(this.path,_e.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(t,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const t=_e.NUM_FRACTION_DIGITS;return" translate(".concat(gn(-this.pathOffset.x,t),", ").concat(gn(-this.pathOffset.y,t),")")}toClipPathSVG(t){const e=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}toSVG(t){const e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{width:e,height:n,pathOffset:r}=this._calcDimensions();this.set({width:e,height:n,pathOffset:r}),t&&this.setPositionByOrigin(r,oe,oe)}_calcBoundsFromPath(){const t=[];let e=0,n=0,r=0,l=0;for(const h of this.path)switch(h[0]){case"L":r=h[1],l=h[2],t.push({x:e,y:n},{x:r,y:l});break;case"M":r=h[1],l=h[2],e=r,n=l;break;case"C":t.push(...S3(r,l,h[1],h[2],h[3],h[4],h[5],h[6])),r=h[5],l=h[6];break;case"Q":t.push(...S3(r,l,h[1],h[2],h[1],h[2],h[3],h[4])),r=h[3],l=h[4];break;case"Z":r=e,l=n}return No(t)}_calcDimensions(){const t=this._calcBoundsFromPath();return st(st({},t),{},{pathOffset:new bt(t.left+t.width/2,t.top+t.height/2)})}static fromObject(t){return this._fromObject(t,{extraParam:"path"})}static async fromElement(t,e,n){const r=Vo(t,this.ATTRIBUTE_NAMES,n),{d:l}=r;return new this(l,st(st(st({},$e(r,lE)),e),{},{left:void 0,top:void 0}))}}at(tu,"type","Path"),at(tu,"cacheProperties",[...Fo,"path","fillRule"]),at(tu,"ATTRIBUTE_NAMES",[...$l,"d"]),zt.setClass(tu),zt.setSVGClass(tu);const cE=["left","top","radius"],ZS=["radius","startAngle","endAngle","counterClockwise"];class Oo extends Mi{static getDefaults(){return st(st({},super.getDefaults()),Oo.ownDefaults)}constructor(t){super(),Object.assign(this,Oo.ownDefaults),this.setOptions(t)}_set(t,e){return super._set(t,e),t==="radius"&&this.setRadius(e),this}_render(t){t.beginPath(),t.arc(0,0,this.radius,Dn(this.startAngle),Dn(this.endAngle),this.counterClockwise),this._renderPaintInOrder(t)}getRadiusX(){return this.get("radius")*this.get(ga)}getRadiusY(){return this.get("radius")*this.get(ar)}setRadius(t){this.radius=t,this.set({width:2*t,height:2*t})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...ZS,...t])}_toSVG(){const t=(this.endAngle-this.startAngle)%360;if(t===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:e}=this,n=Dn(this.startAngle),r=Dn(this.endAngle),l=Bo(n)*e,h=Lo(n)*e,f=Bo(r)*e,d=Lo(r)*e,p=t>180?1:0,v=this.counterClockwise?0:1;return['<path d="M '.concat(l," ").concat(h," A ").concat(e," ").concat(e," 0 ").concat(p," ").concat(v," ").concat(f," ").concat(d,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(t,e,n){const r=Vo(t,this.ATTRIBUTE_NAMES,n),{left:l=0,top:h=0,radius:f=0}=r;return new this(st(st({},$e(r,cE)),{},{radius:f,left:l-f,top:h-f}))}static fromObject(t){return super._fromObject(t)}}at(Oo,"type","Circle"),at(Oo,"cacheProperties",[...Fo,...ZS]),at(Oo,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),at(Oo,"ATTRIBUTE_NAMES",["cx","cy","r",...$l]),zt.setClass(Oo),zt.setSVGClass(Oo);const uE=["x1","y1","x2","y2"],hE=["x1","y1","x2","y2"],rv=["x1","x2","y1","y2"];class eu extends Mi{constructor(){let[t,e,n,r]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,eu.ownDefaults),this.setOptions(l),this.x1=t,this.x2=n,this.y1=e,this.y2=r,this._setWidthHeight();const{left:h,top:f}=l;typeof h=="number"&&this.set(Re,h),typeof f=="number"&&this.set(ha,f)}_setWidthHeight(){const{x1:t,y1:e,x2:n,y2:r}=this;this.width=Math.abs(n-t),this.height=Math.abs(r-e);const{left:l,top:h,width:f,height:d}=No([{x:t,y:e},{x:n,y:r}]),p=new bt(l+f/2,h+d/2);this.setPositionByOrigin(p,oe,oe)}_set(t,e){return super._set(t,e),rv.includes(t)&&this._setWidthHeight(),this}_render(t){t.beginPath();const e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;const n=t.strokeStyle;var r;ir(this.stroke)?t.strokeStyle=this.stroke.toLive(t):t.strokeStyle=(r=this.stroke)!==null&&r!==void 0?r:t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=n}_findCenterFromElement(){return new bt((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return st(st({},super.toObject(t)),this.calcLinePoints())}_getNonTransformedDimensions(){const t=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(t.y-=this.strokeWidth),this.height===0&&(t.x-=this.strokeWidth)),t}calcLinePoints(){const{x1:t,x2:e,y1:n,y2:r,width:l,height:h}=this,f=t<=e?-1:1,d=n<=r?-1:1;return{x1:f*l/2,x2:f*-l/2,y1:d*h/2,y2:d*-h/2}}_toSVG(){const{x1:t,x2:e,y1:n,y2:r}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(t,'" y1="').concat(n,'" x2="').concat(e,'" y2="').concat(r,`" />
`)]}static async fromElement(t,e,n){const r=Vo(t,this.ATTRIBUTE_NAMES,n),{x1:l=0,y1:h=0,x2:f=0,y2:d=0}=r;return new this([l,h,f,d],$e(r,uE))}static fromObject(t){let{x1:e,y1:n,x2:r,y2:l}=t,h=$e(t,hE);return this._fromObject(st(st({},h),{},{points:[e,n,r,l]}),{extraParam:"points"})}}at(eu,"type","Line"),at(eu,"cacheProperties",[...Fo,...rv]),at(eu,"ATTRIBUTE_NAMES",$l.concat(rv)),zt.setClass(eu),zt.setSVGClass(eu);class nu extends Mi{static getDefaults(){return st(st({},super.getDefaults()),nu.ownDefaults)}constructor(t){super(),Object.assign(this,nu.ownDefaults),this.setOptions(t)}_render(t){const e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,n),t.lineTo(0,-n),t.lineTo(e,n),t.closePath(),this._renderPaintInOrder(t)}_toSVG(){const t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-t," ").concat(e,",0 ").concat(-e,",").concat(t," ").concat(e),'" />']}}at(nu,"type","Triangle"),at(nu,"ownDefaults",{width:100,height:100}),zt.setClass(nu),zt.setSVGClass(nu);const IS=["rx","ry"];class Mo extends Mi{static getDefaults(){return st(st({},super.getDefaults()),Mo.ownDefaults)}constructor(t){super(),Object.assign(this,Mo.ownDefaults),this.setOptions(t)}_set(t,e){switch(super._set(t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this}getRx(){return this.get("rx")*this.get(ga)}getRy(){return this.get("ry")*this.get(ar)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...IS,...t])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,cm,!1),t.restore(),this._renderPaintInOrder(t)}static async fromElement(t,e,n){const r=Vo(t,this.ATTRIBUTE_NAMES,n);return r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,new this(r)}}function fE(a){if(!a)return[];const t=a.replace(/,/g," ").trim().split(/\s+/),e=[];for(let n=0;n<t.length;n+=2)e.push({x:parseFloat(t[n]),y:parseFloat(t[n+1])});return e}at(Mo,"type","Ellipse"),at(Mo,"cacheProperties",[...Fo,...IS]),at(Mo,"ownDefaults",{rx:0,ry:0}),at(Mo,"ATTRIBUTE_NAMES",[...$l,"cx","cy","rx","ry"]),zt.setClass(Mo),zt.setSVGClass(Mo);const dE=["left","top"],JS={exactBoundingBox:!1};class Pr extends Mi{static getDefaults(){return st(st({},super.getDefaults()),Pr.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),at(this,"strokeDiff",void 0),Object.assign(this,Pr.ownDefaults),this.setOptions(e),this.points=t;const{left:n,top:r}=e;this.initialized=!0,this.setBoundingBox(!0),typeof n=="number"&&this.set(Re,n),typeof r=="number"&&this.set(ha,r)}isOpen(){return!0}_projectStrokeOnPoints(t){return nT(this.points,t,this.isOpen())}_calcDimensions(t){t=st({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},t||{});const e=this.exactBoundingBox?this._projectStrokeOnPoints(t).map(p=>p.projectedPoint):this.points;if(e.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new bt,strokeOffset:new bt,strokeDiff:new bt};const n=No(e),r=Vm(st(st({},t),{},{scaleX:1,scaleY:1})),l=No(this.points.map(p=>ca(p,r,!0))),h=new bt(this.scaleX,this.scaleY);let f=n.left+n.width/2,d=n.top+n.height/2;return this.exactBoundingBox&&(f-=d*Math.tan(Dn(this.skewX)),d-=f*Math.tan(Dn(this.skewY))),st(st({},n),{},{pathOffset:new bt(f,d),strokeOffset:new bt(l.left,l.top).subtract(new bt(n.left,n.top)).multiply(h),strokeDiff:new bt(n.width,n.height).subtract(new bt(l.width,l.height)).multiply(h)})}_findCenterFromElement(){const t=No(this.points);return new bt(t.left+t.width/2,t.top+t.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{left:e,top:n,width:r,height:l,pathOffset:h,strokeOffset:f,strokeDiff:d}=this._calcDimensions();this.set({width:r,height:l,pathOffset:h,strokeOffset:f,strokeDiff:d}),t&&this.setPositionByOrigin(new bt(e+r/2,n+l/2),oe,oe)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new bt(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let h;if(Object.keys(t).some(f=>this.strokeUniform||this.constructor.layoutProperties.includes(f))){var e,n;const{width:f,height:d}=this._calcDimensions(t);h=new bt((e=t.width)!==null&&e!==void 0?e:f,(n=t.height)!==null&&n!==void 0?n:d)}else{var r,l;h=new bt((r=t.width)!==null&&r!==void 0?r:this.width,(l=t.height)!==null&&l!==void 0?l:this.height)}return h.multiply(new bt(t.scaleX||this.scaleX,t.scaleY||this.scaleY))}return super._getTransformedDimensions(t)}_set(t,e){const n=this.initialized&&this[t]!==e,r=super._set(t,e);return this.exactBoundingBox&&n&&((t===ga||t===ar)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(t))&&this.setDimensions(),r}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return st(st({},super.toObject(t)),{},{points:this.points.map(e=>{let{x:n,y:r}=e;return{x:n,y:r}})})}_toSVG(){const t=[],e=this.pathOffset.x,n=this.pathOffset.y,r=_e.NUM_FRACTION_DIGITS;for(let l=0,h=this.points.length;l<h;l++)t.push(gn(this.points[l].x-e,r),",",gn(this.points[l].y-n,r)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(t.join(""),`" />
`)]}_render(t){const e=this.points.length,n=this.pathOffset.x,r=this.pathOffset.y;if(e&&!isNaN(this.points[e-1].y)){t.beginPath(),t.moveTo(this.points[0].x-n,this.points[0].y-r);for(let l=0;l<e;l++){const h=this.points[l];t.lineTo(h.x-n,h.y-r)}!this.isOpen()&&t.closePath(),this._renderPaintInOrder(t)}}complexity(){return this.points.length}static async fromElement(t,e,n){return new this(fE(t.getAttribute("points")),st(st({},$e(Vo(t,this.ATTRIBUTE_NAMES,n),dE)),e))}static fromObject(t){return this._fromObject(t,{extraParam:"points"})}}at(Pr,"ownDefaults",JS),at(Pr,"type","Polyline"),at(Pr,"layoutProperties",[Hh,kh,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),at(Pr,"cacheProperties",[...Fo,"points"]),at(Pr,"ATTRIBUTE_NAMES",[...$l]),zt.setClass(Pr),zt.setSVGClass(Pr);class x1 extends Pr{isOpen(){return!1}}at(x1,"ownDefaults",JS),at(x1,"type","Polygon"),zt.setClass(x1),zt.setSVGClass(x1);const $S=["fontSize","fontWeight","fontFamily","fontStyle"],t4=["underline","overline","linethrough"],e4=[...$S,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],n4=[...e4,...t4,"textBackgroundColor","direction"],gE=[...$S,...t4,da,"strokeWidth",Vn,"deltaY","textBackgroundColor"],mE={_reNewline:Gv,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Re,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Re,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},Us="justify",_m="justify-left",u0="justify-right",h0="justify-center";class i4 extends Mi{isEmptyStyles(t){if(!this.styles||t!==void 0&&!this.styles[t])return!0;const e=t===void 0?this.styles:{line:this.styles[t]};for(const n in e)for(const r in e[n])for(const l in e[n][r])return!1;return!0}styleHas(t,e){if(!this.styles||e!==void 0&&!this.styles[e])return!1;const n=e===void 0?this.styles:{0:this.styles[e]};for(const r in n)for(const l in n[r])if(n[r][l][t]!==void 0)return!0;return!1}cleanStyle(t){if(!this.styles)return!1;const e=this.styles;let n,r,l=0,h=!0,f=0;for(const d in e){n=0;for(const p in e[d]){const v=e[d][p]||{};l++,v[t]!==void 0?(r?v[t]!==r&&(h=!1):r=v[t],v[t]===this[t]&&delete v[t]):h=!1,Object.keys(v).length!==0?n++:delete e[d][p]}n===0&&delete e[d]}for(let d=0;d<this._textLines.length;d++)f+=this._textLines[d].length;h&&l===f&&(this[t]=r,this.removeStyle(t))}removeStyle(t){if(!this.styles)return;const e=this.styles;let n,r,l;for(r in e){for(l in n=e[r],n)delete n[l][t],Object.keys(n[l]).length===0&&delete n[l];Object.keys(n).length===0&&delete e[r]}}_extendStyles(t,e){const{lineIndex:n,charIndex:r}=this.get2DCursorLocation(t);this._getLineStyle(n)||this._setLineStyle(n);const l=Vv(st(st({},this._getStyleDeclaration(n,r)),e),h=>h!==void 0);this._setStyleDeclaration(n,r,l)}getSelectionStyles(t,e,n){const r=[];for(let l=t;l<(e||t);l++)r.push(this.getStyleAtPosition(l,n));return r}getStyleAtPosition(t,e){const{lineIndex:n,charIndex:r}=this.get2DCursorLocation(t);return e?this.getCompleteStyleDeclaration(n,r):this._getStyleDeclaration(n,r)}setSelectionStyles(t,e,n){for(let r=e;r<(n||e);r++)this._extendStyles(r,t);this._forceClearCache=!0}_getStyleDeclaration(t,e){var n;const r=this.styles&&this.styles[t];return r&&(n=r[e])!==null&&n!==void 0?n:{}}getCompleteStyleDeclaration(t,e){return st(st({},Ph(this,this.constructor._styleProperties)),this._getStyleDeclaration(t,e))}_setStyleDeclaration(t,e,n){this.styles[t][e]=n}_deleteStyleDeclaration(t,e){delete this.styles[t][e]}_getLineStyle(t){return!!this.styles[t]}_setLineStyle(t){this.styles[t]={}}_deleteLineStyle(t){delete this.styles[t]}}at(i4,"_styleProperties",gE);const pE=/  +/g,vE=/"/g;function A2(a,t,e,n,r){return"		".concat(function(l,h){let{left:f,top:d,width:p,height:v}=h,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_e.NUM_FRACTION_DIGITS;const A=v0(Vn,l,!1),[S,x,w,M]=[f,d,p,v].map(D=>gn(D,b));return"<rect ".concat(A,' x="').concat(S,'" y="').concat(x,'" width="').concat(w,'" height="').concat(M,'"></rect>')}(a,{left:t,top:e,width:n,height:r}),`
`)}const yE=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let x2;class Pi extends i4{static getDefaults(){return st(st({},super.getDefaults()),Pi.ownDefaults)}constructor(t,e){super(),at(this,"__charBounds",[]),Object.assign(this,Pi.ownDefaults),this.setOptions(e),this.styles||(this.styles={}),this.text=t,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const t=this.path;t&&(t.segmentsInfo=YS(t.path))}_splitText(){const t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Us)&&this.enlargeSpaces()}enlargeSpaces(){let t,e,n,r,l,h,f;for(let d=0,p=this._textLines.length;d<p;d++)if((this.textAlign===Us||d!==p-1&&!this.isEndOfWrapping(d))&&(r=0,l=this._textLines[d],e=this.getLineWidth(d),e<this.width&&(f=this.textLines[d].match(this._reSpacesAndTabs)))){n=f.length,t=(this.width-e)/n;for(let v=0;v<=l.length;v++)h=this.__charBounds[d][v],this._reSpaceAndTab.test(l[v])?(h.width+=t,h.kernedWidth+=t,h.left+=r,r+=t):h.left+=r}}isEndOfWrapping(t){return t===this._textLines.length-1}missingNewlineOffset(t){return 1}get2DCursorLocation(t,e){const n=e?this._unwrappedTextLines:this._textLines;let r;for(r=0;r<n.length;r++){if(t<=n[r].length)return{lineIndex:r,charIndex:t};t-=n[r].length+this.missingNewlineOffset(r,e)}return{lineIndex:r-1,charIndex:n[r-1].length<t?n[r-1].length:t}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const t=super._getCacheCanvasDimensions(),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t}_render(t){const e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")}_renderText(t){this.paintFirst===da?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))}_setTextStyles(t,e,n){if(t.textBaseline="alphabetic",this.path)switch(this.pathAlign){case oe:t.textBaseline="middle";break;case"ascender":t.textBaseline=ha;break;case"descender":t.textBaseline=K2}t.font=this._getFontDeclaration(e,n)}calcTextWidth(){let t=this.getLineWidth(0);for(let e=1,n=this._textLines.length;e<n;e++){const r=this.getLineWidth(e);r>t&&(t=r)}return t}_renderTextLine(t,e,n,r,l,h){this._renderChars(t,e,n,r,l,h)}_renderTextLinesBackground(t){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const e=t.fillStyle,n=this._getLeftOffset();let r=this._getTopOffset();for(let l=0,h=this._textLines.length;l<h;l++){const f=this.getHeightOfLine(l);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",l)){r+=f;continue}const d=this._textLines[l].length,p=this._getLineLeftOffset(l);let v,b,A=0,S=0,x=this.getValueOfPropertyAt(l,0,"textBackgroundColor");for(let w=0;w<d;w++){const M=this.__charBounds[l][w];b=this.getValueOfPropertyAt(l,w,"textBackgroundColor"),this.path?(t.save(),t.translate(M.renderLeft,M.renderTop),t.rotate(M.angle),t.fillStyle=b,b&&t.fillRect(-M.width/2,-f/this.lineHeight*(1-this._fontSizeFraction),M.width,f/this.lineHeight),t.restore()):b!==x?(v=n+p+S,this.direction==="rtl"&&(v=this.width-v-A),t.fillStyle=x,x&&t.fillRect(v,r,A,f/this.lineHeight),S=M.left,A=M.width,x=b):A+=M.kernedWidth}b&&!this.path&&(v=n+p+S,this.direction==="rtl"&&(v=this.width-v-A),t.fillStyle=b,t.fillRect(v,r,A,f/this.lineHeight)),r+=f}t.fillStyle=e,this._removeShadow(t)}_measureChar(t,e,n,r){const l=l0.getFontCache(e),h=this._getFontDeclaration(e),f=n+t,d=n&&h===this._getFontDeclaration(r),p=e.fontSize/this.CACHE_FONT_SIZE;let v,b,A,S;if(n&&l[n]!==void 0&&(A=l[n]),l[t]!==void 0&&(S=v=l[t]),d&&l[f]!==void 0&&(b=l[f],S=b-A),v===void 0||A===void 0||b===void 0){const x=function(){return x2||(x2=Fs({width:0,height:0}).getContext("2d")),x2}();this._setTextStyles(x,e,!0),v===void 0&&(S=v=x.measureText(t).width,l[t]=v),A===void 0&&d&&n&&(A=x.measureText(n).width,l[n]=A),d&&b===void 0&&(b=x.measureText(f).width,l[f]=b,S=b-A)}return{width:v*p,kernedWidth:S*p}}getHeightOfChar(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")}measureLine(t){const e=this._measureLine(t);return this.charSpacing!==0&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e}_measureLine(t){let e,n,r=0;const l=this.pathSide===Mn,h=this.path,f=this._textLines[t],d=f.length,p=new Array(d);this.__charBounds[t]=p;for(let v=0;v<d;v++){const b=f[v];n=this._getGraphemeBox(b,t,v,e),p[v]=n,r+=n.kernedWidth,e=b}if(p[d]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},h&&h.segmentsInfo){let v=0;const b=h.segmentsInfo[h.segmentsInfo.length-1].length;switch(this.textAlign){case Re:v=l?b-r:0;break;case oe:v=(b-r)/2;break;case Mn:v=l?0:b-r}v+=this.pathStartOffset*(l?-1:1);for(let A=l?d-1:0;l?A>=0:A<d;l?A--:A++)n=p[A],v>b?v%=b:v<0&&(v+=b),this._setGraphemeOnPath(v,n),v+=n.kernedWidth}return{width:r,numOfSpaces:0}}_setGraphemeOnPath(t,e){const n=t+e.kernedWidth/2,r=this.path,l=VT(r.path,n,r.segmentsInfo);e.renderLeft=l.x-r.pathOffset.x,e.renderTop=l.y-r.pathOffset.y,e.angle=l.angle+(this.pathSide===Mn?Math.PI:0)}_getGraphemeBox(t,e,n,r,l){const h=this.getCompleteStyleDeclaration(e,n),f=r?this.getCompleteStyleDeclaration(e,n-1):{},d=this._measureChar(t,h,r,f);let p,v=d.kernedWidth,b=d.width;this.charSpacing!==0&&(p=this._getWidthOfCharSpacing(),b+=p,v+=p);const A={width:b,left:0,height:h.fontSize,kernedWidth:v,deltaY:h.deltaY};if(n>0&&!l){const S=this.__charBounds[e][n-1];A.left=S.left+S.width+d.kernedWidth-d.width}return A}getHeightOfLine(t){if(this.__lineHeights[t])return this.__lineHeights[t];let e=this.getHeightOfChar(t,0);for(let n=1,r=this._textLines[t].length;n<r;n++)e=Math.max(this.getHeightOfChar(t,n),e);return this.__lineHeights[t]=e*this.lineHeight*this._fontSizeMult}calcTextHeight(){let t,e=0;for(let n=0,r=this._textLines.length;n<r;n++)t=this.getHeightOfLine(n),e+=n===r-1?t/this.lineHeight:t;return e}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(t,e){t.save();let n=0;const r=this._getLeftOffset(),l=this._getTopOffset();for(let h=0,f=this._textLines.length;h<f;h++){const d=this.getHeightOfLine(h),p=d/this.lineHeight,v=this._getLineLeftOffset(h);this._renderTextLine(e,t,this._textLines[h],r+v,l+n+p,h),n+=d}t.restore()}_renderTextFill(t){(this.fill||this.styleHas(Vn))&&this._renderTextCommon(t,"fillText")}_renderTextStroke(t){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())}_renderChars(t,e,n,r,l,h){const f=this.getHeightOfLine(h),d=this.textAlign.includes(Us),p=this.path,v=!d&&this.charSpacing===0&&this.isEmptyStyles(h)&&!p,b=this.direction==="ltr",A=this.direction==="ltr"?1:-1,S=e.direction;let x,w,M,D,T,O="",R=0;if(e.save(),S!==this.direction&&(e.canvas.setAttribute("dir",b?"ltr":"rtl"),e.direction=b?"ltr":"rtl",e.textAlign=b?Re:Mn),l-=f*this._fontSizeFraction/this.lineHeight,v)return this._renderChar(t,e,h,0,n.join(""),r,l),void e.restore();for(let z=0,H=n.length-1;z<=H;z++)D=z===H||this.charSpacing||p,O+=n[z],M=this.__charBounds[h][z],R===0?(r+=A*(M.kernedWidth-M.width),R+=M.width):R+=M.kernedWidth,d&&!D&&this._reSpaceAndTab.test(n[z])&&(D=!0),D||(x=x||this.getCompleteStyleDeclaration(h,z),w=this.getCompleteStyleDeclaration(h,z+1),D=Iv(x,w,!1)),D&&(p?(e.save(),e.translate(M.renderLeft,M.renderTop),e.rotate(M.angle),this._renderChar(t,e,h,z,O,-R/2,0),e.restore()):(T=r,this._renderChar(t,e,h,z,O,T,l)),O="",x=w,r+=A*R,R=0);e.restore()}_applyPatternGradientTransformText(t){const e=this.width+this.strokeWidth,n=this.height+this.strokeWidth,r=Fs({width:e,height:n}),l=r.getContext("2d");return r.width=e,r.height=n,l.beginPath(),l.moveTo(0,0),l.lineTo(e,0),l.lineTo(e,n),l.lineTo(0,n),l.closePath(),l.translate(e/2,n/2),l.fillStyle=t.toLive(l),this._applyPatternGradientTransform(l,t),l.fill(),l.createPattern(r,"no-repeat")}handleFiller(t,e,n){let r,l;return ir(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?(r=-this.width/2,l=-this.height/2,t.translate(r,l),t[e]=this._applyPatternGradientTransformText(n),{offsetX:r,offsetY:l}):(t[e]=n.toLive(t),this._applyPatternGradientTransform(t,n)):(t[e]=n,{offsetX:0,offsetY:0})}_setStrokeStyles(t,e){let{stroke:n,strokeWidth:r}=e;return t.lineWidth=r,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",n)}_setFillStyles(t,e){let{fill:n}=e;return this.handleFiller(t,"fillStyle",n)}_renderChar(t,e,n,r,l,h,f){const d=this._getStyleDeclaration(n,r),p=this.getCompleteStyleDeclaration(n,r),v=t==="fillText"&&p.fill,b=t==="strokeText"&&p.stroke&&p.strokeWidth;if(b||v){if(e.save(),e.font=this._getFontDeclaration(p),d.textBackgroundColor&&this._removeShadow(e),d.deltaY&&(f+=d.deltaY),v){const A=this._setFillStyles(e,p);e.fillText(l,h-A.offsetX,f-A.offsetY)}if(b){const A=this._setStrokeStyles(e,p);e.strokeText(l,h-A.offsetX,f-A.offsetY)}e.restore()}}setSuperscript(t,e){this._setScript(t,e,this.superscript)}setSubscript(t,e){this._setScript(t,e,this.subscript)}_setScript(t,e,n){const r=this.get2DCursorLocation(t,!0),l=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),h=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),f={fontSize:l*n.size,deltaY:h+l*n.baseline};this.setSelectionStyles(f,t,e)}_getLineLeftOffset(t){const e=this.getLineWidth(t),n=this.width-e,r=this.textAlign,l=this.direction,h=this.isEndOfWrapping(t);let f=0;return r===Us||r===h0&&!h||r===u0&&!h||r===_m&&!h?0:(r===oe&&(f=n/2),r===Mn&&(f=n),r===h0&&(f=n/2),r===u0&&(f=n),l==="rtl"&&(r===Mn||r===Us||r===u0?f=0:r===Re||r===_m?f=-n:r!==oe&&r!==h0||(f=-n/2)),f)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(t){if(this.__lineWidths[t]!==void 0)return this.__lineWidths[t];const{width:e}=this.measureLine(t);return this.__lineWidths[t]=e,e}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(t,e,n){var r;return(r=this._getStyleDeclaration(t,e)[n])!==null&&r!==void 0?r:this[n]}_renderTextDecoration(t,e){if(!this[e]&&!this.styleHas(e))return;let n=this._getTopOffset();const r=this._getLeftOffset(),l=this.path,h=this._getWidthOfCharSpacing(),f=this.offsets[e];for(let d=0,p=this._textLines.length;d<p;d++){const v=this.getHeightOfLine(d);if(!this[e]&&!this.styleHas(e,d)){n+=v;continue}const b=this._textLines[d],A=v/this.lineHeight,S=this._getLineLeftOffset(d);let x,w,M=0,D=0,T=this.getValueOfPropertyAt(d,0,e),O=this.getValueOfPropertyAt(d,0,Vn);const R=n+A*(1-this._fontSizeFraction);let z=this.getHeightOfChar(d,0),H=this.getValueOfPropertyAt(d,0,"deltaY");for(let P=0,K=b.length;P<K;P++){const B=this.__charBounds[d][P];x=this.getValueOfPropertyAt(d,P,e),w=this.getValueOfPropertyAt(d,P,Vn);const Y=this.getHeightOfChar(d,P),Z=this.getValueOfPropertyAt(d,P,"deltaY");if(l&&x&&w)t.save(),t.fillStyle=O,t.translate(B.renderLeft,B.renderTop),t.rotate(B.angle),t.fillRect(-B.kernedWidth/2,f*Y+Z,B.kernedWidth,this.fontSize/15),t.restore();else if((x!==T||w!==O||Y!==z||Z!==H)&&D>0){let j=r+S+M;this.direction==="rtl"&&(j=this.width-j-D),T&&O&&(t.fillStyle=O,t.fillRect(j,R+f*z+H,D,this.fontSize/15)),M=B.left,D=B.width,T=x,O=w,z=Y,H=Z}else D+=B.kernedWidth}let V=r+S+M;this.direction==="rtl"&&(V=this.width-V-D),t.fillStyle=w,x&&w&&t.fillRect(V,R+f*z+H,D-h,this.fontSize/15),n+=v}this._removeShadow(t)}_getFontDeclaration(){let{fontFamily:t=this.fontFamily,fontStyle:e=this.fontStyle,fontWeight:n=this.fontWeight,fontSize:r=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;const h=t.includes("'")||t.includes('"')||t.includes(",")||Pi.genericFonts.includes(t.toLowerCase())?t:'"'.concat(t,'"');return[e,n,"".concat(l?this.CACHE_FONT_SIZE:r,"px"),h].join(" ")}render(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(t)))}graphemeSplit(t){return Zv(t)}_splitTextIntoLines(t){const e=t.split(this._reNewline),n=new Array(e.length),r=[`
`];let l=[];for(let h=0;h<e.length;h++)n[h]=this.graphemeSplit(e[h]),l=l.concat(n[h],r);return l.pop(),{_unwrappedLines:n,lines:e,graphemeText:l,graphemeLines:n}}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return st(st({},super.toObject([...n4,...t])),{},{styles:rT(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(t,e){const{textLayoutProperties:n}=this.constructor;super.set(t,e);let r=!1,l=!1;if(typeof t=="object")for(const h in t)h==="path"&&this.setPathInfo(),r=r||n.includes(h),l=l||h==="path";else r=n.includes(t),l=t==="path";return l&&this.setPathInfo(),r&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(t,e,n){const r=Vo(t,Pi.ATTRIBUTE_NAMES,n),l=st(st({},e),r),{textAnchor:h=Re,textDecoration:f="",dx:d=0,dy:p=0,top:v=0,left:b=0,fontSize:A=Uv,strokeWidth:S=1}=l,x=$e(l,yE),w=new this((t.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),st({left:b+d,top:v+p,underline:f.includes("underline"),overline:f.includes("overline"),linethrough:f.includes("line-through"),strokeWidth:0,fontSize:A},x)),M=w.getScaledHeight()/w.height,D=((w.height+w.strokeWidth)*w.lineHeight-w.height)*M,T=w.getScaledHeight()+D;let O=0;return h===oe&&(O=w.getScaledWidth()/2),h===Mn&&(O=w.getScaledWidth()),w.set({left:w.left-O,top:w.top-(T-w.fontSize*(.07+w._fontSizeFraction))/w.lineHeight,strokeWidth:S}),w}static fromObject(t){return this._fromObject(st(st({},t),{},{styles:sT(t.styles||{},t.text)}),{extraParam:"text"})}}at(Pi,"textLayoutProperties",e4),at(Pi,"cacheProperties",[...Fo,...n4]),at(Pi,"ownDefaults",mE),at(Pi,"type","Text"),at(Pi,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),at(Pi,"ATTRIBUTE_NAMES",$l.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),BS(Pi,[class extends ES{_toSVG(){const a=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(a.textTop,a.textLeft);return this._wrapSVGTextAndBg(t)}toSVG(a){return this._createBaseSVGMarkup(this._toSVG(),{reviver:a,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(a){let{textBgRects:t,textSpans:e}=a;const n=this.getSvgTextDecoration(this);return[t.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(vE,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",n?'text-decoration="'.concat(n,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.join(""),`</text>
`]}_getSVGTextAndBg(a,t){const e=[],n=[];let r,l=a;this.backgroundColor&&n.push(...A2(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let h=0,f=this._textLines.length;h<f;h++)r=this._getLineLeftOffset(h),this.direction==="rtl"&&(r+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",h))&&this._setSVGTextLineBg(n,h,t+r,l),this._setSVGTextLineText(e,h,t+r,l),l+=this.getHeightOfLine(h);return{textSpans:e,textBgRects:n}}_createTextCharSpan(a,t,e,n){const r=this.getSvgSpanStyles(t,a!==a.trim()||!!a.match(pE)),l=r?'style="'.concat(r,'"'):"",h=t.deltaY,f=h?' dy="'.concat(gn(h,_e.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(gn(e,_e.NUM_FRACTION_DIGITS),'" y="').concat(gn(n,_e.NUM_FRACTION_DIGITS),'" ').concat(f).concat(l,">").concat(iT(a),"</tspan>")}_setSVGTextLineText(a,t,e,n){const r=this.getHeightOfLine(t),l=this.textAlign.includes(Us),h=this._textLines[t];let f,d,p,v,b,A="",S=0;n+=r*(1-this._fontSizeFraction)/this.lineHeight;for(let x=0,w=h.length-1;x<=w;x++)b=x===w||this.charSpacing,A+=h[x],p=this.__charBounds[t][x],S===0?(e+=p.kernedWidth-p.width,S+=p.width):S+=p.kernedWidth,l&&!b&&this._reSpaceAndTab.test(h[x])&&(b=!0),b||(f=f||this.getCompleteStyleDeclaration(t,x),d=this.getCompleteStyleDeclaration(t,x+1),b=Iv(f,d,!0)),b&&(v=this._getStyleDeclaration(t,x),a.push(this._createTextCharSpan(A,v,e,n)),A="",f=d,this.direction==="rtl"?e-=S:e+=S,S=0)}_setSVGTextLineBg(a,t,e,n){const r=this._textLines[t],l=this.getHeightOfLine(t)/this.lineHeight;let h,f=0,d=0,p=this.getValueOfPropertyAt(t,0,"textBackgroundColor");for(let v=0;v<r.length;v++){const{left:b,width:A,kernedWidth:S}=this.__charBounds[t][v];h=this.getValueOfPropertyAt(t,v,"textBackgroundColor"),h!==p?(p&&a.push(...A2(p,e+d,n,f,l)),d=b,f=A,p=h):f+=S}h&&a.push(...A2(p,e+d,n,f,l))}_getSVGLineTopOffset(a){let t,e=0;for(t=0;t<a;t++)e+=this.getHeightOfLine(t);const n=this.getHeightOfLine(t);return{lineTop:e,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(a){return"".concat(super.getSvgStyles(a)," white-space: pre;")}getSvgSpanStyles(a,t){const{fontFamily:e,strokeWidth:n,stroke:r,fill:l,fontSize:h,fontStyle:f,fontWeight:d,deltaY:p}=a,v=this.getSvgTextDecoration(a);return[r?v0(da,r):"",n?"stroke-width: ".concat(n,"; "):"",e?"font-family: ".concat(e.includes("'")||e.includes('"')?e:"'".concat(e,"'"),"; "):"",h?"font-size: ".concat(h,"px; "):"",f?"font-style: ".concat(f,"; "):"",d?"font-weight: ".concat(d,"; "):"",v&&"text-decoration: ".concat(v,"; "),l?v0(Vn,l):"",p?"baseline-shift: ".concat(-p,"; "):"",t?"white-space: pre; ":""].join("")}getSvgTextDecoration(a){return["overline","underline","line-through"].filter(t=>a[t.replace("-","")]).join(" ")}}]),zt.setClass(Pi),zt.setSVGClass(Pi);class bE{constructor(t){at(this,"target",void 0),at(this,"__mouseDownInPlace",!1),at(this,"__dragStartFired",!1),at(this,"__isDraggingOver",!1),at(this,"__dragStartSelection",void 0),at(this,"__dragImageDisposer",void 0),at(this,"_dispose",void 0),this.target=t;const e=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{e.forEach(n=>n()),this._dispose=void 0}}isPointerOverSelection(t){const e=this.target,n=e.getSelectionStartFromPointer(t);return e.isEditing&&n>=e.selectionStart&&n<=e.selectionEnd&&e.selectionStart<e.selectionEnd}start(t){return this.__mouseDownInPlace=this.isPointerOverSelection(t)}isActive(){return this.__mouseDownInPlace}end(t){const e=this.isActive();return e&&!this.__dragStartFired&&(this.target.setCursorByClick(t),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,e}getDragStartSelection(){return this.__dragStartSelection}setDragImage(t,e){var n;let{selectionStart:r,selectionEnd:l}=e;const h=this.target,f=h.canvas,d=new bt(h.flipX?-1:1,h.flipY?-1:1),p=h._getCursorBoundaries(r),v=new bt(p.left+p.leftOffset,p.top+p.topOffset).multiply(d).transform(h.calcTransformMatrix()),b=f.getScenePoint(t).subtract(v),A=h.getCanvasRetinaScaling(),S=h.getBoundingRect(),x=v.subtract(new bt(S.left,S.top)),w=f.viewportTransform,M=x.add(b).transform(w,!0),D=h.backgroundColor,T=Wv(h.styles);h.backgroundColor="";const O={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};h.setSelectionStyles(O,0,r),h.setSelectionStyles(O,l,h.text.length),h.dirty=!0;const R=h.toCanvasElement({enableRetinaScaling:f.enableRetinaScaling,viewportTransform:!0});h.backgroundColor=D,h.styles=T,h.dirty=!0,iv(R,{position:"fixed",left:"".concat(-R.width,"px"),border:fa,width:"".concat(R.width/A,"px"),height:"".concat(R.height/A,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{R.remove()},Vr(t.target||this.target.hiddenTextarea).body.appendChild(R),(n=t.dataTransfer)===null||n===void 0||n.setDragImage(R,M.x,M.y)}onDragStart(t){this.__dragStartFired=!0;const e=this.target,n=this.isActive();if(n&&t.dataTransfer){const r=this.__dragStartSelection={selectionStart:e.selectionStart,selectionEnd:e.selectionEnd},l=e._text.slice(r.selectionStart,r.selectionEnd).join(""),h=st({text:e.text,value:l},r);t.dataTransfer.setData("text/plain",l),t.dataTransfer.setData("application/fabric",JSON.stringify({value:l,styles:e.getSelectionStyles(r.selectionStart,r.selectionEnd,!0)})),t.dataTransfer.effectAllowed="copyMove",this.setDragImage(t,h)}return e.abortCursorAnimation(),n}canDrop(t){if(this.target.editable&&!this.target.getActiveControl()&&!t.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const e=this.target.getSelectionStartFromPointer(t),n=this.__dragStartSelection;return e<n.selectionStart||e>n.selectionEnd}return!0}return!1}targetCanDrop(t){return this.target.canDrop(t)}dragEnterHandler(t){let{e}=t;const n=this.targetCanDrop(e);!this.__isDraggingOver&&n&&(this.__isDraggingOver=!0)}dragOverHandler(t){const{e}=t,n=this.targetCanDrop(e);!this.__isDraggingOver&&n?this.__isDraggingOver=!0:this.__isDraggingOver&&!n&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(e.preventDefault(),t.canDrop=!0,t.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(t){var e;const{e:n}=t,r=n.defaultPrevented;this.__isDraggingOver=!1,n.preventDefault();let l=(e=n.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain");if(l&&!r){const h=this.target,f=h.canvas;let d=h.getSelectionStartFromPointer(n);const{styles:p}=n.dataTransfer.types.includes("application/fabric")?JSON.parse(n.dataTransfer.getData("application/fabric")):{},v=l[Math.max(0,l.length-1)],b=0;if(this.__dragStartSelection){const A=this.__dragStartSelection.selectionStart,S=this.__dragStartSelection.selectionEnd;d>A&&d<=S?d=A:d>S&&(d-=S-A),h.removeChars(A,S),delete this.__dragStartSelection}h._reNewline.test(v)&&(h._reNewline.test(h._text[d])||d===h._text.length)&&(l=l.trimEnd()),t.didDrop=!0,t.dropTarget=h,h.insertChars(l,p,d),f.setActiveObject(h),h.enterEditing(n),h.selectionStart=Math.min(d+b,h._text.length),h.selectionEnd=Math.min(h.selectionStart+l.length,h._text.length),h.hiddenTextarea.value=h.text,h._updateTextarea(),h.hiddenTextarea.focus(),h.fire(um,{index:d+b,action:"drop"}),f.fire("text:changed",{target:h}),f.contextTopDirty=!0,f.requestRenderAll()}}dragEndHandler(t){let{e}=t;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var n;const r=this.target,l=this.target.canvas,{selectionStart:h,selectionEnd:f}=this.__dragStartSelection,d=((n=e.dataTransfer)===null||n===void 0?void 0:n.dropEffect)||fa;d===fa?(r.selectionStart=h,r.selectionEnd=f,r._updateTextarea(),r.hiddenTextarea.focus()):(r.clearContextTop(),d==="move"&&(r.removeChars(h,f),r.selectionStart=r.selectionEnd=h,r.hiddenTextarea&&(r.hiddenTextarea.value=r.text),r._updateTextarea(),r.fire(um,{index:h,action:"dragend"}),l.fire("text:changed",{target:r}),l.requestRenderAll()),r.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const C3=/[ \n\.,;!\?\-]/;class _E extends Pi{constructor(){super(...arguments),at(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(t){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(t)}_animateCursor(t){let{toValue:e,duration:n,delay:r,onComplete:l}=t;return DS({startValue:this._currentCursorOpacity,endValue:e,duration:n,delay:r,onComplete:l,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:h=>{this._currentCursorOpacity=h,this.renderCursorOrSelection()}})}_tick(t){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(t||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var t;(t=this._currentTickCompleteState)===null||t===void 0||t.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(t){this.abortCursorAnimation(),this._tick(t?0:this.cursorDelay)}abortCursorAnimation(){let t=!1;[this._currentTickState,this._currentTickCompleteState].forEach(e=>{e&&!e.isDone()&&(t=!0,e.abort())}),this._currentCursorOpacity=1,t&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(t=>!t||t.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(t){let e=0,n=t-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)e++,n--;for(;/\S/.test(this._text[n])&&n>-1;)e++,n--;return t-e}findWordBoundaryRight(t){let e=0,n=t;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)e++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)e++,n++;return t+e}findLineBoundaryLeft(t){let e=0,n=t-1;for(;!/\n/.test(this._text[n])&&n>-1;)e++,n--;return t-e}findLineBoundaryRight(t){let e=0,n=t;for(;!/\n/.test(this._text[n])&&n<this._text.length;)e++,n++;return t+e}searchWordBoundary(t,e){const n=this._text;let r=t>0&&this._reSpace.test(n[t])&&(e===-1||!Gv.test(n[t-1]))?t-1:t,l=n[r];for(;r>0&&r<n.length&&!C3.test(l);)r+=e,l=n[r];return e===-1&&C3.test(l)&&r++,r}selectWord(t){t=t||this.selectionStart;const e=this.searchWordBoundary(t,-1),n=Math.max(e,this.searchWordBoundary(t,1));this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(t){t=t||this.selectionStart;const e=this.findLineBoundaryLeft(t),n=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(t){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",t?{e:t}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:t}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(t){if(this.getActiveControl())return;const e=this.hiddenTextarea;Vr(e).activeElement!==e&&e.focus();const n=this.getSelectionStartFromPointer(t),r=this.selectionStart,l=this.selectionEnd;(n===this.__selectionStartOnMouseDown&&r!==l||r!==n&&l!==n)&&(n>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=n):(this.selectionStart=n,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===r&&this.selectionEnd===l||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(t,e,n){const r=n.slice(0,t),l=this.graphemeSplit(r).length;if(t===e)return{selectionStart:l,selectionEnd:l};const h=n.slice(t,e);return{selectionStart:l,selectionEnd:l+this.graphemeSplit(h).length}}fromGraphemeToStringSelection(t,e,n){const r=n.slice(0,t).join("").length;return t===e?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+n.slice(t,e).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const t=this.hiddenTextarea;this.text=t.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const e=this.fromStringToGraphemeSelection(t.selectionStart,t.selectionEnd,t.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),n=this.get2DCursorLocation(t),r=n.lineIndex,l=n.charIndex,h=this.getValueOfPropertyAt(r,l,"fontSize")*this.lineHeight,f=e.leftOffset,d=this.getCanvasRetinaScaling(),p=this.canvas.upperCanvasEl,v=p.width/d,b=p.height/d,A=v-h,S=b-h,x=new bt(e.left+f,e.top+e.topOffset+h).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new bt(p.clientWidth/v,p.clientHeight/b));return x.x<0&&(x.x=0),x.x>A&&(x.x=A),x.y<0&&(x.y=0),x.y>S&&(x.y=S),x.x+=this.canvas._offset.left,x.y+=this.canvas._offset.top,{left:"".concat(x.x,"px"),top:"".concat(x.y,"px"),fontSize:"".concat(h,"px"),charHeight:h}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const t=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const t=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),t&&this.fire(hm),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const t in this.styles)this._textLines[t]||delete this.styles[t]}removeStyleFromTo(t,e){const{lineIndex:n,charIndex:r}=this.get2DCursorLocation(t,!0),{lineIndex:l,charIndex:h}=this.get2DCursorLocation(e,!0);if(n!==l){if(this.styles[n])for(let f=r;f<this._unwrappedTextLines[n].length;f++)delete this.styles[n][f];if(this.styles[l])for(let f=h;f<this._unwrappedTextLines[l].length;f++){const d=this.styles[l][f];d&&(this.styles[n]||(this.styles[n]={}),this.styles[n][r+f-h]=d)}for(let f=n+1;f<=l;f++)delete this.styles[f];this.shiftLineStyles(l,n-l)}else if(this.styles[n]){const f=this.styles[n],d=h-r;for(let p=r;p<h;p++)delete f[p];for(const p in this.styles[n]){const v=parseInt(p,10);v>=h&&(f[v-d]=f[p],delete f[p])}}}shiftLineStyles(t,e){const n=Object.assign({},this.styles);for(const r in this.styles){const l=parseInt(r,10);l>t&&(this.styles[l+e]=n[l],n[l-e]||delete this.styles[l])}}insertNewlineStyleObject(t,e,n,r){const l={},h=this._unwrappedTextLines[t].length,f=h===e;let d=!1;n||(n=1),this.shiftLineStyles(t,n);const p=this.styles[t]?this.styles[t][e===0?e:e-1]:void 0;for(const b in this.styles[t]){const A=parseInt(b,10);A>=e&&(d=!0,l[A-e]=this.styles[t][b],f&&e===0||delete this.styles[t][b])}let v=!1;for(d&&!f&&(this.styles[t+n]=l,v=!0),(v||h>e)&&n--;n>0;)r&&r[n-1]?this.styles[t+n]={0:st({},r[n-1])}:p?this.styles[t+n]={0:st({},p)}:delete this.styles[t+n],n--;this._forceClearCache=!0}insertCharStyleObject(t,e,n,r){this.styles||(this.styles={});const l=this.styles[t],h=l?st({},l):{};n||(n=1);for(const d in h){const p=parseInt(d,10);p>=e&&(l[p+n]=h[p],h[p-n]||delete l[p])}if(this._forceClearCache=!0,r){for(;n--;)Object.keys(r[n]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+n]=st({},r[n]));return}if(!l)return;const f=l[e?e-1:1];for(;f&&n--;)this.styles[t][e+n]=st({},f)}insertNewStyleBlock(t,e,n){const r=this.get2DCursorLocation(e,!0),l=[0];let h,f=0;for(let d=0;d<t.length;d++)t[d]===`
`?(f++,l[f]=0):l[f]++;for(l[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,l[0],n),n=n&&n.slice(l[0]+1)),f&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+l[0],f),h=1;h<f;h++)l[h]>0?this.insertCharStyleObject(r.lineIndex+h,0,l[h],n):n&&this.styles[r.lineIndex+h]&&n[0]&&(this.styles[r.lineIndex+h][0]=n[0]),n=n&&n.slice(l[h]+1);l[h]>0&&this.insertCharStyleObject(r.lineIndex+h,0,l[h],n)}removeChars(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t+1;this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;r>n&&this.removeStyleFromTo(n,r);const l=this.graphemeSplit(t);this.insertNewStyleBlock(l,n,e),this._text=[...this._text.slice(0,n),...l,...this._text.slice(r)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(t,e,n){n<=t?(e===t?this._selectionDirection=Re:this._selectionDirection===Mn&&(this._selectionDirection=Re,this.selectionEnd=t),this.selectionStart=n):n>t&&n<e?this._selectionDirection===Mn?this.selectionEnd=n:this.selectionStart=n:(e===t?this._selectionDirection=Mn:this._selectionDirection===Re&&(this._selectionDirection=Mn,this.selectionStart=e),this.selectionEnd=n)}}class SE extends _E{initHiddenTextarea(){const t=this.canvas&&Vr(this.canvas.getElement())||Gh(),e=t.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(h=>{let[f,d]=h;return e.setAttribute(f,d)});const{top:n,left:r,fontSize:l}=this._calcTextareaPosition();e.style.cssText="position: absolute; top: ".concat(n,"; left: ").concat(r,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(l,";"),(this.hiddenTextareaContainer||t.body).appendChild(e),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(h=>{let[f,d]=h;return e.addEventListener(f,this[d].bind(this))}),this.hiddenTextarea=e}blur(){this.abortCursorAnimation()}onKeyDown(t){if(!this.isEditing)return;const e=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(t){const e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),!this.isEditing)return;const n=()=>{this.updateFromTextArea(),this.fire(um),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void n();const r=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,l=this._text.length,h=r.length,f=this.selectionStart,d=this.selectionEnd,p=f!==d;let v,b,A,S,x=h-l;const w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),M=f>w.selectionStart;p?(b=this._text.slice(f,d),x+=d-f):h<l&&(b=M?this._text.slice(d+x,d):this._text.slice(f,f-x));const D=r.slice(w.selectionEnd-x,w.selectionEnd);if(b&&b.length&&(D.length&&(v=this.getSelectionStyles(f,f+1,!1),v=D.map(()=>v[0])),p?(A=f,S=d):M?(A=d-b.length,S=d):(A=d,S=d+b.length),this.removeStyleFromTo(A,S)),D.length){const{copyPasteData:T}=Ps();e&&D.join("")===T.copiedText&&!_e.disableStyleCopyPaste&&(v=T.copiedTextStyle),this.insertNewStyleBlock(D,f,v)}n()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(t){let{target:e}=t;const{selectionStart:n,selectionEnd:r}=e;this.compositionStart=n,this.compositionEnd=r,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:t}=Ps();t.copiedText=this.getSelectedText(),_e.disableStyleCopyPaste?t.copiedTextStyle=void 0:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(t,e){let n,r=this._getLineLeftOffset(t);return e>0&&(n=this.__charBounds[t][e-1],r+=n.left+n.width),r}getDownCursorOffset(t,e){const n=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(n),l=r.lineIndex;if(l===this._textLines.length-1||t.metaKey||t.keyCode===34)return this._text.length-n;const h=r.charIndex,f=this._getWidthBeforeCursor(l,h),d=this._getIndexOnLine(l+1,f);return this._textLines[l].slice(h).length+d+1+this.missingNewlineOffset(l)}_getSelectionForOffset(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart}getUpCursorOffset(t,e){const n=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(n),l=r.lineIndex;if(l===0||t.metaKey||t.keyCode===33)return-n;const h=r.charIndex,f=this._getWidthBeforeCursor(l,h),d=this._getIndexOnLine(l-1,f),p=this._textLines[l].slice(0,h),v=this.missingNewlineOffset(l-1);return-this._textLines[l-1].length+d-p.length+(1-v)}_getIndexOnLine(t,e){const n=this._textLines[t];let r,l,h=this._getLineLeftOffset(t),f=0;for(let d=0,p=n.length;d<p;d++)if(r=this.__charBounds[t][d].width,h+=r,h>e){l=!0;const v=h-r,b=h,A=Math.abs(v-e);f=Math.abs(b-e)<A?d:d-1;break}return l||(f=n.length-1),f}moveCursorDown(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)}moveCursorUp(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",t)}_moveCursorUpOrDown(t,e){const n=this["get".concat(t,"CursorOffset")](e,this._selectionDirection===Mn);if(e.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),n!==0){const r=this.text.length;this.selectionStart=jh(0,this.selectionStart,r),this.selectionEnd=jh(0,this.selectionEnd,r),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(t){const e=this._selectionDirection===Re?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),t!==0}moveCursorWithoutShift(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),t!==0}moveCursorLeft(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",t)}_move(t,e,n){let r;if(t.altKey)r=this["findWordBoundary".concat(n)](this[e]);else{if(!t.metaKey&&t.keyCode!==35&&t.keyCode!==36)return this[e]+=n==="Left"?-1:1,!0;r=this["findLineBoundary".concat(n)](this[e])}return r!==void 0&&this[e]!==r&&(this[e]=r,!0)}_moveLeft(t,e){return this._move(t,e,"Left")}_moveRight(t,e){return this._move(t,e,"Right")}moveCursorLeftWithoutShift(t){let e=!0;return this._selectionDirection=Re,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e}moveCursorLeftWithShift(t){return this._selectionDirection===Mn&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Re,this._moveLeft(t,"selectionStart")):void 0}moveCursorRight(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)}_moveCursorLeftOrRight(t,e){const n="moveCursor".concat(t).concat(e.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[n](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(t){return this._selectionDirection===Re&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Mn,this._moveRight(t,"selectionEnd")):void 0}moveCursorRightWithoutShift(t){let e=!0;return this._selectionDirection=Mn,this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e}}const C2=a=>!!a.button;class AE extends SE{constructor(){super(...arguments),at(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new bE(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(t){return this.draggableTextDelegate.onDragStart(t)}canDrop(t){return this.draggableTextDelegate.canDrop(t)}onMouseDown(t){if(!this.canvas)return;this.__newClickTime=+new Date;const e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),Z2(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y}doubleClickHandler(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))}tripleClickHandler(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))}_mouseDownHandler(t){let{e}=t;this.canvas&&this.editable&&!C2(e)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(e)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(t){let{e}=t;this.canvas&&this.editable&&!C2(e)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(t){let{e,transform:n}=t;const r=this.draggableTextDelegate.end(e);if(this.canvas){this.canvas.textEditingManager.unregister(this);const l=this.canvas._activeObject;if(l&&l!==this)return}!this.editable||this.group&&!this.group.interactive||n&&n.actionPerformed||C2(e)||r||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(t){const e=this.getSelectionStartFromPointer(t),n=this.selectionStart,r=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(n,r,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(t){const e=this.canvas.getScenePoint(t).transform(Xr(this.calcTransformMatrix())).add(new bt(-this._getLeftOffset(),-this._getTopOffset()));let n=0,r=0,l=0;for(let p=0;p<this._textLines.length&&n<=e.y;p++)n+=this.getHeightOfLine(p),l=p,p>0&&(r+=this._textLines[p-1].length+this.missingNewlineOffset(p-1));let h=Math.abs(this._getLineLeftOffset(l));const f=this._textLines[l].length,d=this.__charBounds[l];for(let p=0;p<f;p++){const v=h+d[p].kernedWidth;if(e.x<=v){Math.abs(e.x-v)<=Math.abs(e.x-h)&&r++;break}h=v,r++}return Math.min(this.flipX?f-r:r,this._text.length)}}const C1="moveCursorUp",T1="moveCursorDown",E1="moveCursorLeft",w1="moveCursorRight",O1="exitEditing",xE=st({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:O1,27:O1,33:C1,34:T1,35:w1,36:E1,37:E1,38:C1,39:w1,40:T1},keysMapRtl:{9:O1,27:O1,33:C1,34:T1,35:E1,36:w1,37:w1,38:C1,39:E1,40:T1},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class Ro extends AE{static getDefaults(){return st(st({},super.getDefaults()),Ro.ownDefaults)}get type(){const t=super.type;return t==="itext"?"i-text":t}constructor(t,e){super(t,st(st({},Ro.ownDefaults),e)),this.initBehavior()}_set(t,e){return this.isEditing&&this._savedProps&&t in this._savedProps?(this._savedProps[t]=e,this):(t==="canvas"&&(this.canvas instanceof av&&this.canvas.textEditingManager.remove(this),e instanceof av&&e.textEditingManager.add(this)),super._set(t,e))}setSelectionStart(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)}setSelectionEnd(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)}_updateAndFire(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(t,e,n)}setSelectionStyles(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(t,e,n)}get2DCursorLocation(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(t,e)}render(t){super.render(t),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(t){const e=this.isEditing;this.isEditing=!1;const n=super.toCanvasElement(t);return this.isEditing=e,n}renderCursorOrSelection(){if(!this.isEditing)return;const t=this.clearContextTop(!0);if(!t)return;const e=this._getCursorBoundaries();this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(t,e):this.renderCursor(t,e),this.canvas.contextTopDirty=!0,t.restore()}_getCursorBoundaries(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;const n=this._getLeftOffset(),r=this._getTopOffset(),l=this._getCursorBoundariesOffsets(t,e);return{left:n,top:r,leftOffset:l.left,topOffset:l.top}}_getCursorBoundariesOffsets(t,e){return e?this.__getCursorBoundariesOffsets(t):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(t)}__getCursorBoundariesOffsets(t){let e=0,n=0;const{charIndex:r,lineIndex:l}=this.get2DCursorLocation(t);for(let p=0;p<l;p++)e+=this.getHeightOfLine(p);const h=this._getLineLeftOffset(l),f=this.__charBounds[l][r];f&&(n=f.left),this.charSpacing!==0&&r===this._textLines[l].length&&(n-=this._getWidthOfCharSpacing());const d={top:e,left:h+(n>0?n:0)};return this.direction==="rtl"&&(this.textAlign===Mn||this.textAlign===Us||this.textAlign===u0?d.left*=-1:this.textAlign===Re||this.textAlign===_m?d.left=h-(n>0?n:0):this.textAlign!==oe&&this.textAlign!==h0||(d.left=h-(n>0?n:0))),d}renderCursorAt(t){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(t,!0),t)}renderCursor(t,e){this._renderCursor(t,e,this.selectionStart)}getCursorRenderingData(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(t);const n=this.get2DCursorLocation(t),r=n.lineIndex,l=n.charIndex>0?n.charIndex-1:0,h=this.getValueOfPropertyAt(r,l,"fontSize"),f=this.getObjectScaling().x*this.canvas.getZoom(),d=this.cursorWidth/f,p=this.getValueOfPropertyAt(r,l,"deltaY"),v=e.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-h*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(r,l,"fill"),opacity:this._currentCursorOpacity,left:e.left+e.leftOffset-d/2,top:v+e.top+p,width:d,height:h}}_renderCursor(t,e,n){const{color:r,opacity:l,left:h,top:f,width:d,height:p}=this.getCursorRenderingData(n,e);t.fillStyle=r,t.globalAlpha=l,t.fillRect(h,f,d,p)}renderSelection(t,e){const n={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(t,n,e)}renderDragSourceEffect(){const t=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,t,this._getCursorBoundaries(t.selectionStart,!0))}renderDropTargetEffect(t){const e=this.getSelectionStartFromPointer(t);this.renderCursorAt(e)}_renderSelection(t,e,n){const r=e.selectionStart,l=e.selectionEnd,h=this.textAlign.includes(Us),f=this.get2DCursorLocation(r),d=this.get2DCursorLocation(l),p=f.lineIndex,v=d.lineIndex,b=f.charIndex<0?0:f.charIndex,A=d.charIndex<0?0:d.charIndex;for(let S=p;S<=v;S++){const x=this._getLineLeftOffset(S)||0;let w=this.getHeightOfLine(S),M=0,D=0,T=0;if(S===p&&(D=this.__charBounds[p][b].left),S>=p&&S<v)T=h&&!this.isEndOfWrapping(S)?this.width:this.getLineWidth(S)||5;else if(S===v)if(A===0)T=this.__charBounds[v][A].left;else{const V=this._getWidthOfCharSpacing();T=this.__charBounds[v][A-1].left+this.__charBounds[v][A-1].width-V}M=w,(this.lineHeight<1||S===v&&this.lineHeight>1)&&(w/=this.lineHeight);let O=n.left+x+D,R=w,z=0;const H=T-D;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",R=1,z=w):t.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Mn||this.textAlign===Us||this.textAlign===u0?O=this.width-O-H:this.textAlign===Re||this.textAlign===_m?O=n.left+x-T:this.textAlign!==oe&&this.textAlign!==h0||(O=n.left+x-T)),t.fillRect(O,n.top+n.topOffset+z,H,R),n.topOffset+=M}}getCurrentCharFontSize(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")}getCurrentCharColor(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,Vn)}_getCurrentCharIndex(){const t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}at(Ro,"ownDefaults",xE),at(Ro,"type","IText"),zt.setClass(Ro),zt.setClass(Ro,"i-text");class iu extends Ro{static getDefaults(){return st(st({},super.getDefaults()),iu.ownDefaults)}constructor(t,e){super(t,st(st({},iu.ownDefaults),e))}static createControls(){return{controls:$7()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(Us)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(t){let e=0,n=0,r=0;const l={};for(let h=0;h<t.graphemeLines.length;h++)t.graphemeText[r]===`
`&&h>0?(n=0,r++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[r])&&h>0&&(n++,r++),l[h]={line:e,offset:n},r+=t.graphemeLines[h].length,n+=t.graphemeLines[h].length;return l}styleHas(t,e){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[e];n&&(e=n.line)}return super.styleHas(t,e)}isEmptyStyles(t){if(!this.styles)return!0;let e,n=0,r=t+1,l=!1;const h=this._styleMap[t],f=this._styleMap[t+1];h&&(t=h.line,n=h.offset),f&&(r=f.line,l=r===t,e=f.offset);const d=t===void 0?this.styles:{line:this.styles[t]};for(const p in d)for(const v in d[p]){const b=parseInt(v,10);if(b>=n&&(!l||b<e))for(const A in d[p][v])return!1}return!0}_getStyleDeclaration(t,e){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[t];if(!n)return{};t=n.line,e=n.offset+e}return super._getStyleDeclaration(t,e)}_setStyleDeclaration(t,e,n){const r=this._styleMap[t];super._setStyleDeclaration(r.line,r.offset+e,n)}_deleteStyleDeclaration(t,e){const n=this._styleMap[t];super._deleteStyleDeclaration(n.line,n.offset+e)}_getLineStyle(t){const e=this._styleMap[t];return!!this.styles[e.line]}_setLineStyle(t){const e=this._styleMap[t];super._setLineStyle(e.line)}_wrapText(t,e){this.isWrapping=!0;const n=this.getGraphemeDataForRender(t),r=[];for(let l=0;l<n.wordsData.length;l++)r.push(...this._wrapLine(l,e,n));return this.isWrapping=!1,r}getGraphemeDataForRender(t){const e=this.splitByGrapheme,n=e?"":" ";let r=0;return{wordsData:t.map((l,h)=>{let f=0;const d=e?this.graphemeSplit(l):this.wordSplit(l);return d.length===0?[{word:[],width:0}]:d.map(p=>{const v=e?[p]:this.graphemeSplit(p),b=this._measureWord(v,h,f);return r=Math.max(b,r),f+=v.length+n.length,{word:v,width:b}})}),largestWordWidth:r}}_measureWord(t,e){let n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=0;for(let h=0,f=t.length;h<f;h++)l+=this._getGraphemeBox(t[h],e,h+r,n,!0).kernedWidth,n=t[h];return l}wordSplit(t){return t.split(this._wordJoiners)}_wrapLine(t,e,n){let{largestWordWidth:r,wordsData:l}=n,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const f=this._getWidthOfCharSpacing(),d=this.splitByGrapheme,p=[],v=d?"":" ";let b=0,A=[],S=0,x=0,w=!0;e-=h;const M=Math.max(e,r,this.dynamicMinWidth),D=l[t];let T;for(S=0,T=0;T<D.length;T++){const{word:O,width:R}=D[T];S+=O.length,b+=x+R-f,b>M&&!w?(p.push(A),A=[],b=R,w=!0):b+=f,w||d||A.push(v),A=A.concat(O),x=d?0:this._measureWord([v],t,S),S++,w=!1}return T&&p.push(A),r+h>this.dynamicMinWidth&&(this.dynamicMinWidth=r-f+h),p}isEndOfWrapping(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line}missingNewlineOffset(t,e){return this.splitByGrapheme&&!e?this.isEndOfWrapping(t)?1:0:1}_splitTextIntoLines(t){const e=super._splitTextIntoLines(t),n=this._wrapText(e.lines,this.width),r=new Array(n.length);for(let l=0;l<n.length;l++)r[l]=n[l].join("");return e.lines=r,e.graphemeLines=n,e}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const t=new Map;for(const e in this._styleMap){const n=parseInt(e,10);if(this._textLines[n]){const r=this._styleMap[e].line;t.set("".concat(r),!0)}}for(const e in this.styles)t.has(e)||delete this.styles[e]}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...t])}}at(iu,"type","Textbox"),at(iu,"textLayoutProperties",[...Ro.textLayoutProperties,"width"]),at(iu,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),zt.setClass(iu);class T3 extends Qm{shouldPerformLayout(t){return!!t.target.clipPath&&super.shouldPerformLayout(t)}shouldLayoutClipPath(){return!1}calcLayoutResult(t,e){const{target:n}=t,{clipPath:r,group:l}=n;if(!r||!this.shouldPerformLayout(t))return;const{width:h,height:f}=No(GS(n,r)),d=new bt(h,f);if(r.absolutePositioned)return{center:Oh(r.getRelativeCenterPoint(),void 0,l?l.calcTransformMatrix():void 0),size:d};{const p=r.getRelativeCenterPoint().transform(n.calcOwnMatrix(),!0);if(this.shouldPerformLayout(t)){const{center:v=new bt,correction:b=new bt}=this.calcBoundingBox(e,t)||{};return{center:v.add(p),correction:b.subtract(p),size:d}}return{center:n.getRelativeCenterPoint().add(p),size:d}}}}at(T3,"type","clip-path"),zt.setClass(T3);class E3 extends Qm{getInitialSize(t,e){let{target:n}=t,{size:r}=e;return new bt(n.width||r.x,n.height||r.y)}}at(E3,"type","fixed"),zt.setClass(E3);class CE extends b0{subscribeTargets(t){const e=t.target;t.targets.reduce((n,r)=>(r.parent&&n.add(r.parent),n),new Set).forEach(n=>{n.layoutManager.subscribeTargets({target:n,targets:[e]})})}unsubscribeTargets(t){const e=t.target,n=e.getObjects();t.targets.reduce((r,l)=>(l.parent&&r.add(l.parent),r),new Set).forEach(r=>{!n.some(l=>l.parent===r)&&r.layoutManager.unsubscribeTargets({target:r,targets:[e]})})}}class au extends ru{static getDefaults(){return st(st({},super.getDefaults()),au.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,au.ownDefaults),this.setOptions(e);const{left:n,top:r,layoutManager:l}=e;this.groupInit(t,{left:n,top:r,layoutManager:l??new CE})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.multiSelectionStacking==="selection-order"?this.add(...e):e.forEach(r=>{const l=this._objects.findIndex(f=>f.isInFrontOf(r)),h=l===-1?this.size():l;this.insertAt(h,r)})}canEnterGroup(t){return this.getObjects().some(e=>e.isDescendantOf(t)||t.isDescendantOf(e))?(Xl("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(t)}enterGroup(t,e){t.parent&&t.parent===t.group?t.parent._exitGroup(t):t.group&&t.parent!==t.group&&t.group.remove(t),this._enterGroup(t,e)}exitGroup(t,e){this._exitGroup(t,e),t.parent&&t.parent._enterGroup(t,!0)}_onAfterObjectsChange(t,e){super._onAfterObjectsChange(t,e);const n=new Set;e.forEach(r=>{const{parent:l}=r;l&&n.add(l)}),t===$v?n.forEach(r=>{r._onAfterObjectsChange(vm,e)}):n.forEach(r=>{r._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(t,e,n){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const r=st(st({hasControls:!1},n),{},{forActiveSelection:!0});for(let l=0;l<this._objects.length;l++)this._objects[l]._renderControls(t,r);super._renderControls(t,e),t.restore()}}at(au,"type","ActiveSelection"),at(au,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),zt.setClass(au),zt.setClass(au,"activeSelection");class TE{constructor(){at(this,"resources",{})}applyFilters(t,e,n,r,l){const h=l.getContext("2d");if(!h)return;h.drawImage(e,0,0,n,r);const f={sourceWidth:n,sourceHeight:r,imageData:h.getImageData(0,0,n,r),originalEl:e,originalImageData:h.getImageData(0,0,n,r),canvasEl:l,ctx:h,filterBackend:this};t.forEach(p=>{p.applyTo(f)});const{imageData:d}=f;return d.width===n&&d.height===r||(l.width=d.width,l.height=d.height),h.putImageData(d,0,0),f}}class a4{constructor(){let{tileSize:t=_e.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};at(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),at(this,"resources",{}),this.tileSize=t,this.setupGLContext(t,t),this.captureGPUInfo()}setupGLContext(t,e){this.dispose(),this.createWebGLCanvas(t,e)}createWebGLCanvas(t,e){const n=Fs({width:t,height:e}),r=n.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});r&&(r.clearColor(0,0,0,0),this.canvas=n,this.gl=r)}applyFilters(t,e,n,r,l,h){const f=this.gl,d=l.getContext("2d");if(!f||!d)return;let p;h&&(p=this.getCachedTexture(h,e));const v={originalWidth:e.width||e.naturalWidth||0,originalHeight:e.height||e.naturalHeight||0,sourceWidth:n,sourceHeight:r,destinationWidth:n,destinationHeight:r,context:f,sourceTexture:this.createTexture(f,n,r,p?void 0:e),targetTexture:this.createTexture(f,n,r),originalTexture:p||this.createTexture(f,n,r,p?void 0:e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:l},b=f.createFramebuffer();return f.bindFramebuffer(f.FRAMEBUFFER,b),t.forEach(A=>{A&&A.applyTo(v)}),function(A){const S=A.targetCanvas,x=S.width,w=S.height,M=A.destinationWidth,D=A.destinationHeight;x===M&&w===D||(S.width=M,S.height=D)}(v),this.copyGLTo2D(f,v),f.bindTexture(f.TEXTURE_2D,null),f.deleteTexture(v.sourceTexture),f.deleteTexture(v.targetTexture),f.deleteFramebuffer(b),d.setTransform(1,0,0,1,0,0),v}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(t,e,n,r,l){const{NEAREST:h,TEXTURE_2D:f,RGBA:d,UNSIGNED_BYTE:p,CLAMP_TO_EDGE:v,TEXTURE_MAG_FILTER:b,TEXTURE_MIN_FILTER:A,TEXTURE_WRAP_S:S,TEXTURE_WRAP_T:x}=t,w=t.createTexture();return t.bindTexture(f,w),t.texParameteri(f,b,l||h),t.texParameteri(f,A,l||h),t.texParameteri(f,S,v),t.texParameteri(f,x,v),r?t.texImage2D(f,0,d,d,p,r):t.texImage2D(f,0,d,e,n,0,d,p,null),w}getCachedTexture(t,e,n){const{textureCache:r}=this;if(r[t])return r[t];{const l=this.createTexture(this.gl,e.width,e.height,e,n);return l&&(r[t]=l),l}}evictCachesForKey(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])}copyGLTo2D(t,e){const n=t.canvas,r=e.targetCanvas,l=r.getContext("2d");if(!l)return;l.translate(0,r.height),l.scale(1,-1);const h=n.height-r.height;l.drawImage(n,0,h,r.width,r.height,0,0,r.width,r.height)}copyGLTo2DPutImageData(t,e){const n=e.targetCanvas.getContext("2d"),r=e.destinationWidth,l=e.destinationHeight,h=r*l*4;if(!n)return;const f=new Uint8Array(this.imageBuffer,0,h),d=new Uint8ClampedArray(this.imageBuffer,0,h);t.readPixels(0,0,r,l,t.RGBA,t.UNSIGNED_BYTE,f);const p=new ImageData(d,r,l);n.putImageData(p,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const t=this.gl,e={renderer:"",vendor:""};if(!t)return e;const n=t.getExtension("WEBGL_debug_renderer_info");if(n){const r=t.getParameter(n.UNMASKED_RENDERER_WEBGL),l=t.getParameter(n.UNMASKED_VENDOR_WEBGL);r&&(e.renderer=r.toLowerCase()),l&&(e.vendor=l.toLowerCase())}return this.gpuInfo=e,e}}let T2;function EE(){const{WebGLProbe:a}=Ps();return a.queryWebGL(Kr()),_e.enableGLFiltering&&a.isSupported(_e.textureSize)?new a4({tileSize:_e.textureSize}):new TE}function E2(){return!T2&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(T2=EE()),T2}const wE=["filters","resizeFilter","src","crossOrigin","type"],r4=["cropX","cropY"];class Da extends Mi{static getDefaults(){return st(st({},super.getDefaults()),Da.ownDefaults)}constructor(t,e){super(),at(this,"_lastScaleX",1),at(this,"_lastScaleY",1),at(this,"_filterScalingX",1),at(this,"_filterScalingY",1),this.filters=[],Object.assign(this,Da.ownDefaults),this.setOptions(e),this.cacheKey="texture".concat(ql()),this.setElement(typeof t=="string"?(this.canvas&&Vr(this.canvas.getElement())||Gh()).getElementById(t):t,e)}getElement(){return this._element}setElement(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=t,this._originalElement=t,this._setWidthHeight(e),t.classList.add(Da.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(t){const e=E2(!1);e instanceof a4&&e.evictCachesForKey(t)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(t=>{const e=this[t];e&&Ps().dispose(e),this[t]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const t=this.getElement();return t?{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}:{width:0,height:0}}_stroke(t){if(!this.stroke||this.strokeWidth===0)return;const e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,-n),t.lineTo(e,-n),t.lineTo(e,n),t.lineTo(-e,n),t.lineTo(-e,-n),t.closePath()}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];return this.filters.forEach(n=>{n&&e.push(n.toObject())}),st(st({},super.toObject([...r4,...t])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:e},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const t=[],e=this._element,n=-this.width/2,r=-this.height/2;let l=[],h=[],f="",d="";if(!e)return[];if(this.hasCrop()){const p=ql();l.push('<clipPath id="imageCrop_'+p+`">
`,'	<rect x="'+n+'" y="'+r+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),f=' clip-path="url(#imageCrop_'+p+')" '}if(this.imageSmoothing||(d=' image-rendering="optimizeSpeed"'),t.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(n-this.cropX,'" y="').concat(r-this.cropY,'" width="').concat(e.width||e.naturalWidth,'" height="').concat(e.height||e.naturalHeight,'"').concat(d).concat(f,`></image>
`)),this.stroke||this.strokeDashArray){const p=this.fill;this.fill=null,h=['	<rect x="'.concat(n,'" y="').concat(r,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=p}return l=this.paintFirst!==Vn?l.concat(h,t):l.concat(t,h),l}getSrc(t){const e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src")||"":e.src:this.src||""}getSvgSrc(t){return this.getSrc(t)}setSrc(t){let{crossOrigin:e,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return em(t,{crossOrigin:e,signal:n}).then(r=>{e!==void 0&&this.set({crossOrigin:e}),this.setElement(r)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const t=this.resizeFilter,e=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),r=n.x,l=n.y,h=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||r>e&&l>e)return this._element=h,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=l);const f=Fs(h),{width:d,height:p}=h;this._element=f,this._lastScaleX=t.scaleX=r,this._lastScaleY=t.scaleY=l,E2().applyFilters([t],h,d,p,this._element),this._filterScalingX=f.width/this._originalElement.width,this._filterScalingY=f.height/this._originalElement.height}applyFilters(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(t=t.filter(l=>l&&!l.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),t.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const e=this._originalElement,n=e.naturalWidth||e.width,r=e.naturalHeight||e.height;if(this._element===this._originalElement){const l=Fs({width:n,height:r});this._element=l,this._filteredEl=l}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,r),this._lastScaleX=1,this._lastScaleY=1);E2().applyFilters(t,this._originalElement,n,r,this._element),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(t){t.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)}drawCacheOnCanvas(t){t.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(t)}shouldCache(){return this.needsItsOwnCache()}_renderFill(t){const e=this._element;if(!e)return;const n=this._filterScalingX,r=this._filterScalingY,l=this.width,h=this.height,f=Math.max(this.cropX,0),d=Math.max(this.cropY,0),p=e.naturalWidth||e.width,v=e.naturalHeight||e.height,b=f*n,A=d*r,S=Math.min(l*n,p-b),x=Math.min(h*r,v-A),w=-l/2,M=-h/2,D=Math.min(l,p/n-f),T=Math.min(h,v/r-d);e&&t.drawImage(e,b,A,S,x,w,M,D,T)}_needsResize(){const t=this.getTotalObjectScaling();return t.x!==this._lastScaleX||t.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:t,height:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.getOriginalSize();this.width=t||n.width,this.height=e||n.height}parsePreserveAspectRatioAttribute(){const t=c7(this.preserveAspectRatio||""),e=this.width,n=this.height,r={width:e,height:n};let l,h=this._element.width,f=this._element.height,d=1,p=1,v=0,b=0,A=0,S=0;return!t||t.alignX===fa&&t.alignY===fa?(d=e/h,p=n/f):(t.meetOrSlice==="meet"&&(d=p=NT(this._element,r),l=(e-h*d)/2,t.alignX==="Min"&&(v=-l),t.alignX==="Max"&&(v=l),l=(n-f*p)/2,t.alignY==="Min"&&(b=-l),t.alignY==="Max"&&(b=l)),t.meetOrSlice==="slice"&&(d=p=jT(this._element,r),l=h-e/d,t.alignX==="Mid"&&(A=l/2),t.alignX==="Max"&&(A=l),l=f-n/p,t.alignY==="Mid"&&(S=l/2),t.alignY==="Max"&&(S=l),h=e/d,f=n/p)),{width:h,height:f,scaleX:d,scaleY:p,offsetLeft:v,offsetTop:b,cropX:A,cropY:S}}static fromObject(t,e){let{filters:n,resizeFilter:r,src:l,crossOrigin:h,type:f}=t,d=$e(t,wE);return Promise.all([em(l,st(st({},e),{},{crossOrigin:h})),n&&p0(n,e),r&&p0([r],e),Ym(d,e)]).then(p=>{let[v,b=[],[A]=[],S={}]=p;return new this(v,st(st({},d),{},{src:l,filters:b,resizeFilter:A},S))})}static fromURL(t){let{crossOrigin:e=null,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return em(t,{crossOrigin:e,signal:n}).then(l=>new this(l,r))}static async fromElement(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=Vo(t,this.ATTRIBUTE_NAMES,n);return this.fromURL(r["xlink:href"],e,r).catch(l=>(Xl("log","Unable to parse Image",l),null))}}at(Da,"type","Image"),at(Da,"cacheProperties",[...Fo,...r4]),at(Da,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),at(Da,"CSS_CANVAS","canvas-img"),at(Da,"ATTRIBUTE_NAMES",[...$l,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),zt.setClass(Da),zt.setSVGClass(Da);qm(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const Zm=a=>a.webgl!==void 0,ty="precision highp float",OE=`
    `.concat(ty,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),ME=["type"],DE=["type"],RE=new RegExp(ty,"g");class Yn{get type(){return this.constructor.type}constructor(){let t=$e(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ME);Object.assign(this,this.constructor.defaults,t)}getFragmentSource(){return OE}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:r="highp"}}=Ps();r!=="highp"&&(e=e.replace(RE,ty.replace("highp",r)));const l=t.createShader(t.VERTEX_SHADER),h=t.createShader(t.FRAGMENT_SHADER),f=t.createProgram();if(!l||!h||!f)throw new Hs("Vertex, fragment shader or program creation error");if(t.shaderSource(l,n),t.compileShader(l),!t.getShaderParameter(l,t.COMPILE_STATUS))throw new Hs("Vertex shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(l)));if(t.shaderSource(h,e),t.compileShader(h),!t.getShaderParameter(h,t.COMPILE_STATUS))throw new Hs("Fragment shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(h)));if(t.attachShader(f,l),t.attachShader(f,h),t.linkProgram(f),!t.getProgramParameter(f,t.LINK_STATUS))throw new Hs('Shader link error for "'.concat(this.type,'" ').concat(t.getProgramInfoLog(f)));const d=this.getUniformLocations(t,f)||{};return d.uStepW=t.getUniformLocation(f,"uStepW"),d.uStepH=t.getUniformLocation(f,"uStepH"),{program:f,attributeLocations:this.getAttributeLocations(t,f),uniformLocations:d}}getAttributeLocations(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}}getUniformLocations(t,e){const n=this.constructor.uniformLocations,r={};for(let l=0;l<n.length;l++)r[n[l]]=t.getUniformLocation(e,n[l]);return r}sendAttributeData(t,e,n){const r=e.aPosition,l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)}_setupFrameBuffer(t){const e=t.context;if(t.passes>1){const n=t.destinationWidth,r=t.destinationHeight;t.sourceWidth===n&&t.sourceHeight===r||(e.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(e,n,r)),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.targetTexture,0)}else e.bindFramebuffer(e.FRAMEBUFFER,null),e.finish()}_swapTextures(t){t.passes--,t.pass++;const e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e}isNeutralState(t){return!1}applyTo(t){Zm(t)?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){}getCacheKey(){return this.type}retrieveShader(t){const e=this.getCacheKey();return t.programCache[e]||(t.programCache[e]=this.createProgram(t.context)),t.programCache[e]}applyToWebGL(t){const e=t.context,n=this.retrieveShader(t);t.pass===0&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(n.program),this.sendAttributeData(e,n.attributeLocations,t.aPosition),e.uniform1f(n.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(n.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,n.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(t,e,n){t.activeTexture(n),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)}unbindAdditionalTexture(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)}sendUniformData(t,e){}createHelpLayer(t){if(!t.helpLayer){const{sourceWidth:e,sourceHeight:n}=t,r=Fs({width:e,height:n});t.helpLayer=r}}toObject(){const t=Object.keys(this.constructor.defaults||{});return st({type:this.type},t.reduce((e,n)=>(e[n]=this[n],e),{}))}toJSON(){return this.toObject()}static async fromObject(t,e){return new this($e(t,DE))}}at(Yn,"type","BaseFilter"),at(Yn,"uniformLocations",[]);const NE={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class M1 extends Yn{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(NE[this.mode],`
        }
      }
      `)}applyTo2d(t){let{imageData:{data:e}}=t;const n=new Be(this.color).getSource(),r=this.alpha,l=n[0]*r,h=n[1]*r,f=n[2]*r,d=1-r;for(let p=0;p<e.length;p+=4){const v=e[p],b=e[p+1],A=e[p+2];let S,x,w;switch(this.mode){case"multiply":S=v*l/255,x=b*h/255,w=A*f/255;break;case"screen":S=255-(255-v)*(255-l)/255,x=255-(255-b)*(255-h)/255,w=255-(255-A)*(255-f)/255;break;case"add":S=v+l,x=b+h,w=A+f;break;case"difference":S=Math.abs(v-l),x=Math.abs(b-h),w=Math.abs(A-f);break;case"subtract":S=v-l,x=b-h,w=A-f;break;case"darken":S=Math.min(v,l),x=Math.min(b,h),w=Math.min(A,f);break;case"lighten":S=Math.max(v,l),x=Math.max(b,h),w=Math.max(A,f);break;case"overlay":S=l<128?2*v*l/255:255-2*(255-v)*(255-l)/255,x=h<128?2*b*h/255:255-2*(255-b)*(255-h)/255,w=f<128?2*A*f/255:255-2*(255-A)*(255-f)/255;break;case"exclusion":S=l+v-2*l*v/255,x=h+b-2*h*b/255,w=f+A-2*f*A/255;break;case"tint":S=l+v*d,x=h+b*d,w=f+A*d}e[p]=S,e[p+1]=x,e[p+2]=w}}sendUniformData(t,e){const n=new Be(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,t.uniform4fv(e.uColor,n)}}at(M1,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),at(M1,"type","BlendColor"),at(M1,"uniformLocations",["uColor"]),zt.setClass(M1);const jE={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},zE=["type","image"];class D1 extends Yn{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return jE[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(t){const e=t.context,n=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,n,e.TEXTURE1),super.applyToWebGL(t),this.unbindAdditionalTexture(e,e.TEXTURE1)}createTexture(t,e){return t.getCachedTexture(e.cacheKey,e.getElement())}calculateMatrix(){const t=this.image,{width:e,height:n}=t.getElement();return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/n,1]}applyTo2d(t){let{imageData:{data:e,width:n,height:r},filterBackend:{resources:l}}=t;const h=this.image;l.blendImage||(l.blendImage=Kr());const f=l.blendImage,d=f.getContext("2d");f.width!==n||f.height!==r?(f.width=n,f.height=r):d.clearRect(0,0,n,r),d.setTransform(h.scaleX,0,0,h.scaleY,h.left,h.top),d.drawImage(h.getElement(),0,0,n,r);const p=d.getImageData(0,0,n,r).data;for(let v=0;v<e.length;v+=4){const b=e[v],A=e[v+1],S=e[v+2],x=e[v+3],w=p[v],M=p[v+1],D=p[v+2],T=p[v+3];switch(this.mode){case"multiply":e[v]=b*w/255,e[v+1]=A*M/255,e[v+2]=S*D/255,e[v+3]=x*T/255;break;case"mask":e[v+3]=T}}}sendUniformData(t,e){const n=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,n)}toObject(){return st(st({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(t,e){let{type:n,image:r}=t,l=$e(t,zE);return Da.fromObject(r,e).then(h=>new this(st(st({},l),{},{image:h})))}}at(D1,"type","BlendImage"),at(D1,"defaults",{mode:"multiply",alpha:1}),at(D1,"uniformLocations",["uTransformMatrix","uImage"]),zt.setClass(D1);class R1 extends Yn{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(t){Zm(t)?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){t.imageData=this.simpleBlur(t)}simpleBlur(t){let{ctx:e,imageData:n,filterBackend:{resources:r}}=t;const{width:l,height:h}=n;r.blurLayer1||(r.blurLayer1=Kr(),r.blurLayer2=Kr());const f=r.blurLayer1,d=r.blurLayer2;f.width===l&&f.height===h||(d.width=f.width=l,d.height=f.height=h);const p=f.getContext("2d"),v=d.getContext("2d"),b=15,A=.06*this.blur*.5;let S,x,w,M;for(p.putImageData(n,0,0),v.clearRect(0,0,l,h),M=-15;M<=b;M++)S=(Math.random()-.5)/4,x=M/b,w=A*x*l+S,v.globalAlpha=1-Math.abs(x),v.drawImage(f,w,S),p.drawImage(d,0,0),v.globalAlpha=1,v.clearRect(0,0,d.width,d.height);for(M=-15;M<=b;M++)S=(Math.random()-.5)/4,x=M/b,w=A*x*h+S,v.globalAlpha=1-Math.abs(x),v.drawImage(f,S,w),p.drawImage(d,0,0),v.globalAlpha=1,v.clearRect(0,0,d.width,d.height);e.drawImage(f,0,0);const D=e.getImageData(0,0,f.width,f.height);return p.globalAlpha=1,p.clearRect(0,0,f.width,f.height),D}sendUniformData(t,e){const n=this.chooseRightDelta();t.uniform2fv(e.uDelta,n)}isNeutralState(){return this.blur===0}chooseRightDelta(){let t=1;const e=[0,0];this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio);const n=t*this.blur*.12;return this.horizontal?e[0]=n:e[1]=n,e}}at(R1,"type","Blur"),at(R1,"defaults",{blur:0}),at(R1,"uniformLocations",["uDelta"]),zt.setClass(R1);class N1 extends Yn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const n=Math.round(255*this.brightness);for(let r=0;r<e.length;r+=4)e[r]+=n,e[r+1]+=n,e[r+2]+=n}isNeutralState(){return this.brightness===0}sendUniformData(t,e){t.uniform1f(e.uBrightness,this.brightness)}}at(N1,"type","Brightness"),at(N1,"defaults",{brightness:0}),at(N1,"uniformLocations",["uBrightness"]),zt.setClass(N1);const s4={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class Eh extends Yn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(t){const e=t.imageData.data,n=this.matrix,r=this.colorsOnly;for(let l=0;l<e.length;l+=4){const h=e[l],f=e[l+1],d=e[l+2];if(e[l]=h*n[0]+f*n[1]+d*n[2]+255*n[4],e[l+1]=h*n[5]+f*n[6]+d*n[7]+255*n[9],e[l+2]=h*n[10]+f*n[11]+d*n[12]+255*n[14],!r){const p=e[l+3];e[l]+=p*n[3],e[l+1]+=p*n[8],e[l+2]+=p*n[13],e[l+3]=h*n[15]+f*n[16]+d*n[17]+p*n[18]+255*n[19]}}}sendUniformData(t,e){const n=this.matrix,r=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],l=[n[4],n[9],n[14],n[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,r),t.uniform4fv(e.uConstants,l)}toObject(){return st(st({},super.toObject()),{},{matrix:[...this.matrix]})}}function du(a,t){var e;const n=(at(e=class extends Eh{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",a),at(e,"defaults",{colorsOnly:!1,matrix:t}),e);return zt.setClass(n,a),n}at(Eh,"type","ColorMatrix"),at(Eh,"defaults",s4),at(Eh,"uniformLocations",["uColorMatrix","uConstants"]),zt.setClass(Eh);du("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);du("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);du("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);du("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);du("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);du("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);du("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class w3 extends Yn{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.subFilters=t.subFilters||[]}applyTo(t){Zm(t)&&(t.passes+=this.subFilters.length-1),this.subFilters.forEach(e=>{e.applyTo(t)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(t=>t.toObject())}}isNeutralState(){return!this.subFilters.some(t=>!t.isNeutralState())}static fromObject(t,e){return Promise.all((t.subFilters||[]).map(n=>zt.getClass(n.type).fromObject(n,e))).then(n=>new this({subFilters:n}))}}at(w3,"type","Composed"),zt.setClass(w3);class j1 extends Yn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(t){let{imageData:{data:e}}=t;const n=Math.floor(255*this.contrast),r=259*(n+255)/(255*(259-n));for(let l=0;l<e.length;l+=4)e[l]=r*(e[l]-128)+128,e[l+1]=r*(e[l+1]-128)+128,e[l+2]=r*(e[l+2]-128)+128}sendUniformData(t,e){t.uniform1f(e.uContrast,this.contrast)}}at(j1,"type","Contrast"),at(j1,"defaults",{contrast:0}),at(j1,"uniformLocations",["uContrast"]),zt.setClass(j1);const BE={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class z1 extends Yn{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return BE[this.getCacheKey()]}applyTo2d(t){const e=t.imageData,n=e.data,r=this.matrix,l=Math.round(Math.sqrt(r.length)),h=Math.floor(l/2),f=e.width,d=e.height,p=t.ctx.createImageData(f,d),v=p.data,b=this.opaque?1:0;let A,S,x,w,M,D,T,O,R,z,H,V,P;for(H=0;H<d;H++)for(z=0;z<f;z++){for(M=4*(H*f+z),A=0,S=0,x=0,w=0,P=0;P<l;P++)for(V=0;V<l;V++)T=H+P-h,D=z+V-h,T<0||T>=d||D<0||D>=f||(O=4*(T*f+D),R=r[P*l+V],A+=n[O]*R,S+=n[O+1]*R,x+=n[O+2]*R,b||(w+=n[O+3]*R));v[M]=A,v[M+1]=S,v[M+2]=x,v[M+3]=b?n[M+3]:w}t.imageData=p}sendUniformData(t,e){t.uniform1fv(e.uMatrix,this.matrix)}toObject(){return st(st({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}at(z1,"type","Convolute"),at(z1,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),at(z1,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),zt.setClass(z1);const o4="Gamma";class B1 extends Yn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.gamma=t.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(t){let{imageData:{data:e}}=t;const n=this.gamma,r=1/n[0],l=1/n[1],h=1/n[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const f=this.rgbValues;for(let d=0;d<256;d++)f.r[d]=255*Math.pow(d/255,r),f.g[d]=255*Math.pow(d/255,l),f.b[d]=255*Math.pow(d/255,h);for(let d=0;d<e.length;d+=4)e[d]=f.r[e[d]],e[d+1]=f.g[e[d+1]],e[d+2]=f.b[e[d+2]]}sendUniformData(t,e){t.uniform3fv(e.uGamma,this.gamma)}isNeutralState(){const{gamma:t}=this;return t[0]===1&&t[1]===1&&t[2]===1}toObject(){return{type:o4,gamma:this.gamma.concat()}}}at(B1,"type",o4),at(B1,"defaults",{gamma:[1,1,1]}),at(B1,"uniformLocations",["uGamma"]),zt.setClass(B1);const LE={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class L1 extends Yn{applyTo2d(t){let{imageData:{data:e}}=t;for(let n,r=0;r<e.length;r+=4){const l=e[r],h=e[r+1],f=e[r+2];switch(this.mode){case"average":n=(l+h+f)/3;break;case"lightness":n=(Math.min(l,h,f)+Math.max(l,h,f))/2;break;case"luminosity":n=.21*l+.72*h+.07*f}e[r+2]=e[r+1]=e[r]=n}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return LE[this.mode]}sendUniformData(t,e){t.uniform1i(e.uMode,1)}isNeutralState(){return!1}}at(L1,"type","Grayscale"),at(L1,"defaults",{mode:"average"}),at(L1,"uniformLocations",["uMode"]),zt.setClass(L1);const UE=st(st({},s4),{},{rotation:0});class w2 extends Eh{calculateMatrix(){const t=this.rotation*Math.PI,e=Bo(t),n=Lo(t),r=1/3,l=Math.sqrt(r)*n,h=1-e;this.matrix=[e+h/3,r*h-l,r*h+l,0,0,r*h+l,e+r*h,r*h-l,0,0,r*h-l,r*h+l,e+r*h,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(t){this.calculateMatrix(),super.applyTo(t)}toObject(){return{type:this.type,rotation:this.rotation}}}at(w2,"type","HueRotation"),at(w2,"defaults",UE),zt.setClass(w2);class U1 extends Yn{applyTo2d(t){let{imageData:{data:e}}=t;for(let n=0;n<e.length;n+=4)e[n]=255-e[n],e[n+1]=255-e[n+1],e[n+2]=255-e[n+2],this.alpha&&(e[n+3]=255-e[n+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(t,e){t.uniform1i(e.uInvert,Number(this.invert)),t.uniform1i(e.uAlpha,Number(this.alpha))}}at(U1,"type","Invert"),at(U1,"defaults",{alpha:!1,invert:!0}),at(U1,"uniformLocations",["uInvert","uAlpha"]),zt.setClass(U1);class G1 extends Yn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const n=this.noise;for(let r=0;r<e.length;r+=4){const l=(.5-Math.random())*n;e[r]+=l,e[r+1]+=l,e[r+2]+=l}}sendUniformData(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())}isNeutralState(){return this.noise===0}}at(G1,"type","Noise"),at(G1,"defaults",{noise:0}),at(G1,"uniformLocations",["uNoise","uSeed"]),zt.setClass(G1);class H1 extends Yn{applyTo2d(t){let{imageData:{data:e,width:n,height:r}}=t;for(let l=0;l<r;l+=this.blocksize)for(let h=0;h<n;h+=this.blocksize){const f=4*l*n+4*h,d=e[f],p=e[f+1],v=e[f+2],b=e[f+3];for(let A=l;A<Math.min(l+this.blocksize,r);A++)for(let S=h;S<Math.min(h+this.blocksize,n);S++){const x=4*A*n+4*S;e[x]=d,e[x+1]=p,e[x+2]=v,e[x+3]=b}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}at(H1,"type","Pixelate"),at(H1,"defaults",{blocksize:4}),at(H1,"uniformLocations",["uBlocksize"]),zt.setClass(H1);class k1 extends Yn{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(t){let{imageData:{data:e}}=t;const n=255*this.distance,r=new Be(this.color).getSource(),l=[r[0]-n,r[1]-n,r[2]-n],h=[r[0]+n,r[1]+n,r[2]+n];for(let f=0;f<e.length;f+=4){const d=e[f],p=e[f+1],v=e[f+2];d>l[0]&&p>l[1]&&v>l[2]&&d<h[0]&&p<h[1]&&v<h[2]&&(e[f+3]=0)}}sendUniformData(t,e){const n=new Be(this.color).getSource(),r=this.distance,l=[0+n[0]/255-r,0+n[1]/255-r,0+n[2]/255-r,1],h=[n[0]/255+r,n[1]/255+r,n[2]/255+r,1];t.uniform4fv(e.uLow,l),t.uniform4fv(e.uHigh,h)}}at(k1,"type","RemoveColor"),at(k1,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),at(k1,"uniformLocations",["uLow","uHigh"]),zt.setClass(k1);class P1 extends Yn{sendUniformData(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)}getFilterWindow(){const t=this.tempScale;return Math.ceil(this.lanczosLobes/t)}getCacheKey(){const t=this.getFilterWindow();return"".concat(this.type,"_").concat(t)}getFragmentSource(){const t=this.getFilterWindow();return this.generateShader(t)}getTaps(){const t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,n=this.getFilterWindow(),r=new Array(n);for(let l=1;l<=n;l++)r[l-1]=t(l*e);return r}generateShader(t){const e=new Array(t);for(let n=1;n<=t;n++)e[n-1]="".concat(n,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(t,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(e.map((n,r)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(n,") * uTaps[").concat(r,"] + texture2D(uTexture, vTexCoord - ").concat(n,") * uTaps[").concat(r,`];
              sum += 2.0 * uTaps[`).concat(r,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(t){t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,super.applyTo(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,super.applyTo(t),t.sourceHeight=t.destinationHeight}applyTo(t){Zm(t)?this.applyToForWebgl(t):this.applyTo2d(t)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(t){return e=>{if(e>=t||e<=-t)return 0;if(e<11920929e-14&&e>-11920929e-14)return 1;const n=(e*=Math.PI)/t;return Math.sin(e)/e*Math.sin(n)/n}}applyTo2d(t){const e=t.imageData,n=this.scaleX,r=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/r;const l=e.width,h=e.height,f=Math.round(l*n),d=Math.round(h*r);let p;p=this.resizeType==="sliceHack"?this.sliceByTwo(t,l,h,f,d):this.resizeType==="hermite"?this.hermiteFastResize(t,l,h,f,d):this.resizeType==="bilinear"?this.bilinearFiltering(t,l,h,f,d):this.resizeType==="lanczos"?this.lanczosResize(t,l,h,f,d):new ImageData(f,d),t.imageData=p}sliceByTwo(t,e,n,r,l){const h=t.imageData,f=.5;let d=!1,p=!1,v=e*f,b=n*f;const A=t.filterBackend.resources;let S=0,x=0;const w=e;let M=0;A.sliceByTwo||(A.sliceByTwo=Kr());const D=A.sliceByTwo;(D.width<1.5*e||D.height<n)&&(D.width=1.5*e,D.height=n);const T=D.getContext("2d");for(T.clearRect(0,0,1.5*e,n),T.putImageData(h,0,0),r=Math.floor(r),l=Math.floor(l);!d||!p;)e=v,n=b,r<Math.floor(v*f)?v=Math.floor(v*f):(v=r,d=!0),l<Math.floor(b*f)?b=Math.floor(b*f):(b=l,p=!0),T.drawImage(D,S,x,e,n,w,M,v,b),S=w,x=M,M+=b;return T.getImageData(S,x,r,l)}lanczosResize(t,e,n,r,l){const h=t.imageData.data,f=t.ctx.createImageData(r,l),d=f.data,p=this.lanczosCreate(this.lanczosLobes),v=this.rcpScaleX,b=this.rcpScaleY,A=2/this.rcpScaleX,S=2/this.rcpScaleY,x=Math.ceil(v*this.lanczosLobes/2),w=Math.ceil(b*this.lanczosLobes/2),M={},D={x:0,y:0},T={x:0,y:0};return function O(R){let z,H,V,P,K,B,Y,Z,j,U,G;for(D.x=(R+.5)*v,T.x=Math.floor(D.x),z=0;z<l;z++){for(D.y=(z+.5)*b,T.y=Math.floor(D.y),K=0,B=0,Y=0,Z=0,j=0,H=T.x-x;H<=T.x+x;H++)if(!(H<0||H>=e)){U=Math.floor(1e3*Math.abs(H-D.x)),M[U]||(M[U]={});for(let k=T.y-w;k<=T.y+w;k++)k<0||k>=n||(G=Math.floor(1e3*Math.abs(k-D.y)),M[U][G]||(M[U][G]=p(Math.sqrt(Math.pow(U*A,2)+Math.pow(G*S,2))/1e3)),V=M[U][G],V>0&&(P=4*(k*e+H),K+=V,B+=V*h[P],Y+=V*h[P+1],Z+=V*h[P+2],j+=V*h[P+3]))}P=4*(z*r+R),d[P]=B/K,d[P+1]=Y/K,d[P+2]=Z/K,d[P+3]=j/K}return++R<r?O(R):f}(0)}bilinearFiltering(t,e,n,r,l){let h,f,d,p,v,b,A,S,x,w,M,D,T,O=0;const R=this.rcpScaleX,z=this.rcpScaleY,H=4*(e-1),V=t.imageData.data,P=t.ctx.createImageData(r,l),K=P.data;for(A=0;A<l;A++)for(S=0;S<r;S++)for(v=Math.floor(R*S),b=Math.floor(z*A),x=R*S-v,w=z*A-b,T=4*(b*e+v),M=0;M<4;M++)h=V[T+M],f=V[T+4+M],d=V[T+H+M],p=V[T+H+4+M],D=h*(1-x)*(1-w)+f*x*(1-w)+d*w*(1-x)+p*x*w,K[O++]=D;return P}hermiteFastResize(t,e,n,r,l){const h=this.rcpScaleX,f=this.rcpScaleY,d=Math.ceil(h/2),p=Math.ceil(f/2),v=t.imageData.data,b=t.ctx.createImageData(r,l),A=b.data;for(let S=0;S<l;S++)for(let x=0;x<r;x++){const w=4*(x+S*r);let M=0,D=0,T=0,O=0,R=0,z=0,H=0;const V=(S+.5)*f;for(let P=Math.floor(S*f);P<(S+1)*f;P++){const K=Math.abs(V-(P+.5))/p,B=(x+.5)*h,Y=K*K;for(let Z=Math.floor(x*h);Z<(x+1)*h;Z++){let j=Math.abs(B-(Z+.5))/d;const U=Math.sqrt(Y+j*j);U>1&&U<-1||(M=2*U*U*U-3*U*U+1,M>0&&(j=4*(Z+P*e),H+=M*v[j+3],T+=M,v[j+3]<255&&(M=M*v[j+3]/250),O+=M*v[j],R+=M*v[j+1],z+=M*v[j+2],D+=M))}}A[w]=O/D,A[w+1]=R/D,A[w+2]=z/D,A[w+3]=H/T}return b}}at(P1,"type","Resize"),at(P1,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),at(P1,"uniformLocations",["uDelta","uTaps"]),zt.setClass(P1);class F1 extends Yn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const n=-this.saturation;for(let r=0;r<e.length;r+=4){const l=e[r],h=e[r+1],f=e[r+2],d=Math.max(l,h,f);e[r]+=d!==l?(d-l)*n:0,e[r+1]+=d!==h?(d-h)*n:0,e[r+2]+=d!==f?(d-f)*n:0}}sendUniformData(t,e){t.uniform1f(e.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}at(F1,"type","Saturation"),at(F1,"defaults",{saturation:0}),at(F1,"uniformLocations",["uSaturation"]),zt.setClass(F1);class V1 extends Yn{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const n=-this.vibrance;for(let r=0;r<e.length;r+=4){const l=e[r],h=e[r+1],f=e[r+2],d=Math.max(l,h,f),p=(l+h+f)/3,v=2*Math.abs(d-p)/255*n;e[r]+=d!==l?(d-l)*v:0,e[r+1]+=d!==h?(d-h)*v:0,e[r+2]+=d!==f?(d-f)*v:0}}sendUniformData(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}at(V1,"type","Vibrance"),at(V1,"defaults",{vibrance:0}),at(V1,"uniformLocations",["uVibrance"]),zt.setClass(V1);const GE=[{name:"Build",icon:$.jsx("img",{src:k_,alt:"Build",className:"w-12 h-12"})},{name:"Chute",icon:$.jsx("img",{src:P_,alt:"Chute",className:"w-12 h-12"})},{name:"Dolly Conveyance",icon:$.jsx("img",{src:F_,alt:"Dolly Conveyance",className:"w-12 h-12"})},{name:"Intruction",icon:$.jsx("img",{src:V_,alt:"Intruction",className:"w-12 h-12"})},{name:"Kanban Post",icon:$.jsx("img",{src:Y_,alt:"Kanban Post",className:"w-12 h-12"})},{name:"Kanban Post 2",icon:$.jsx("img",{src:X_,alt:"Kanban Post 2",className:"w-12 h-12"})},{name:"Kanban Post 3",icon:$.jsx("img",{src:q_,alt:"Kanban Post 3",className:"w-12 h-12"})},{name:"Kanban",icon:$.jsx("img",{src:K_,alt:"Kanban",className:"w-12 h-12"})},{name:"Other",icon:$.jsx("img",{src:Q_,alt:"Other",className:"w-12 h-12"})},{name:"Ship Conveyance",icon:$.jsx("img",{src:W_,alt:"Ship Conveyance",className:"w-12 h-12"})},{name:"Process",icon:$.jsx("img",{src:Z_,alt:"Process",className:"w-12 h-12"})},{name:"Sequence Lane",icon:$.jsx("img",{src:I_,alt:"Sequence Lane",className:"w-12 h-12"})},{name:"Text 8",icon:$.jsx("img",{src:J_,alt:"Text 8",className:"w-12 h-12"})},{name:"Store",icon:$.jsx("img",{src:$_,alt:"Store",className:"w-12 h-12"})},{name:"Yama",icon:$.jsx("img",{src:tS,alt:"Yama",className:"w-12 h-12"})},{name:"Truck Conveyance",icon:$.jsx("img",{src:eS,alt:"Truck Conveyance",className:"w-12 h-12"})},{name:"Black Arrow",icon:$.jsx("img",{src:nS,alt:"Black Arrow",className:"w-12 h-12"})},{name:"Red Arrow",icon:$.jsx("img",{src:iS,alt:"Red Arrow",className:"w-12 h-12"})},{name:"Destination",icon:$.jsx("img",{src:aS,alt:"Destination",className:"w-12 h-12"})},{name:"Add Text",icon:$.jsx("img",{src:rS,alt:"Add Text",className:"w-12 h-12"})}],HE=()=>{const a=F.useRef(null),t=F.useRef(null);F.useEffect(()=>{if(!a.current)return;t.current=new av(a.current,{width:1600,height:850,backgroundColor:"#f3f4f6"});const n=new Fr({left:200,top:200,fill:"blue",width:100,height:100});return t.current.add(n),()=>{var r;(r=t.current)==null||r.dispose()}},[]);const e=n=>{t.current&&Da.fromURL(n).then(r=>{var l,h;r.set({left:Math.random()*600,top:Math.random()*400,scaleX:.5,scaleY:.5}),(l=t.current)==null||l.add(r),(h=t.current)==null||h.renderAll()})};return $.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[$.jsx("div",{className:"flex flex-wrap gap-4",children:GE.map((n,r)=>$.jsxs("button",{onClick:()=>e(n.icon.props.src),className:"flex flex-col items-center p-2 bg-gray-200 hover:bg-gray-300 rounded transition",children:[n.icon,$.jsx("span",{className:"text-xs mt-1",children:n.name})]},r))}),$.jsx("canvas",{ref:a,className:"border border-gray-400 shadow-lg"})]})},kE=()=>$.jsxs("div",{className:"overflow-hidden",children:[$.jsx("p",{className:"mb-10",children:"Clutch Disk Page"}),$.jsx(HE,{})]}),PE=()=>$.jsx("p",{className:"text-3xl font-bold",children:"VCT"});function O3(a,t){if(typeof a=="function")return a(t);a!=null&&(a.current=t)}function l4(...a){return t=>{let e=!1;const n=a.map(r=>{const l=O3(r,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let r=0;r<n.length;r++){const l=n[r];typeof l=="function"?l():O3(a[r],null)}}}}function Zr(...a){return F.useCallback(l4(...a),a)}var Yo=F.forwardRef((a,t)=>{const{children:e,...n}=a,r=F.Children.toArray(e),l=r.find(FE);if(l){const h=l.props.children,f=r.map(d=>d===l?F.Children.count(h)>1?F.Children.only(null):F.isValidElement(h)?h.props.children:null:d);return $.jsx(sv,{...n,ref:t,children:F.isValidElement(h)?F.cloneElement(h,void 0,f):null})}return $.jsx(sv,{...n,ref:t,children:e})});Yo.displayName="Slot";var sv=F.forwardRef((a,t)=>{const{children:e,...n}=a;if(F.isValidElement(e)){const r=YE(e);return F.cloneElement(e,{...VE(n,e.props),ref:t?l4(t,r):r})}return F.Children.count(e)>1?F.Children.only(null):null});sv.displayName="SlotClone";var c4=({children:a})=>$.jsx($.Fragment,{children:a});function FE(a){return F.isValidElement(a)&&a.type===c4}function VE(a,t){const e={...t};for(const n in t){const r=a[n],l=t[n];/^on[A-Z]/.test(n)?r&&l?e[n]=(...f)=>{l(...f),r(...f)}:r&&(e[n]=r):n==="style"?e[n]={...r,...l}:n==="className"&&(e[n]=[r,l].filter(Boolean).join(" "))}return{...a,...e}}function YE(a){var n,r;let t=(n=Object.getOwnPropertyDescriptor(a.props,"ref"))==null?void 0:n.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?a.ref:(t=(r=Object.getOwnPropertyDescriptor(a,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?a.props.ref:a.props.ref||a.ref)}function u4(a){var t,e,n="";if(typeof a=="string"||typeof a=="number")n+=a;else if(typeof a=="object")if(Array.isArray(a)){var r=a.length;for(t=0;t<r;t++)a[t]&&(e=u4(a[t]))&&(n&&(n+=" "),n+=e)}else for(e in a)a[e]&&(n&&(n+=" "),n+=e);return n}function h4(){for(var a,t,e=0,n="",r=arguments.length;e<r;e++)(a=arguments[e])&&(t=u4(a))&&(n&&(n+=" "),n+=t);return n}const M3=a=>typeof a=="boolean"?`${a}`:a===0?"0":a,D3=h4,ey=(a,t)=>e=>{var n;if((t==null?void 0:t.variants)==null)return D3(a,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:r,defaultVariants:l}=t,h=Object.keys(r).map(p=>{const v=e==null?void 0:e[p],b=l==null?void 0:l[p];if(v===null)return null;const A=M3(v)||M3(b);return r[p][A]}),f=e&&Object.entries(e).reduce((p,v)=>{let[b,A]=v;return A===void 0||(p[b]=A),p},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((p,v)=>{let{class:b,className:A,...S}=v;return Object.entries(S).every(x=>{let[w,M]=x;return Array.isArray(M)?M.includes({...l,...f}[w]):{...l,...f}[w]===M})?[...p,b,A]:p},[]);return D3(a,h,d,e==null?void 0:e.class,e==null?void 0:e.className)};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f4=(...a)=>a.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=F.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:r="",children:l,iconNode:h,...f},d)=>F.createElement("svg",{ref:d,...qE,width:t,height:t,stroke:a,strokeWidth:n?Number(e)*24/Number(t):e,className:f4("lucide",r),...f},[...h.map(([p,v])=>F.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=(a,t)=>{const e=F.forwardRef(({className:n,...r},l)=>F.createElement(KE,{ref:l,iconNode:t,className:f4(`lucide-${XE(a)}`,n),...r}));return e.displayName=`${a}`,e};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=d4("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=d4("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),O2=768;function ZE(){const[a,t]=F.useState(void 0);return F.useEffect(()=>{const e=window.matchMedia(`(max-width: ${O2-1}px)`),n=()=>{t(window.innerWidth<O2)};return e.addEventListener("change",n),t(window.innerWidth<O2),()=>e.removeEventListener("change",n)},[]),!!a}const ny="-",IE=a=>{const t=$E(a),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=a;return{getClassGroupId:h=>{const f=h.split(ny);return f[0]===""&&f.length!==1&&f.shift(),g4(f,t)||JE(h)},getConflictingClassGroupIds:(h,f)=>{const d=e[h]||[];return f&&n[h]?[...d,...n[h]]:d}}},g4=(a,t)=>{var h;if(a.length===0)return t.classGroupId;const e=a[0],n=t.nextPart.get(e),r=n?g4(a.slice(1),n):void 0;if(r)return r;if(t.validators.length===0)return;const l=a.join(ny);return(h=t.validators.find(({validator:f})=>f(l)))==null?void 0:h.classGroupId},R3=/^\[(.+)\]$/,JE=a=>{if(R3.test(a)){const t=R3.exec(a)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},$E=a=>{const{theme:t,prefix:e}=a,n={nextPart:new Map,validators:[]};return ew(Object.entries(a.classGroups),e).forEach(([l,h])=>{ov(h,n,l,t)}),n},ov=(a,t,e,n)=>{a.forEach(r=>{if(typeof r=="string"){const l=r===""?t:N3(t,r);l.classGroupId=e;return}if(typeof r=="function"){if(tw(r)){ov(r(n),t,e,n);return}t.validators.push({validator:r,classGroupId:e});return}Object.entries(r).forEach(([l,h])=>{ov(h,N3(t,l),e,n)})})},N3=(a,t)=>{let e=a;return t.split(ny).forEach(n=>{e.nextPart.has(n)||e.nextPart.set(n,{nextPart:new Map,validators:[]}),e=e.nextPart.get(n)}),e},tw=a=>a.isThemeGetter,ew=(a,t)=>t?a.map(([e,n])=>{const r=n.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([h,f])=>[t+h,f])):l);return[e,r]}):a,nw=a=>{if(a<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,n=new Map;const r=(l,h)=>{e.set(l,h),t++,t>a&&(t=0,n=e,e=new Map)};return{get(l){let h=e.get(l);if(h!==void 0)return h;if((h=n.get(l))!==void 0)return r(l,h),h},set(l,h){e.has(l)?e.set(l,h):r(l,h)}}},m4="!",iw=a=>{const{separator:t,experimentalParseClassName:e}=a,n=t.length===1,r=t[0],l=t.length,h=f=>{const d=[];let p=0,v=0,b;for(let M=0;M<f.length;M++){let D=f[M];if(p===0){if(D===r&&(n||f.slice(M,M+l)===t)){d.push(f.slice(v,M)),v=M+l;continue}if(D==="/"){b=M;continue}}D==="["?p++:D==="]"&&p--}const A=d.length===0?f:f.substring(v),S=A.startsWith(m4),x=S?A.substring(1):A,w=b&&b>v?b-v:void 0;return{modifiers:d,hasImportantModifier:S,baseClassName:x,maybePostfixModifierPosition:w}};return e?f=>e({className:f,parseClassName:h}):h},aw=a=>{if(a.length<=1)return a;const t=[];let e=[];return a.forEach(n=>{n[0]==="["?(t.push(...e.sort(),n),e=[]):e.push(n)}),t.push(...e.sort()),t},rw=a=>({cache:nw(a.cacheSize),parseClassName:iw(a),...IE(a)}),sw=/\s+/,ow=(a,t)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:r}=t,l=[],h=a.trim().split(sw);let f="";for(let d=h.length-1;d>=0;d-=1){const p=h[d],{modifiers:v,hasImportantModifier:b,baseClassName:A,maybePostfixModifierPosition:S}=e(p);let x=!!S,w=n(x?A.substring(0,S):A);if(!w){if(!x){f=p+(f.length>0?" "+f:f);continue}if(w=n(A),!w){f=p+(f.length>0?" "+f:f);continue}x=!1}const M=aw(v).join(":"),D=b?M+m4:M,T=D+w;if(l.includes(T))continue;l.push(T);const O=r(w,x);for(let R=0;R<O.length;++R){const z=O[R];l.push(D+z)}f=p+(f.length>0?" "+f:f)}return f};function lw(){let a=0,t,e,n="";for(;a<arguments.length;)(t=arguments[a++])&&(e=p4(t))&&(n&&(n+=" "),n+=e);return n}const p4=a=>{if(typeof a=="string")return a;let t,e="";for(let n=0;n<a.length;n++)a[n]&&(t=p4(a[n]))&&(e&&(e+=" "),e+=t);return e};function cw(a,...t){let e,n,r,l=h;function h(d){const p=t.reduce((v,b)=>b(v),a());return e=rw(p),n=e.cache.get,r=e.cache.set,l=f,f(d)}function f(d){const p=n(d);if(p)return p;const v=ow(d,e);return r(d,v),v}return function(){return l(lw.apply(null,arguments))}}const Ze=a=>{const t=e=>e[a]||[];return t.isThemeGetter=!0,t},v4=/^\[(?:([a-z-]+):)?(.+)\]$/i,uw=/^\d+\/\d+$/,hw=new Set(["px","full","screen"]),fw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Eo=a=>Dh(a)||hw.has(a)||uw.test(a),Hl=a=>Yh(a,"length",Cw),Dh=a=>!!a&&!Number.isNaN(Number(a)),M2=a=>Yh(a,"number",Dh),i0=a=>!!a&&Number.isInteger(Number(a)),vw=a=>a.endsWith("%")&&Dh(a.slice(0,-1)),ee=a=>v4.test(a),kl=a=>fw.test(a),yw=new Set(["length","size","percentage"]),bw=a=>Yh(a,yw,y4),_w=a=>Yh(a,"position",y4),Sw=new Set(["image","url"]),Aw=a=>Yh(a,Sw,Ew),xw=a=>Yh(a,"",Tw),a0=()=>!0,Yh=(a,t,e)=>{const n=v4.exec(a);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):e(n[2]):!1},Cw=a=>dw.test(a)&&!gw.test(a),y4=()=>!1,Tw=a=>mw.test(a),Ew=a=>pw.test(a),ww=()=>{const a=Ze("colors"),t=Ze("spacing"),e=Ze("blur"),n=Ze("brightness"),r=Ze("borderColor"),l=Ze("borderRadius"),h=Ze("borderSpacing"),f=Ze("borderWidth"),d=Ze("contrast"),p=Ze("grayscale"),v=Ze("hueRotate"),b=Ze("invert"),A=Ze("gap"),S=Ze("gradientColorStops"),x=Ze("gradientColorStopPositions"),w=Ze("inset"),M=Ze("margin"),D=Ze("opacity"),T=Ze("padding"),O=Ze("saturate"),R=Ze("scale"),z=Ze("sepia"),H=Ze("skew"),V=Ze("space"),P=Ze("translate"),K=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",ee,t],Z=()=>[ee,t],j=()=>["",Eo,Hl],U=()=>["auto",Dh,ee],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],k=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],it=()=>["","0",ee],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],tt=()=>[Dh,ee];return{cacheSize:500,separator:":",theme:{colors:[a0],spacing:[Eo,Hl],blur:["none","",kl,ee],brightness:tt(),borderColor:[a],borderRadius:["none","","full",kl,ee],borderSpacing:Z(),borderWidth:j(),contrast:tt(),grayscale:it(),hueRotate:tt(),invert:it(),gap:Z(),gradientColorStops:[a],gradientColorStopPositions:[vw,Hl],inset:Y(),margin:Y(),opacity:tt(),padding:Z(),saturate:tt(),scale:tt(),sepia:it(),skew:tt(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[kl]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),ee]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:K()}],"overscroll-x":[{"overscroll-x":K()}],"overscroll-y":[{"overscroll-y":K()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",i0,ee]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:it()}],shrink:[{shrink:it()}],order:[{order:["first","last","none",i0,ee]}],"grid-cols":[{"grid-cols":[a0]}],"col-start-end":[{col:["auto",{span:["full",i0,ee]},ee]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[a0]}],"row-start-end":[{row:["auto",{span:[i0,ee]},ee]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[A]}],"gap-x":[{"gap-x":[A]}],"gap-y":[{"gap-y":[A]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[M]}],mx:[{mx:[M]}],my:[{my:[M]}],ms:[{ms:[M]}],me:[{me:[M]}],mt:[{mt:[M]}],mr:[{mr:[M]}],mb:[{mb:[M]}],ml:[{ml:[M]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ee,t]}],"min-w":[{"min-w":[ee,t,"min","max","fit"]}],"max-w":[{"max-w":[ee,t,"none","full","min","max","fit","prose",{screen:[kl]},kl]}],h:[{h:[ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",kl,Hl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",M2]}],"font-family":[{font:[a0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",Dh,M2]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Eo,ee]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[a]}],"placeholder-opacity":[{"placeholder-opacity":[D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[a]}],"text-opacity":[{"text-opacity":[D]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...k(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Eo,Hl]}],"underline-offset":[{"underline-offset":["auto",Eo,ee]}],"text-decoration-color":[{decoration:[a]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[D]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),_w]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bw]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Aw]}],"bg-color":[{bg:[a]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[D]}],"border-style":[{border:[...k(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[D]}],"divide-style":[{divide:k()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...k()]}],"outline-offset":[{"outline-offset":[Eo,ee]}],"outline-w":[{outline:[Eo,Hl]}],"outline-color":[{outline:[a]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[a]}],"ring-opacity":[{"ring-opacity":[D]}],"ring-offset-w":[{"ring-offset":[Eo,Hl]}],"ring-offset-color":[{"ring-offset":[a]}],shadow:[{shadow:["","inner","none",kl,xw]}],"shadow-color":[{shadow:[a0]}],opacity:[{opacity:[D]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",kl,ee]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[b]}],saturate:[{saturate:[O]}],sepia:[{sepia:[z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[D]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:tt()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:tt()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[i0,ee]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[H]}],"skew-y":[{"skew-y":[H]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",a]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[a]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[a,"none"]}],"stroke-w":[{stroke:[Eo,Hl,M2]}],stroke:[{stroke:[a,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ow=cw(ww);function ge(...a){return Ow(h4(a))}const Mw=ey("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),b4=F.forwardRef(({className:a,variant:t,size:e,asChild:n=!1,...r},l)=>{const h=n?Yo:"button";return $.jsx(h,{className:ge(Mw({variant:t,size:e,className:a})),ref:l,...r})});b4.displayName="Button";const _4=F.forwardRef(({className:a,type:t,...e},n)=>$.jsx("input",{type:t,className:ge("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:n,...e}));_4.displayName="Input";var Dw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ai=Dw.reduce((a,t)=>{const e=F.forwardRef((n,r)=>{const{asChild:l,...h}=n,f=l?Yo:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),$.jsx(f,{...h,ref:r})});return e.displayName=`Primitive.${t}`,{...a,[t]:e}},{});function Rw(a,t){a&&Cv.flushSync(()=>a.dispatchEvent(t))}var Nw="Separator",j3="horizontal",jw=["horizontal","vertical"],S4=F.forwardRef((a,t)=>{const{decorative:e,orientation:n=j3,...r}=a,l=zw(n)?n:j3,f=e?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return $.jsx(ai.div,{"data-orientation":l,...f,...r,ref:t})});S4.displayName=Nw;function zw(a){return jw.includes(a)}var A4=S4;const x4=F.forwardRef(({className:a,orientation:t="horizontal",decorative:e=!0,...n},r)=>$.jsx(A4,{ref:r,decorative:e,orientation:t,className:ge("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",a),...n}));x4.displayName=A4.displayName;function ua(a,t,{checkForDefaultPrevented:e=!0}={}){return function(r){if(a==null||a(r),e===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function Bw(a,t){const e=F.createContext(t),n=l=>{const{children:h,...f}=l,d=F.useMemo(()=>f,Object.values(f));return $.jsx(e.Provider,{value:d,children:h})};n.displayName=a+"Provider";function r(l){const h=F.useContext(e);if(h)return h;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${a}\``)}return[n,r]}function Im(a,t=[]){let e=[];function n(l,h){const f=F.createContext(h),d=e.length;e=[...e,h];const p=b=>{var D;const{scope:A,children:S,...x}=b,w=((D=A==null?void 0:A[a])==null?void 0:D[d])||f,M=F.useMemo(()=>x,Object.values(x));return $.jsx(w.Provider,{value:M,children:S})};p.displayName=l+"Provider";function v(b,A){var w;const S=((w=A==null?void 0:A[a])==null?void 0:w[d])||f,x=F.useContext(S);if(x)return x;if(h!==void 0)return h;throw new Error(`\`${b}\` must be used within \`${l}\``)}return[p,v]}const r=()=>{const l=e.map(h=>F.createContext(h));return function(f){const d=(f==null?void 0:f[a])||l;return F.useMemo(()=>({[`__scope${a}`]:{...f,[a]:d}}),[f,d])}};return r.scopeName=a,[n,Lw(r,...t)]}function Lw(...a){const t=a[0];if(a.length===1)return t;const e=()=>{const n=a.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(l){const h=n.reduce((f,{useScope:d,scopeName:p})=>{const b=d(l)[`__scope${p}`];return{...f,...b}},{});return F.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return e.scopeName=t.scopeName,e}var Uo=globalThis!=null&&globalThis.document?F.useLayoutEffect:()=>{},Uw=g_.useId||(()=>{}),Gw=0;function im(a){const[t,e]=F.useState(Uw());return Uo(()=>{a||e(n=>n??String(Gw++))},[a]),a||(t?`radix-${t}`:"")}function Go(a){const t=F.useRef(a);return F.useEffect(()=>{t.current=a}),F.useMemo(()=>(...e)=>{var n;return(n=t.current)==null?void 0:n.call(t,...e)},[])}function C4({prop:a,defaultProp:t,onChange:e=()=>{}}){const[n,r]=Hw({defaultProp:t,onChange:e}),l=a!==void 0,h=l?a:n,f=Go(e),d=F.useCallback(p=>{if(l){const b=typeof p=="function"?p(a):p;b!==a&&f(b)}else r(p)},[l,a,r,f]);return[h,d]}function Hw({defaultProp:a,onChange:t}){const e=F.useState(a),[n]=e,r=F.useRef(n),l=Go(t);return F.useEffect(()=>{r.current!==n&&(l(n),r.current=n)},[n,r,l]),e}function kw(a,t=globalThis==null?void 0:globalThis.document){const e=Go(a);F.useEffect(()=>{const n=r=>{r.key==="Escape"&&e(r)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[e,t])}var Pw="DismissableLayer",lv="dismissableLayer.update",Fw="dismissableLayer.pointerDownOutside",Vw="dismissableLayer.focusOutside",z3,T4=F.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),iy=F.forwardRef((a,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:l,onInteractOutside:h,onDismiss:f,...d}=a,p=F.useContext(T4),[v,b]=F.useState(null),A=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=F.useState({}),x=Zr(t,V=>b(V)),w=Array.from(p.layers),[M]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),D=w.indexOf(M),T=v?w.indexOf(v):-1,O=p.layersWithOutsidePointerEventsDisabled.size>0,R=T>=D,z=qw(V=>{const P=V.target,K=[...p.branches].some(B=>B.contains(P));!R||K||(r==null||r(V),h==null||h(V),V.defaultPrevented||f==null||f())},A),H=Kw(V=>{const P=V.target;[...p.branches].some(B=>B.contains(P))||(l==null||l(V),h==null||h(V),V.defaultPrevented||f==null||f())},A);return kw(V=>{T===p.layers.size-1&&(n==null||n(V),!V.defaultPrevented&&f&&(V.preventDefault(),f()))},A),F.useEffect(()=>{if(v)return e&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(z3=A.body.style.pointerEvents,A.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),B3(),()=>{e&&p.layersWithOutsidePointerEventsDisabled.size===1&&(A.body.style.pointerEvents=z3)}},[v,A,e,p]),F.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),B3())},[v,p]),F.useEffect(()=>{const V=()=>S({});return document.addEventListener(lv,V),()=>document.removeEventListener(lv,V)},[]),$.jsx(ai.div,{...d,ref:x,style:{pointerEvents:O?R?"auto":"none":void 0,...a.style},onFocusCapture:ua(a.onFocusCapture,H.onFocusCapture),onBlurCapture:ua(a.onBlurCapture,H.onBlurCapture),onPointerDownCapture:ua(a.onPointerDownCapture,z.onPointerDownCapture)})});iy.displayName=Pw;var Yw="DismissableLayerBranch",Xw=F.forwardRef((a,t)=>{const e=F.useContext(T4),n=F.useRef(null),r=Zr(t,n);return F.useEffect(()=>{const l=n.current;if(l)return e.branches.add(l),()=>{e.branches.delete(l)}},[e.branches]),$.jsx(ai.div,{...a,ref:r})});Xw.displayName=Yw;function qw(a,t=globalThis==null?void 0:globalThis.document){const e=Go(a),n=F.useRef(!1),r=F.useRef(()=>{});return F.useEffect(()=>{const l=f=>{if(f.target&&!n.current){let d=function(){E4(Fw,e,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=d,t.addEventListener("click",r.current,{once:!0})):d()}else t.removeEventListener("click",r.current);n.current=!1},h=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(h),t.removeEventListener("pointerdown",l),t.removeEventListener("click",r.current)}},[t,e]),{onPointerDownCapture:()=>n.current=!0}}function Kw(a,t=globalThis==null?void 0:globalThis.document){const e=Go(a),n=F.useRef(!1);return F.useEffect(()=>{const r=l=>{l.target&&!n.current&&E4(Vw,e,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function B3(){const a=new CustomEvent(lv);document.dispatchEvent(a)}function E4(a,t,e,{discrete:n}){const r=e.originalEvent.target,l=new CustomEvent(a,{bubbles:!1,cancelable:!0,detail:e});t&&r.addEventListener(a,t,{once:!0}),n?Rw(r,l):r.dispatchEvent(l)}var D2="focusScope.autoFocusOnMount",R2="focusScope.autoFocusOnUnmount",L3={bubbles:!1,cancelable:!0},Qw="FocusScope",w4=F.forwardRef((a,t)=>{const{loop:e=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:l,...h}=a,[f,d]=F.useState(null),p=Go(r),v=Go(l),b=F.useRef(null),A=Zr(t,w=>d(w)),S=F.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;F.useEffect(()=>{if(n){let w=function(O){if(S.paused||!f)return;const R=O.target;f.contains(R)?b.current=R:Pl(b.current,{select:!0})},M=function(O){if(S.paused||!f)return;const R=O.relatedTarget;R!==null&&(f.contains(R)||Pl(b.current,{select:!0}))},D=function(O){if(document.activeElement===document.body)for(const z of O)z.removedNodes.length>0&&Pl(f)};document.addEventListener("focusin",w),document.addEventListener("focusout",M);const T=new MutationObserver(D);return f&&T.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",M),T.disconnect()}}},[n,f,S.paused]),F.useEffect(()=>{if(f){G3.add(S);const w=document.activeElement;if(!f.contains(w)){const D=new CustomEvent(D2,L3);f.addEventListener(D2,p),f.dispatchEvent(D),D.defaultPrevented||(Ww(tO(O4(f)),{select:!0}),document.activeElement===w&&Pl(f))}return()=>{f.removeEventListener(D2,p),setTimeout(()=>{const D=new CustomEvent(R2,L3);f.addEventListener(R2,v),f.dispatchEvent(D),D.defaultPrevented||Pl(w??document.body,{select:!0}),f.removeEventListener(R2,v),G3.remove(S)},0)}}},[f,p,v,S]);const x=F.useCallback(w=>{if(!e&&!n||S.paused)return;const M=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,D=document.activeElement;if(M&&D){const T=w.currentTarget,[O,R]=Zw(T);O&&R?!w.shiftKey&&D===R?(w.preventDefault(),e&&Pl(O,{select:!0})):w.shiftKey&&D===O&&(w.preventDefault(),e&&Pl(R,{select:!0})):D===T&&w.preventDefault()}},[e,n,S.paused]);return $.jsx(ai.div,{tabIndex:-1,...h,ref:A,onKeyDown:x})});w4.displayName=Qw;function Ww(a,{select:t=!1}={}){const e=document.activeElement;for(const n of a)if(Pl(n,{select:t}),document.activeElement!==e)return}function Zw(a){const t=O4(a),e=U3(t,a),n=U3(t.reverse(),a);return[e,n]}function O4(a){const t=[],e=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function U3(a,t){for(const e of a)if(!Iw(e,{upTo:t}))return e}function Iw(a,{upTo:t}){if(getComputedStyle(a).visibility==="hidden")return!0;for(;a;){if(t!==void 0&&a===t)return!1;if(getComputedStyle(a).display==="none")return!0;a=a.parentElement}return!1}function Jw(a){return a instanceof HTMLInputElement&&"select"in a}function Pl(a,{select:t=!1}={}){if(a&&a.focus){const e=document.activeElement;a.focus({preventScroll:!0}),a!==e&&Jw(a)&&t&&a.select()}}var G3=$w();function $w(){let a=[];return{add(t){const e=a[0];t!==e&&(e==null||e.pause()),a=H3(a,t),a.unshift(t)},remove(t){var e;a=H3(a,t),(e=a[0])==null||e.resume()}}}function H3(a,t){const e=[...a],n=e.indexOf(t);return n!==-1&&e.splice(n,1),e}function tO(a){return a.filter(t=>t.tagName!=="A")}var eO="Portal",ay=F.forwardRef((a,t)=>{var f;const{container:e,...n}=a,[r,l]=F.useState(!1);Uo(()=>l(!0),[]);const h=e||r&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return h?lx.createPortal($.jsx(ai.div,{...n,ref:t}),h):null});ay.displayName=eO;function nO(a,t){return F.useReducer((e,n)=>t[e][n]??e,a)}var Xh=a=>{const{present:t,children:e}=a,n=iO(t),r=typeof e=="function"?e({present:n.isPresent}):F.Children.only(e),l=Zr(n.ref,aO(r));return typeof e=="function"||n.isPresent?F.cloneElement(r,{ref:l}):null};Xh.displayName="Presence";function iO(a){const[t,e]=F.useState(),n=F.useRef({}),r=F.useRef(a),l=F.useRef("none"),h=a?"mounted":"unmounted",[f,d]=nO(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return F.useEffect(()=>{const p=Y1(n.current);l.current=f==="mounted"?p:"none"},[f]),Uo(()=>{const p=n.current,v=r.current;if(v!==a){const A=l.current,S=Y1(p);a?d("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?d("UNMOUNT"):d(v&&A!==S?"ANIMATION_OUT":"UNMOUNT"),r.current=a}},[a,d]),Uo(()=>{if(t){let p;const v=t.ownerDocument.defaultView??window,b=S=>{const w=Y1(n.current).includes(S.animationName);if(S.target===t&&w&&(d("ANIMATION_END"),!r.current)){const M=t.style.animationFillMode;t.style.animationFillMode="forwards",p=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=M)})}},A=S=>{S.target===t&&(l.current=Y1(n.current))};return t.addEventListener("animationstart",A),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{v.clearTimeout(p),t.removeEventListener("animationstart",A),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:F.useCallback(p=>{p&&(n.current=getComputedStyle(p)),e(p)},[])}}function Y1(a){return(a==null?void 0:a.animationName)||"none"}function aO(a){var n,r;let t=(n=Object.getOwnPropertyDescriptor(a.props,"ref"))==null?void 0:n.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?a.ref:(t=(r=Object.getOwnPropertyDescriptor(a,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?a.props.ref:a.props.ref||a.ref)}var N2=0;function rO(){F.useEffect(()=>{const a=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",a[0]??k3()),document.body.insertAdjacentElement("beforeend",a[1]??k3()),N2++,()=>{N2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),N2--}},[])}function k3(){const a=document.createElement("span");return a.setAttribute("data-radix-focus-guard",""),a.tabIndex=0,a.style.outline="none",a.style.opacity="0",a.style.position="fixed",a.style.pointerEvents="none",a}var Gs=function(){return Gs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},Gs.apply(this,arguments)};function M4(a,t){var e={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&t.indexOf(n)<0&&(e[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(a);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(a,n[r])&&(e[n[r]]=a[n[r]]);return e}function sO(a,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,l;n<r;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return a.concat(l||Array.prototype.slice.call(t))}var am="right-scroll-bar-position",rm="width-before-scroll-bar",oO="with-scroll-bars-hidden",lO="--removed-body-scroll-bar-size";function j2(a,t){return typeof a=="function"?a(t):a&&(a.current=t),a}function cO(a,t){var e=F.useState(function(){return{value:a,callback:t,facade:{get current(){return e.value},set current(n){var r=e.value;r!==n&&(e.value=n,e.callback(n,r))}}}})[0];return e.callback=t,e.facade}var uO=typeof window<"u"?F.useLayoutEffect:F.useEffect,P3=new WeakMap;function hO(a,t){var e=cO(null,function(n){return a.forEach(function(r){return j2(r,n)})});return uO(function(){var n=P3.get(e);if(n){var r=new Set(n),l=new Set(a),h=e.current;r.forEach(function(f){l.has(f)||j2(f,null)}),l.forEach(function(f){r.has(f)||j2(f,h)})}P3.set(e,a)},[a]),e}function fO(a){return a}function dO(a,t){t===void 0&&(t=fO);var e=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:a},useMedium:function(l){var h=t(l,n);return e.push(h),function(){e=e.filter(function(f){return f!==h})}},assignSyncMedium:function(l){for(n=!0;e.length;){var h=e;e=[],h.forEach(l)}e={push:function(f){return l(f)},filter:function(){return e}}},assignMedium:function(l){n=!0;var h=[];if(e.length){var f=e;e=[],f.forEach(l),h=e}var d=function(){var v=h;h=[],v.forEach(l)},p=function(){return Promise.resolve().then(d)};p(),e={push:function(v){h.push(v),p()},filter:function(v){return h=h.filter(v),e}}}};return r}function gO(a){a===void 0&&(a={});var t=dO(null);return t.options=Gs({async:!0,ssr:!1},a),t}var D4=function(a){var t=a.sideCar,e=M4(a,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return F.createElement(n,Gs({},e))};D4.isSideCarExport=!0;function mO(a,t){return a.useMedium(t),D4}var R4=gO(),z2=function(){},Jm=F.forwardRef(function(a,t){var e=F.useRef(null),n=F.useState({onScrollCapture:z2,onWheelCapture:z2,onTouchMoveCapture:z2}),r=n[0],l=n[1],h=a.forwardProps,f=a.children,d=a.className,p=a.removeScrollBar,v=a.enabled,b=a.shards,A=a.sideCar,S=a.noIsolation,x=a.inert,w=a.allowPinchZoom,M=a.as,D=M===void 0?"div":M,T=a.gapMode,O=M4(a,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=A,z=hO([e,t]),H=Gs(Gs({},O),r);return F.createElement(F.Fragment,null,v&&F.createElement(R,{sideCar:R4,removeScrollBar:p,shards:b,noIsolation:S,inert:x,setCallbacks:l,allowPinchZoom:!!w,lockRef:e,gapMode:T}),h?F.cloneElement(F.Children.only(f),Gs(Gs({},H),{ref:z})):F.createElement(D,Gs({},H,{className:d,ref:z}),f))});Jm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jm.classNames={fullWidth:rm,zeroRight:am};var pO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vO(){if(!document)return null;var a=document.createElement("style");a.type="text/css";var t=pO();return t&&a.setAttribute("nonce",t),a}function yO(a,t){a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}function bO(a){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(a)}var _O=function(){var a=0,t=null;return{add:function(e){a==0&&(t=vO())&&(yO(t,e),bO(t)),a++},remove:function(){a--,!a&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},SO=function(){var a=_O();return function(t,e){F.useEffect(function(){return a.add(t),function(){a.remove()}},[t&&e])}},N4=function(){var a=SO(),t=function(e){var n=e.styles,r=e.dynamic;return a(n,r),null};return t},AO={left:0,top:0,right:0,gap:0},B2=function(a){return parseInt(a||"",10)||0},xO=function(a){var t=window.getComputedStyle(document.body),e=t[a==="padding"?"paddingLeft":"marginLeft"],n=t[a==="padding"?"paddingTop":"marginTop"],r=t[a==="padding"?"paddingRight":"marginRight"];return[B2(e),B2(n),B2(r)]},CO=function(a){if(a===void 0&&(a="margin"),typeof window>"u")return AO;var t=xO(a),e=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-e+t[2]-t[0])}},TO=N4(),Rh="data-scroll-locked",EO=function(a,t,e,n){var r=a.left,l=a.top,h=a.right,f=a.gap;return e===void 0&&(e="margin"),`
  .`.concat(oO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(f,"px ").concat(n,`;
  }
  body[`).concat(Rh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),e==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(n,`;
    `),e==="padding"&&"padding-right: ".concat(f,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(am,` {
    right: `).concat(f,"px ").concat(n,`;
  }
  
  .`).concat(rm,` {
    margin-right: `).concat(f,"px ").concat(n,`;
  }
  
  .`).concat(am," .").concat(am,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(rm," .").concat(rm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Rh,`] {
    `).concat(lO,": ").concat(f,`px;
  }
`)},F3=function(){var a=parseInt(document.body.getAttribute(Rh)||"0",10);return isFinite(a)?a:0},wO=function(){F.useEffect(function(){return document.body.setAttribute(Rh,(F3()+1).toString()),function(){var a=F3()-1;a<=0?document.body.removeAttribute(Rh):document.body.setAttribute(Rh,a.toString())}},[])},OO=function(a){var t=a.noRelative,e=a.noImportant,n=a.gapMode,r=n===void 0?"margin":n;wO();var l=F.useMemo(function(){return CO(r)},[r]);return F.createElement(TO,{styles:EO(l,!t,r,e?"":"!important")})},cv=!1;if(typeof window<"u")try{var X1=Object.defineProperty({},"passive",{get:function(){return cv=!0,!0}});window.addEventListener("test",X1,X1),window.removeEventListener("test",X1,X1)}catch{cv=!1}var yh=cv?{passive:!1}:!1,MO=function(a){return a.tagName==="TEXTAREA"},j4=function(a,t){if(!(a instanceof Element))return!1;var e=window.getComputedStyle(a);return e[t]!=="hidden"&&!(e.overflowY===e.overflowX&&!MO(a)&&e[t]==="visible")},DO=function(a){return j4(a,"overflowY")},RO=function(a){return j4(a,"overflowX")},V3=function(a,t){var e=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=z4(a,n);if(r){var l=B4(a,n),h=l[1],f=l[2];if(h>f)return!0}n=n.parentNode}while(n&&n!==e.body);return!1},NO=function(a){var t=a.scrollTop,e=a.scrollHeight,n=a.clientHeight;return[t,e,n]},jO=function(a){var t=a.scrollLeft,e=a.scrollWidth,n=a.clientWidth;return[t,e,n]},z4=function(a,t){return a==="v"?DO(t):RO(t)},B4=function(a,t){return a==="v"?NO(t):jO(t)},zO=function(a,t){return a==="h"&&t==="rtl"?-1:1},BO=function(a,t,e,n,r){var l=zO(a,window.getComputedStyle(t).direction),h=l*n,f=e.target,d=t.contains(f),p=!1,v=h>0,b=0,A=0;do{var S=B4(a,f),x=S[0],w=S[1],M=S[2],D=w-M-l*x;(x||D)&&z4(a,f)&&(b+=D,A+=x),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!d&&f!==document.body||d&&(t.contains(f)||t===f));return(v&&(Math.abs(b)<1||!r)||!v&&(Math.abs(A)<1||!r))&&(p=!0),p},q1=function(a){return"changedTouches"in a?[a.changedTouches[0].clientX,a.changedTouches[0].clientY]:[0,0]},Y3=function(a){return[a.deltaX,a.deltaY]},X3=function(a){return a&&"current"in a?a.current:a},LO=function(a,t){return a[0]===t[0]&&a[1]===t[1]},UO=function(a){return`
  .block-interactivity-`.concat(a,` {pointer-events: none;}
  .allow-interactivity-`).concat(a,` {pointer-events: all;}
`)},GO=0,bh=[];function HO(a){var t=F.useRef([]),e=F.useRef([0,0]),n=F.useRef(),r=F.useState(GO++)[0],l=F.useState(N4)[0],h=F.useRef(a);F.useEffect(function(){h.current=a},[a]),F.useEffect(function(){if(a.inert){document.body.classList.add("block-interactivity-".concat(r));var w=sO([a.lockRef.current],(a.shards||[]).map(X3),!0).filter(Boolean);return w.forEach(function(M){return M.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),w.forEach(function(M){return M.classList.remove("allow-interactivity-".concat(r))})}}},[a.inert,a.lockRef.current,a.shards]);var f=F.useCallback(function(w,M){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!h.current.allowPinchZoom;var D=q1(w),T=e.current,O="deltaX"in w?w.deltaX:T[0]-D[0],R="deltaY"in w?w.deltaY:T[1]-D[1],z,H=w.target,V=Math.abs(O)>Math.abs(R)?"h":"v";if("touches"in w&&V==="h"&&H.type==="range")return!1;var P=V3(V,H);if(!P)return!0;if(P?z=V:(z=V==="v"?"h":"v",P=V3(V,H)),!P)return!1;if(!n.current&&"changedTouches"in w&&(O||R)&&(n.current=z),!z)return!0;var K=n.current||z;return BO(K,M,w,K==="h"?O:R,!0)},[]),d=F.useCallback(function(w){var M=w;if(!(!bh.length||bh[bh.length-1]!==l)){var D="deltaY"in M?Y3(M):q1(M),T=t.current.filter(function(z){return z.name===M.type&&(z.target===M.target||M.target===z.shadowParent)&&LO(z.delta,D)})[0];if(T&&T.should){M.cancelable&&M.preventDefault();return}if(!T){var O=(h.current.shards||[]).map(X3).filter(Boolean).filter(function(z){return z.contains(M.target)}),R=O.length>0?f(M,O[0]):!h.current.noIsolation;R&&M.cancelable&&M.preventDefault()}}},[]),p=F.useCallback(function(w,M,D,T){var O={name:w,delta:M,target:D,should:T,shadowParent:kO(D)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(R){return R!==O})},1)},[]),v=F.useCallback(function(w){e.current=q1(w),n.current=void 0},[]),b=F.useCallback(function(w){p(w.type,Y3(w),w.target,f(w,a.lockRef.current))},[]),A=F.useCallback(function(w){p(w.type,q1(w),w.target,f(w,a.lockRef.current))},[]);F.useEffect(function(){return bh.push(l),a.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:A}),document.addEventListener("wheel",d,yh),document.addEventListener("touchmove",d,yh),document.addEventListener("touchstart",v,yh),function(){bh=bh.filter(function(w){return w!==l}),document.removeEventListener("wheel",d,yh),document.removeEventListener("touchmove",d,yh),document.removeEventListener("touchstart",v,yh)}},[]);var S=a.removeScrollBar,x=a.inert;return F.createElement(F.Fragment,null,x?F.createElement(l,{styles:UO(r)}):null,S?F.createElement(OO,{gapMode:a.gapMode}):null)}function kO(a){for(var t=null;a!==null;)a instanceof ShadowRoot&&(t=a.host,a=a.host),a=a.parentNode;return t}const PO=mO(R4,HO);var L4=F.forwardRef(function(a,t){return F.createElement(Jm,Gs({},a,{ref:t,sideCar:PO}))});L4.classNames=Jm.classNames;var FO=function(a){if(typeof document>"u")return null;var t=Array.isArray(a)?a[0]:a;return t.ownerDocument.body},_h=new WeakMap,K1=new WeakMap,Q1={},L2=0,U4=function(a){return a&&(a.host||U4(a.parentNode))},VO=function(a,t){return t.map(function(e){if(a.contains(e))return e;var n=U4(e);return n&&a.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",a,". Doing nothing"),null)}).filter(function(e){return!!e})},YO=function(a,t,e,n){var r=VO(t,Array.isArray(a)?a:[a]);Q1[e]||(Q1[e]=new WeakMap);var l=Q1[e],h=[],f=new Set,d=new Set(r),p=function(b){!b||f.has(b)||(f.add(b),p(b.parentNode))};r.forEach(p);var v=function(b){!b||d.has(b)||Array.prototype.forEach.call(b.children,function(A){if(f.has(A))v(A);else try{var S=A.getAttribute(n),x=S!==null&&S!=="false",w=(_h.get(A)||0)+1,M=(l.get(A)||0)+1;_h.set(A,w),l.set(A,M),h.push(A),w===1&&x&&K1.set(A,!0),M===1&&A.setAttribute(e,"true"),x||A.setAttribute(n,"true")}catch(D){console.error("aria-hidden: cannot operate on ",A,D)}})};return v(t),f.clear(),L2++,function(){h.forEach(function(b){var A=_h.get(b)-1,S=l.get(b)-1;_h.set(b,A),l.set(b,S),A||(K1.has(b)||b.removeAttribute(n),K1.delete(b)),S||b.removeAttribute(e)}),L2--,L2||(_h=new WeakMap,_h=new WeakMap,K1=new WeakMap,Q1={})}},XO=function(a,t,e){e===void 0&&(e="data-aria-hidden");var n=Array.from(Array.isArray(a)?a:[a]),r=FO(a);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live]"))),YO(n,r,e,"aria-hidden")):function(){return null}},ry="Dialog",[G4,BN]=Im(ry),[qO,Ir]=G4(ry),H4=a=>{const{__scopeDialog:t,children:e,open:n,defaultOpen:r,onOpenChange:l,modal:h=!0}=a,f=F.useRef(null),d=F.useRef(null),[p=!1,v]=C4({prop:n,defaultProp:r,onChange:l});return $.jsx(qO,{scope:t,triggerRef:f,contentRef:d,contentId:im(),titleId:im(),descriptionId:im(),open:p,onOpenChange:v,onOpenToggle:F.useCallback(()=>v(b=>!b),[v]),modal:h,children:e})};H4.displayName=ry;var k4="DialogTrigger",KO=F.forwardRef((a,t)=>{const{__scopeDialog:e,...n}=a,r=Ir(k4,e),l=Zr(t,r.triggerRef);return $.jsx(ai.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":ly(r.open),...n,ref:l,onClick:ua(a.onClick,r.onOpenToggle)})});KO.displayName=k4;var sy="DialogPortal",[QO,P4]=G4(sy,{forceMount:void 0}),F4=a=>{const{__scopeDialog:t,forceMount:e,children:n,container:r}=a,l=Ir(sy,t);return $.jsx(QO,{scope:t,forceMount:e,children:F.Children.map(n,h=>$.jsx(Xh,{present:e||l.open,children:$.jsx(ay,{asChild:!0,container:r,children:h})}))})};F4.displayName=sy;var Sm="DialogOverlay",V4=F.forwardRef((a,t)=>{const e=P4(Sm,a.__scopeDialog),{forceMount:n=e.forceMount,...r}=a,l=Ir(Sm,a.__scopeDialog);return l.modal?$.jsx(Xh,{present:n||l.open,children:$.jsx(WO,{...r,ref:t})}):null});V4.displayName=Sm;var WO=F.forwardRef((a,t)=>{const{__scopeDialog:e,...n}=a,r=Ir(Sm,e);return $.jsx(L4,{as:Yo,allowPinchZoom:!0,shards:[r.contentRef],children:$.jsx(ai.div,{"data-state":ly(r.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),lu="DialogContent",Y4=F.forwardRef((a,t)=>{const e=P4(lu,a.__scopeDialog),{forceMount:n=e.forceMount,...r}=a,l=Ir(lu,a.__scopeDialog);return $.jsx(Xh,{present:n||l.open,children:l.modal?$.jsx(ZO,{...r,ref:t}):$.jsx(IO,{...r,ref:t})})});Y4.displayName=lu;var ZO=F.forwardRef((a,t)=>{const e=Ir(lu,a.__scopeDialog),n=F.useRef(null),r=Zr(t,e.contentRef,n);return F.useEffect(()=>{const l=n.current;if(l)return XO(l)},[]),$.jsx(X4,{...a,ref:r,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ua(a.onCloseAutoFocus,l=>{var h;l.preventDefault(),(h=e.triggerRef.current)==null||h.focus()}),onPointerDownOutside:ua(a.onPointerDownOutside,l=>{const h=l.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0;(h.button===2||f)&&l.preventDefault()}),onFocusOutside:ua(a.onFocusOutside,l=>l.preventDefault())})}),IO=F.forwardRef((a,t)=>{const e=Ir(lu,a.__scopeDialog),n=F.useRef(!1),r=F.useRef(!1);return $.jsx(X4,{...a,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var h,f;(h=a.onCloseAutoFocus)==null||h.call(a,l),l.defaultPrevented||(n.current||(f=e.triggerRef.current)==null||f.focus(),l.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:l=>{var d,p;(d=a.onInteractOutside)==null||d.call(a,l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const h=l.target;((p=e.triggerRef.current)==null?void 0:p.contains(h))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&r.current&&l.preventDefault()}})}),X4=F.forwardRef((a,t)=>{const{__scopeDialog:e,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:l,...h}=a,f=Ir(lu,e),d=F.useRef(null),p=Zr(t,d);return rO(),$.jsxs($.Fragment,{children:[$.jsx(w4,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:l,children:$.jsx(iy,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":ly(f.open),...h,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),$.jsxs($.Fragment,{children:[$.jsx(JO,{titleId:f.titleId}),$.jsx(tM,{contentRef:d,descriptionId:f.descriptionId})]})]})}),oy="DialogTitle",q4=F.forwardRef((a,t)=>{const{__scopeDialog:e,...n}=a,r=Ir(oy,e);return $.jsx(ai.h2,{id:r.titleId,...n,ref:t})});q4.displayName=oy;var K4="DialogDescription",Q4=F.forwardRef((a,t)=>{const{__scopeDialog:e,...n}=a,r=Ir(K4,e);return $.jsx(ai.p,{id:r.descriptionId,...n,ref:t})});Q4.displayName=K4;var W4="DialogClose",Z4=F.forwardRef((a,t)=>{const{__scopeDialog:e,...n}=a,r=Ir(W4,e);return $.jsx(ai.button,{type:"button",...n,ref:t,onClick:ua(a.onClick,()=>r.onOpenChange(!1))})});Z4.displayName=W4;function ly(a){return a?"open":"closed"}var I4="DialogTitleWarning",[LN,J4]=Bw(I4,{contentName:lu,titleName:oy,docsSlug:"dialog"}),JO=({titleId:a})=>{const t=J4(I4),e=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return F.useEffect(()=>{a&&(document.getElementById(a)||console.error(e))},[e,a]),null},$O="DialogDescriptionWarning",tM=({contentRef:a,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${J4($O).contentName}}.`;return F.useEffect(()=>{var l;const r=(l=a.current)==null?void 0:l.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,a,t]),null},eM=H4,nM=F4,$4=V4,tA=Y4,eA=q4,nA=Q4,iM=Z4;const aM=eM,rM=nM,iA=F.forwardRef(({className:a,...t},e)=>$.jsx($4,{className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...t,ref:e}));iA.displayName=$4.displayName;const sM=ey("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),aA=F.forwardRef(({side:a="right",className:t,children:e,...n},r)=>$.jsxs(rM,{children:[$.jsx(iA,{}),$.jsxs(tA,{ref:r,className:ge(sM({side:a}),t),...n,children:[$.jsxs(iM,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[$.jsx(WE,{className:"h-4 w-4"}),$.jsx("span",{className:"sr-only",children:"Close"})]}),e]})]}));aA.displayName=tA.displayName;const oM=F.forwardRef(({className:a,...t},e)=>$.jsx(eA,{ref:e,className:ge("text-lg font-semibold text-foreground",a),...t}));oM.displayName=eA.displayName;const lM=F.forwardRef(({className:a,...t},e)=>$.jsx(nA,{ref:e,className:ge("text-sm text-muted-foreground",a),...t}));lM.displayName=nA.displayName;function q3({className:a,...t}){return $.jsx("div",{className:ge("animate-pulse rounded-md bg-primary/10",a),...t})}const cM=["top","right","bottom","left"],Kl=Math.min,Ra=Math.max,Am=Math.round,W1=Math.floor,ks=a=>({x:a,y:a}),uM={left:"right",right:"left",bottom:"top",top:"bottom"},hM={start:"end",end:"start"};function uv(a,t,e){return Ra(a,Kl(t,e))}function Ho(a,t){return typeof a=="function"?a(t):a}function ko(a){return a.split("-")[0]}function qh(a){return a.split("-")[1]}function cy(a){return a==="x"?"y":"x"}function uy(a){return a==="y"?"height":"width"}function Ql(a){return["top","bottom"].includes(ko(a))?"y":"x"}function hy(a){return cy(Ql(a))}function fM(a,t,e){e===void 0&&(e=!1);const n=qh(a),r=hy(a),l=uy(r);let h=r==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(h=xm(h)),[h,xm(h)]}function dM(a){const t=xm(a);return[hv(a),t,hv(t)]}function hv(a){return a.replace(/start|end/g,t=>hM[t])}function gM(a,t,e){const n=["left","right"],r=["right","left"],l=["top","bottom"],h=["bottom","top"];switch(a){case"top":case"bottom":return e?t?r:n:t?n:r;case"left":case"right":return t?l:h;default:return[]}}function mM(a,t,e,n){const r=qh(a);let l=gM(ko(a),e==="start",n);return r&&(l=l.map(h=>h+"-"+r),t&&(l=l.concat(l.map(hv)))),l}function xm(a){return a.replace(/left|right|bottom|top/g,t=>uM[t])}function pM(a){return{top:0,right:0,bottom:0,left:0,...a}}function rA(a){return typeof a!="number"?pM(a):{top:a,right:a,bottom:a,left:a}}function Cm(a){const{x:t,y:e,width:n,height:r}=a;return{width:n,height:r,top:e,left:t,right:t+n,bottom:e+r,x:t,y:e}}function K3(a,t,e){let{reference:n,floating:r}=a;const l=Ql(t),h=hy(t),f=uy(h),d=ko(t),p=l==="y",v=n.x+n.width/2-r.width/2,b=n.y+n.height/2-r.height/2,A=n[f]/2-r[f]/2;let S;switch(d){case"top":S={x:v,y:n.y-r.height};break;case"bottom":S={x:v,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y:b};break;case"left":S={x:n.x-r.width,y:b};break;default:S={x:n.x,y:n.y}}switch(qh(t)){case"start":S[h]-=A*(e&&p?-1:1);break;case"end":S[h]+=A*(e&&p?-1:1);break}return S}const vM=async(a,t,e)=>{const{placement:n="bottom",strategy:r="absolute",middleware:l=[],platform:h}=e,f=l.filter(Boolean),d=await(h.isRTL==null?void 0:h.isRTL(t));let p=await h.getElementRects({reference:a,floating:t,strategy:r}),{x:v,y:b}=K3(p,n,d),A=n,S={},x=0;for(let w=0;w<f.length;w++){const{name:M,fn:D}=f[w],{x:T,y:O,data:R,reset:z}=await D({x:v,y:b,initialPlacement:n,placement:A,strategy:r,middlewareData:S,rects:p,platform:h,elements:{reference:a,floating:t}});v=T??v,b=O??b,S={...S,[M]:{...S[M],...R}},z&&x<=50&&(x++,typeof z=="object"&&(z.placement&&(A=z.placement),z.rects&&(p=z.rects===!0?await h.getElementRects({reference:a,floating:t,strategy:r}):z.rects),{x:v,y:b}=K3(p,A,d)),w=-1)}return{x:v,y:b,placement:A,strategy:r,middlewareData:S}};async function _0(a,t){var e;t===void 0&&(t={});const{x:n,y:r,platform:l,rects:h,elements:f,strategy:d}=a,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:A=!1,padding:S=0}=Ho(t,a),x=rA(S),M=f[A?b==="floating"?"reference":"floating":b],D=Cm(await l.getClippingRect({element:(e=await(l.isElement==null?void 0:l.isElement(M)))==null||e?M:M.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:p,rootBoundary:v,strategy:d})),T=b==="floating"?{x:n,y:r,width:h.floating.width,height:h.floating.height}:h.reference,O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),R=await(l.isElement==null?void 0:l.isElement(O))?await(l.getScale==null?void 0:l.getScale(O))||{x:1,y:1}:{x:1,y:1},z=Cm(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:T,offsetParent:O,strategy:d}):T);return{top:(D.top-z.top+x.top)/R.y,bottom:(z.bottom-D.bottom+x.bottom)/R.y,left:(D.left-z.left+x.left)/R.x,right:(z.right-D.right+x.right)/R.x}}const yM=a=>({name:"arrow",options:a,async fn(t){const{x:e,y:n,placement:r,rects:l,platform:h,elements:f,middlewareData:d}=t,{element:p,padding:v=0}=Ho(a,t)||{};if(p==null)return{};const b=rA(v),A={x:e,y:n},S=hy(r),x=uy(S),w=await h.getDimensions(p),M=S==="y",D=M?"top":"left",T=M?"bottom":"right",O=M?"clientHeight":"clientWidth",R=l.reference[x]+l.reference[S]-A[S]-l.floating[x],z=A[S]-l.reference[S],H=await(h.getOffsetParent==null?void 0:h.getOffsetParent(p));let V=H?H[O]:0;(!V||!await(h.isElement==null?void 0:h.isElement(H)))&&(V=f.floating[O]||l.floating[x]);const P=R/2-z/2,K=V/2-w[x]/2-1,B=Kl(b[D],K),Y=Kl(b[T],K),Z=B,j=V-w[x]-Y,U=V/2-w[x]/2+P,G=uv(Z,U,j),k=!d.arrow&&qh(r)!=null&&U!==G&&l.reference[x]/2-(U<Z?B:Y)-w[x]/2<0,X=k?U<Z?U-Z:U-j:0;return{[S]:A[S]+X,data:{[S]:G,centerOffset:U-G-X,...k&&{alignmentOffset:X}},reset:k}}}),bM=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(t){var e,n;const{placement:r,middlewareData:l,rects:h,initialPlacement:f,platform:d,elements:p}=t,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:A,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:w=!0,...M}=Ho(a,t);if((e=l.arrow)!=null&&e.alignmentOffset)return{};const D=ko(r),T=Ql(f),O=ko(f)===f,R=await(d.isRTL==null?void 0:d.isRTL(p.floating)),z=A||(O||!w?[xm(f)]:dM(f)),H=x!=="none";!A&&H&&z.push(...mM(f,w,x,R));const V=[f,...z],P=await _0(t,M),K=[];let B=((n=l.flip)==null?void 0:n.overflows)||[];if(v&&K.push(P[D]),b){const U=fM(r,h,R);K.push(P[U[0]],P[U[1]])}if(B=[...B,{placement:r,overflows:K}],!K.every(U=>U<=0)){var Y,Z;const U=(((Y=l.flip)==null?void 0:Y.index)||0)+1,G=V[U];if(G)return{data:{index:U,overflows:B},reset:{placement:G}};let k=(Z=B.filter(X=>X.overflows[0]<=0).sort((X,I)=>X.overflows[1]-I.overflows[1])[0])==null?void 0:Z.placement;if(!k)switch(S){case"bestFit":{var j;const X=(j=B.filter(I=>{if(H){const it=Ql(I.placement);return it===T||it==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(it=>it>0).reduce((it,q)=>it+q,0)]).sort((I,it)=>I[1]-it[1])[0])==null?void 0:j[0];X&&(k=X);break}case"initialPlacement":k=f;break}if(r!==k)return{reset:{placement:k}}}return{}}}};function Q3(a,t){return{top:a.top-t.height,right:a.right-t.width,bottom:a.bottom-t.height,left:a.left-t.width}}function W3(a){return cM.some(t=>a[t]>=0)}const _M=function(a){return a===void 0&&(a={}),{name:"hide",options:a,async fn(t){const{rects:e}=t,{strategy:n="referenceHidden",...r}=Ho(a,t);switch(n){case"referenceHidden":{const l=await _0(t,{...r,elementContext:"reference"}),h=Q3(l,e.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:W3(h)}}}case"escaped":{const l=await _0(t,{...r,altBoundary:!0}),h=Q3(l,e.floating);return{data:{escapedOffsets:h,escaped:W3(h)}}}default:return{}}}}};async function SM(a,t){const{placement:e,platform:n,elements:r}=a,l=await(n.isRTL==null?void 0:n.isRTL(r.floating)),h=ko(e),f=qh(e),d=Ql(e)==="y",p=["left","top"].includes(h)?-1:1,v=l&&d?-1:1,b=Ho(t,a);let{mainAxis:A,crossAxis:S,alignmentAxis:x}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof x=="number"&&(S=f==="end"?x*-1:x),d?{x:S*v,y:A*p}:{x:A*p,y:S*v}}const AM=function(a){return a===void 0&&(a=0),{name:"offset",options:a,async fn(t){var e,n;const{x:r,y:l,placement:h,middlewareData:f}=t,d=await SM(t,a);return h===((e=f.offset)==null?void 0:e.placement)&&(n=f.arrow)!=null&&n.alignmentOffset?{}:{x:r+d.x,y:l+d.y,data:{...d,placement:h}}}}},xM=function(a){return a===void 0&&(a={}),{name:"shift",options:a,async fn(t){const{x:e,y:n,placement:r}=t,{mainAxis:l=!0,crossAxis:h=!1,limiter:f={fn:M=>{let{x:D,y:T}=M;return{x:D,y:T}}},...d}=Ho(a,t),p={x:e,y:n},v=await _0(t,d),b=Ql(ko(r)),A=cy(b);let S=p[A],x=p[b];if(l){const M=A==="y"?"top":"left",D=A==="y"?"bottom":"right",T=S+v[M],O=S-v[D];S=uv(T,S,O)}if(h){const M=b==="y"?"top":"left",D=b==="y"?"bottom":"right",T=x+v[M],O=x-v[D];x=uv(T,x,O)}const w=f.fn({...t,[A]:S,[b]:x});return{...w,data:{x:w.x-e,y:w.y-n,enabled:{[A]:l,[b]:h}}}}}},CM=function(a){return a===void 0&&(a={}),{options:a,fn(t){const{x:e,y:n,placement:r,rects:l,middlewareData:h}=t,{offset:f=0,mainAxis:d=!0,crossAxis:p=!0}=Ho(a,t),v={x:e,y:n},b=Ql(r),A=cy(b);let S=v[A],x=v[b];const w=Ho(f,t),M=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const O=A==="y"?"height":"width",R=l.reference[A]-l.floating[O]+M.mainAxis,z=l.reference[A]+l.reference[O]-M.mainAxis;S<R?S=R:S>z&&(S=z)}if(p){var D,T;const O=A==="y"?"width":"height",R=["top","left"].includes(ko(r)),z=l.reference[b]-l.floating[O]+(R&&((D=h.offset)==null?void 0:D[b])||0)+(R?0:M.crossAxis),H=l.reference[b]+l.reference[O]+(R?0:((T=h.offset)==null?void 0:T[b])||0)-(R?M.crossAxis:0);x<z?x=z:x>H&&(x=H)}return{[A]:S,[b]:x}}}},TM=function(a){return a===void 0&&(a={}),{name:"size",options:a,async fn(t){var e,n;const{placement:r,rects:l,platform:h,elements:f}=t,{apply:d=()=>{},...p}=Ho(a,t),v=await _0(t,p),b=ko(r),A=qh(r),S=Ql(r)==="y",{width:x,height:w}=l.floating;let M,D;b==="top"||b==="bottom"?(M=b,D=A===(await(h.isRTL==null?void 0:h.isRTL(f.floating))?"start":"end")?"left":"right"):(D=b,M=A==="end"?"top":"bottom");const T=w-v.top-v.bottom,O=x-v.left-v.right,R=Kl(w-v[M],T),z=Kl(x-v[D],O),H=!t.middlewareData.shift;let V=R,P=z;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(P=O),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(V=T),H&&!A){const B=Ra(v.left,0),Y=Ra(v.right,0),Z=Ra(v.top,0),j=Ra(v.bottom,0);S?P=x-2*(B!==0||Y!==0?B+Y:Ra(v.left,v.right)):V=w-2*(Z!==0||j!==0?Z+j:Ra(v.top,v.bottom))}await d({...t,availableWidth:P,availableHeight:V});const K=await h.getDimensions(f.floating);return x!==K.width||w!==K.height?{reset:{rects:!0}}:{}}}};function $m(){return typeof window<"u"}function Kh(a){return sA(a)?(a.nodeName||"").toLowerCase():"#document"}function Na(a){var t;return(a==null||(t=a.ownerDocument)==null?void 0:t.defaultView)||window}function Ys(a){var t;return(t=(sA(a)?a.ownerDocument:a.document)||window.document)==null?void 0:t.documentElement}function sA(a){return $m()?a instanceof Node||a instanceof Na(a).Node:!1}function Qr(a){return $m()?a instanceof Element||a instanceof Na(a).Element:!1}function Vs(a){return $m()?a instanceof HTMLElement||a instanceof Na(a).HTMLElement:!1}function Z3(a){return!$m()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof Na(a).ShadowRoot}function D0(a){const{overflow:t,overflowX:e,overflowY:n,display:r}=Wr(a);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!["inline","contents"].includes(r)}function EM(a){return["table","td","th"].includes(Kh(a))}function tp(a){return[":popover-open",":modal"].some(t=>{try{return a.matches(t)}catch{return!1}})}function fy(a){const t=dy(),e=Qr(a)?Wr(a):a;return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(e.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(e.contain||"").includes(n))}function wM(a){let t=Wl(a);for(;Vs(t)&&!zh(t);){if(fy(t))return t;if(tp(t))return null;t=Wl(t)}return null}function dy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zh(a){return["html","body","#document"].includes(Kh(a))}function Wr(a){return Na(a).getComputedStyle(a)}function ep(a){return Qr(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function Wl(a){if(Kh(a)==="html")return a;const t=a.assignedSlot||a.parentNode||Z3(a)&&a.host||Ys(a);return Z3(t)?t.host:t}function oA(a){const t=Wl(a);return zh(t)?a.ownerDocument?a.ownerDocument.body:a.body:Vs(t)&&D0(t)?t:oA(t)}function S0(a,t,e){var n;t===void 0&&(t=[]),e===void 0&&(e=!0);const r=oA(a),l=r===((n=a.ownerDocument)==null?void 0:n.body),h=Na(r);if(l){const f=fv(h);return t.concat(h,h.visualViewport||[],D0(r)?r:[],f&&e?S0(f):[])}return t.concat(r,S0(r,[],e))}function fv(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}function lA(a){const t=Wr(a);let e=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=Vs(a),l=r?a.offsetWidth:e,h=r?a.offsetHeight:n,f=Am(e)!==l||Am(n)!==h;return f&&(e=l,n=h),{width:e,height:n,$:f}}function gy(a){return Qr(a)?a:a.contextElement}function Nh(a){const t=gy(a);if(!Vs(t))return ks(1);const e=t.getBoundingClientRect(),{width:n,height:r,$:l}=lA(t);let h=(l?Am(e.width):e.width)/n,f=(l?Am(e.height):e.height)/r;return(!h||!Number.isFinite(h))&&(h=1),(!f||!Number.isFinite(f))&&(f=1),{x:h,y:f}}const OM=ks(0);function cA(a){const t=Na(a);return!dy()||!t.visualViewport?OM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function MM(a,t,e){return t===void 0&&(t=!1),!e||t&&e!==Na(a)?!1:t}function cu(a,t,e,n){t===void 0&&(t=!1),e===void 0&&(e=!1);const r=a.getBoundingClientRect(),l=gy(a);let h=ks(1);t&&(n?Qr(n)&&(h=Nh(n)):h=Nh(a));const f=MM(l,e,n)?cA(l):ks(0);let d=(r.left+f.x)/h.x,p=(r.top+f.y)/h.y,v=r.width/h.x,b=r.height/h.y;if(l){const A=Na(l),S=n&&Qr(n)?Na(n):n;let x=A,w=fv(x);for(;w&&n&&S!==x;){const M=Nh(w),D=w.getBoundingClientRect(),T=Wr(w),O=D.left+(w.clientLeft+parseFloat(T.paddingLeft))*M.x,R=D.top+(w.clientTop+parseFloat(T.paddingTop))*M.y;d*=M.x,p*=M.y,v*=M.x,b*=M.y,d+=O,p+=R,x=Na(w),w=fv(x)}}return Cm({width:v,height:b,x:d,y:p})}function my(a,t){const e=ep(a).scrollLeft;return t?t.left+e:cu(Ys(a)).left+e}function uA(a,t,e){e===void 0&&(e=!1);const n=a.getBoundingClientRect(),r=n.left+t.scrollLeft-(e?0:my(a,n)),l=n.top+t.scrollTop;return{x:r,y:l}}function DM(a){let{elements:t,rect:e,offsetParent:n,strategy:r}=a;const l=r==="fixed",h=Ys(n),f=t?tp(t.floating):!1;if(n===h||f&&l)return e;let d={scrollLeft:0,scrollTop:0},p=ks(1);const v=ks(0),b=Vs(n);if((b||!b&&!l)&&((Kh(n)!=="body"||D0(h))&&(d=ep(n)),Vs(n))){const S=cu(n);p=Nh(n),v.x=S.x+n.clientLeft,v.y=S.y+n.clientTop}const A=h&&!b&&!l?uA(h,d,!0):ks(0);return{width:e.width*p.x,height:e.height*p.y,x:e.x*p.x-d.scrollLeft*p.x+v.x+A.x,y:e.y*p.y-d.scrollTop*p.y+v.y+A.y}}function RM(a){return Array.from(a.getClientRects())}function NM(a){const t=Ys(a),e=ep(a),n=a.ownerDocument.body,r=Ra(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),l=Ra(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let h=-e.scrollLeft+my(a);const f=-e.scrollTop;return Wr(n).direction==="rtl"&&(h+=Ra(t.clientWidth,n.clientWidth)-r),{width:r,height:l,x:h,y:f}}function jM(a,t){const e=Na(a),n=Ys(a),r=e.visualViewport;let l=n.clientWidth,h=n.clientHeight,f=0,d=0;if(r){l=r.width,h=r.height;const p=dy();(!p||p&&t==="fixed")&&(f=r.offsetLeft,d=r.offsetTop)}return{width:l,height:h,x:f,y:d}}function zM(a,t){const e=cu(a,!0,t==="fixed"),n=e.top+a.clientTop,r=e.left+a.clientLeft,l=Vs(a)?Nh(a):ks(1),h=a.clientWidth*l.x,f=a.clientHeight*l.y,d=r*l.x,p=n*l.y;return{width:h,height:f,x:d,y:p}}function I3(a,t,e){let n;if(t==="viewport")n=jM(a,e);else if(t==="document")n=NM(Ys(a));else if(Qr(t))n=zM(t,e);else{const r=cA(a);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Cm(n)}function hA(a,t){const e=Wl(a);return e===t||!Qr(e)||zh(e)?!1:Wr(e).position==="fixed"||hA(e,t)}function BM(a,t){const e=t.get(a);if(e)return e;let n=S0(a,[],!1).filter(f=>Qr(f)&&Kh(f)!=="body"),r=null;const l=Wr(a).position==="fixed";let h=l?Wl(a):a;for(;Qr(h)&&!zh(h);){const f=Wr(h),d=fy(h);!d&&f.position==="fixed"&&(r=null),(l?!d&&!r:!d&&f.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||D0(h)&&!d&&hA(a,h))?n=n.filter(v=>v!==h):r=f,h=Wl(h)}return t.set(a,n),n}function LM(a){let{element:t,boundary:e,rootBoundary:n,strategy:r}=a;const h=[...e==="clippingAncestors"?tp(t)?[]:BM(t,this._c):[].concat(e),n],f=h[0],d=h.reduce((p,v)=>{const b=I3(t,v,r);return p.top=Ra(b.top,p.top),p.right=Kl(b.right,p.right),p.bottom=Kl(b.bottom,p.bottom),p.left=Ra(b.left,p.left),p},I3(t,f,r));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function UM(a){const{width:t,height:e}=lA(a);return{width:t,height:e}}function GM(a,t,e){const n=Vs(t),r=Ys(t),l=e==="fixed",h=cu(a,!0,l,t);let f={scrollLeft:0,scrollTop:0};const d=ks(0);if(n||!n&&!l)if((Kh(t)!=="body"||D0(r))&&(f=ep(t)),n){const A=cu(t,!0,l,t);d.x=A.x+t.clientLeft,d.y=A.y+t.clientTop}else r&&(d.x=my(r));const p=r&&!n&&!l?uA(r,f):ks(0),v=h.left+f.scrollLeft-d.x-p.x,b=h.top+f.scrollTop-d.y-p.y;return{x:v,y:b,width:h.width,height:h.height}}function U2(a){return Wr(a).position==="static"}function J3(a,t){if(!Vs(a)||Wr(a).position==="fixed")return null;if(t)return t(a);let e=a.offsetParent;return Ys(a)===e&&(e=e.ownerDocument.body),e}function fA(a,t){const e=Na(a);if(tp(a))return e;if(!Vs(a)){let r=Wl(a);for(;r&&!zh(r);){if(Qr(r)&&!U2(r))return r;r=Wl(r)}return e}let n=J3(a,t);for(;n&&EM(n)&&U2(n);)n=J3(n,t);return n&&zh(n)&&U2(n)&&!fy(n)?e:n||wM(a)||e}const HM=async function(a){const t=this.getOffsetParent||fA,e=this.getDimensions,n=await e(a.floating);return{reference:GM(a.reference,await t(a.floating),a.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function kM(a){return Wr(a).direction==="rtl"}const PM={convertOffsetParentRelativeRectToViewportRelativeRect:DM,getDocumentElement:Ys,getClippingRect:LM,getOffsetParent:fA,getElementRects:HM,getClientRects:RM,getDimensions:UM,getScale:Nh,isElement:Qr,isRTL:kM};function FM(a,t){let e=null,n;const r=Ys(a);function l(){var f;clearTimeout(n),(f=e)==null||f.disconnect(),e=null}function h(f,d){f===void 0&&(f=!1),d===void 0&&(d=1),l();const{left:p,top:v,width:b,height:A}=a.getBoundingClientRect();if(f||t(),!b||!A)return;const S=W1(v),x=W1(r.clientWidth-(p+b)),w=W1(r.clientHeight-(v+A)),M=W1(p),T={rootMargin:-S+"px "+-x+"px "+-w+"px "+-M+"px",threshold:Ra(0,Kl(1,d))||1};let O=!0;function R(z){const H=z[0].intersectionRatio;if(H!==d){if(!O)return h();H?h(!1,H):n=setTimeout(()=>{h(!1,1e-7)},1e3)}O=!1}try{e=new IntersectionObserver(R,{...T,root:r.ownerDocument})}catch{e=new IntersectionObserver(R,T)}e.observe(a)}return h(!0),l}function VM(a,t,e,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:l=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,p=gy(a),v=r||l?[...p?S0(p):[],...S0(t)]:[];v.forEach(D=>{r&&D.addEventListener("scroll",e,{passive:!0}),l&&D.addEventListener("resize",e)});const b=p&&f?FM(p,e):null;let A=-1,S=null;h&&(S=new ResizeObserver(D=>{let[T]=D;T&&T.target===p&&S&&(S.unobserve(t),cancelAnimationFrame(A),A=requestAnimationFrame(()=>{var O;(O=S)==null||O.observe(t)})),e()}),p&&!d&&S.observe(p),S.observe(t));let x,w=d?cu(a):null;d&&M();function M(){const D=cu(a);w&&(D.x!==w.x||D.y!==w.y||D.width!==w.width||D.height!==w.height)&&e(),w=D,x=requestAnimationFrame(M)}return e(),()=>{var D;v.forEach(T=>{r&&T.removeEventListener("scroll",e),l&&T.removeEventListener("resize",e)}),b==null||b(),(D=S)==null||D.disconnect(),S=null,d&&cancelAnimationFrame(x)}}const YM=AM,XM=xM,qM=bM,KM=TM,QM=_M,$3=yM,WM=CM,ZM=(a,t,e)=>{const n=new Map,r={platform:PM,...e},l={...r.platform,_c:n};return vM(a,t,{...r,platform:l})};var sm=typeof document<"u"?F.useLayoutEffect:F.useEffect;function Tm(a,t){if(a===t)return!0;if(typeof a!=typeof t)return!1;if(typeof a=="function"&&a.toString()===t.toString())return!0;let e,n,r;if(a&&t&&typeof a=="object"){if(Array.isArray(a)){if(e=a.length,e!==t.length)return!1;for(n=e;n--!==0;)if(!Tm(a[n],t[n]))return!1;return!0}if(r=Object.keys(a),e=r.length,e!==Object.keys(t).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(t,r[n]))return!1;for(n=e;n--!==0;){const l=r[n];if(!(l==="_owner"&&a.$$typeof)&&!Tm(a[l],t[l]))return!1}return!0}return a!==a&&t!==t}function dA(a){return typeof window>"u"?1:(a.ownerDocument.defaultView||window).devicePixelRatio||1}function t_(a,t){const e=dA(a);return Math.round(t*e)/e}function G2(a){const t=F.useRef(a);return sm(()=>{t.current=a}),t}function IM(a){a===void 0&&(a={});const{placement:t="bottom",strategy:e="absolute",middleware:n=[],platform:r,elements:{reference:l,floating:h}={},transform:f=!0,whileElementsMounted:d,open:p}=a,[v,b]=F.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[A,S]=F.useState(n);Tm(A,n)||S(n);const[x,w]=F.useState(null),[M,D]=F.useState(null),T=F.useCallback(I=>{I!==H.current&&(H.current=I,w(I))},[]),O=F.useCallback(I=>{I!==V.current&&(V.current=I,D(I))},[]),R=l||x,z=h||M,H=F.useRef(null),V=F.useRef(null),P=F.useRef(v),K=d!=null,B=G2(d),Y=G2(r),Z=G2(p),j=F.useCallback(()=>{if(!H.current||!V.current)return;const I={placement:t,strategy:e,middleware:A};Y.current&&(I.platform=Y.current),ZM(H.current,V.current,I).then(it=>{const q={...it,isPositioned:Z.current!==!1};U.current&&!Tm(P.current,q)&&(P.current=q,Cv.flushSync(()=>{b(q)}))})},[A,t,e,Y,Z]);sm(()=>{p===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,b(I=>({...I,isPositioned:!1})))},[p]);const U=F.useRef(!1);sm(()=>(U.current=!0,()=>{U.current=!1}),[]),sm(()=>{if(R&&(H.current=R),z&&(V.current=z),R&&z){if(B.current)return B.current(R,z,j);j()}},[R,z,j,B,K]);const G=F.useMemo(()=>({reference:H,floating:V,setReference:T,setFloating:O}),[T,O]),k=F.useMemo(()=>({reference:R,floating:z}),[R,z]),X=F.useMemo(()=>{const I={position:e,left:0,top:0};if(!k.floating)return I;const it=t_(k.floating,v.x),q=t_(k.floating,v.y);return f?{...I,transform:"translate("+it+"px, "+q+"px)",...dA(k.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:it,top:q}},[e,f,k.floating,v.x,v.y]);return F.useMemo(()=>({...v,update:j,refs:G,elements:k,floatingStyles:X}),[v,j,G,k,X])}const JM=a=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:a,fn(e){const{element:n,padding:r}=typeof a=="function"?a(e):a;return n&&t(n)?n.current!=null?$3({element:n.current,padding:r}).fn(e):{}:n?$3({element:n,padding:r}).fn(e):{}}}},$M=(a,t)=>({...YM(a),options:[a,t]}),tD=(a,t)=>({...XM(a),options:[a,t]}),eD=(a,t)=>({...WM(a),options:[a,t]}),nD=(a,t)=>({...qM(a),options:[a,t]}),iD=(a,t)=>({...KM(a),options:[a,t]}),aD=(a,t)=>({...QM(a),options:[a,t]}),rD=(a,t)=>({...JM(a),options:[a,t]});var sD="Arrow",gA=F.forwardRef((a,t)=>{const{children:e,width:n=10,height:r=5,...l}=a;return $.jsx(ai.svg,{...l,ref:t,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:a.asChild?e:$.jsx("polygon",{points:"0,0 30,0 15,10"})})});gA.displayName=sD;var oD=gA;function lD(a){const[t,e]=F.useState(void 0);return Uo(()=>{if(a){e({width:a.offsetWidth,height:a.offsetHeight});const n=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const l=r[0];let h,f;if("borderBoxSize"in l){const d=l.borderBoxSize,p=Array.isArray(d)?d[0]:d;h=p.inlineSize,f=p.blockSize}else h=a.offsetWidth,f=a.offsetHeight;e({width:h,height:f})});return n.observe(a,{box:"border-box"}),()=>n.unobserve(a)}else e(void 0)},[a]),t}var py="Popper",[mA,pA]=Im(py),[cD,vA]=mA(py),yA=a=>{const{__scopePopper:t,children:e}=a,[n,r]=F.useState(null);return $.jsx(cD,{scope:t,anchor:n,onAnchorChange:r,children:e})};yA.displayName=py;var bA="PopperAnchor",_A=F.forwardRef((a,t)=>{const{__scopePopper:e,virtualRef:n,...r}=a,l=vA(bA,e),h=F.useRef(null),f=Zr(t,h);return F.useEffect(()=>{l.onAnchorChange((n==null?void 0:n.current)||h.current)}),n?null:$.jsx(ai.div,{...r,ref:f})});_A.displayName=bA;var vy="PopperContent",[uD,hD]=mA(vy),SA=F.forwardRef((a,t)=>{var et,rt,_t,wt,Nt,Bt;const{__scopePopper:e,side:n="bottom",sideOffset:r=0,align:l="center",alignOffset:h=0,arrowPadding:f=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:A=!1,updatePositionStrategy:S="optimized",onPlaced:x,...w}=a,M=vA(vy,e),[D,T]=F.useState(null),O=Zr(t,Xt=>T(Xt)),[R,z]=F.useState(null),H=lD(R),V=(H==null?void 0:H.width)??0,P=(H==null?void 0:H.height)??0,K=n+(l!=="center"?"-"+l:""),B=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},Y=Array.isArray(p)?p:[p],Z=Y.length>0,j={padding:B,boundary:Y.filter(dD),altBoundary:Z},{refs:U,floatingStyles:G,placement:k,isPositioned:X,middlewareData:I}=IM({strategy:"fixed",placement:K,whileElementsMounted:(...Xt)=>VM(...Xt,{animationFrame:S==="always"}),elements:{reference:M.anchor},middleware:[$M({mainAxis:r+P,alignmentAxis:h}),d&&tD({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?eD():void 0,...j}),d&&nD({...j}),iD({...j,apply:({elements:Xt,rects:It,availableWidth:Pt,availableHeight:Ne})=>{const{width:Wt,height:Ee}=It.reference,Nn=Xt.floating.style;Nn.setProperty("--radix-popper-available-width",`${Pt}px`),Nn.setProperty("--radix-popper-available-height",`${Ne}px`),Nn.setProperty("--radix-popper-anchor-width",`${Wt}px`),Nn.setProperty("--radix-popper-anchor-height",`${Ee}px`)}}),R&&rD({element:R,padding:f}),gD({arrowWidth:V,arrowHeight:P}),A&&aD({strategy:"referenceHidden",...j})]}),[it,q]=CA(k),tt=Go(x);Uo(()=>{X&&(tt==null||tt())},[X,tt]);const mt=(et=I.arrow)==null?void 0:et.x,lt=(rt=I.arrow)==null?void 0:rt.y,dt=((_t=I.arrow)==null?void 0:_t.centerOffset)!==0,[Tt,Ct]=F.useState();return Uo(()=>{D&&Ct(window.getComputedStyle(D).zIndex)},[D]),$.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:X?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Tt,"--radix-popper-transform-origin":[(wt=I.transformOrigin)==null?void 0:wt.x,(Nt=I.transformOrigin)==null?void 0:Nt.y].join(" "),...((Bt=I.hide)==null?void 0:Bt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:a.dir,children:$.jsx(uD,{scope:e,placedSide:it,onArrowChange:z,arrowX:mt,arrowY:lt,shouldHideArrow:dt,children:$.jsx(ai.div,{"data-side":it,"data-align":q,...w,ref:O,style:{...w.style,animation:X?void 0:"none"}})})})});SA.displayName=vy;var AA="PopperArrow",fD={top:"bottom",right:"left",bottom:"top",left:"right"},xA=F.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,l=hD(AA,n),h=fD[l.placedSide];return $.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[h]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:$.jsx(oD,{...r,ref:e,style:{...r.style,display:"block"}})})});xA.displayName=AA;function dD(a){return a!==null}var gD=a=>({name:"transformOrigin",options:a,fn(t){var M,D,T;const{placement:e,rects:n,middlewareData:r}=t,h=((M=r.arrow)==null?void 0:M.centerOffset)!==0,f=h?0:a.arrowWidth,d=h?0:a.arrowHeight,[p,v]=CA(e),b={start:"0%",center:"50%",end:"100%"}[v],A=(((D=r.arrow)==null?void 0:D.x)??0)+f/2,S=(((T=r.arrow)==null?void 0:T.y)??0)+d/2;let x="",w="";return p==="bottom"?(x=h?b:`${A}px`,w=`${-d}px`):p==="top"?(x=h?b:`${A}px`,w=`${n.floating.height+d}px`):p==="right"?(x=`${-d}px`,w=h?b:`${S}px`):p==="left"&&(x=`${n.floating.width+d}px`,w=h?b:`${S}px`),{data:{x,y:w}}}});function CA(a){const[t,e="center"]=a.split("-");return[t,e]}var mD=yA,pD=_A,vD=SA,yD=xA,bD="VisuallyHidden",TA=F.forwardRef((a,t)=>$.jsx(ai.span,{...a,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...a.style}}));TA.displayName=bD;var _D=TA,[np,UN]=Im("Tooltip",[pA]),ip=pA(),EA="TooltipProvider",SD=700,dv="tooltip.open",[AD,yy]=np(EA),wA=a=>{const{__scopeTooltip:t,delayDuration:e=SD,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:l}=a,[h,f]=F.useState(!0),d=F.useRef(!1),p=F.useRef(0);return F.useEffect(()=>{const v=p.current;return()=>window.clearTimeout(v)},[]),$.jsx(AD,{scope:t,isOpenDelayed:h,delayDuration:e,onOpen:F.useCallback(()=>{window.clearTimeout(p.current),f(!1)},[]),onClose:F.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>f(!0),n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:F.useCallback(v=>{d.current=v},[]),disableHoverableContent:r,children:l})};wA.displayName=EA;var ap="Tooltip",[xD,R0]=np(ap),OA=a=>{const{__scopeTooltip:t,children:e,open:n,defaultOpen:r=!1,onOpenChange:l,disableHoverableContent:h,delayDuration:f}=a,d=yy(ap,a.__scopeTooltip),p=ip(t),[v,b]=F.useState(null),A=im(),S=F.useRef(0),x=h??d.disableHoverableContent,w=f??d.delayDuration,M=F.useRef(!1),[D=!1,T]=C4({prop:n,defaultProp:r,onChange:V=>{V?(d.onOpen(),document.dispatchEvent(new CustomEvent(dv))):d.onClose(),l==null||l(V)}}),O=F.useMemo(()=>D?M.current?"delayed-open":"instant-open":"closed",[D]),R=F.useCallback(()=>{window.clearTimeout(S.current),S.current=0,M.current=!1,T(!0)},[T]),z=F.useCallback(()=>{window.clearTimeout(S.current),S.current=0,T(!1)},[T]),H=F.useCallback(()=>{window.clearTimeout(S.current),S.current=window.setTimeout(()=>{M.current=!0,T(!0),S.current=0},w)},[w,T]);return F.useEffect(()=>()=>{S.current&&(window.clearTimeout(S.current),S.current=0)},[]),$.jsx(mD,{...p,children:$.jsx(xD,{scope:t,contentId:A,open:D,stateAttribute:O,trigger:v,onTriggerChange:b,onTriggerEnter:F.useCallback(()=>{d.isOpenDelayed?H():R()},[d.isOpenDelayed,H,R]),onTriggerLeave:F.useCallback(()=>{x?z():(window.clearTimeout(S.current),S.current=0)},[z,x]),onOpen:R,onClose:z,disableHoverableContent:x,children:e})})};OA.displayName=ap;var gv="TooltipTrigger",MA=F.forwardRef((a,t)=>{const{__scopeTooltip:e,...n}=a,r=R0(gv,e),l=yy(gv,e),h=ip(e),f=F.useRef(null),d=Zr(t,f,r.onTriggerChange),p=F.useRef(!1),v=F.useRef(!1),b=F.useCallback(()=>p.current=!1,[]);return F.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),$.jsx(pD,{asChild:!0,...h,children:$.jsx(ai.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:d,onPointerMove:ua(a.onPointerMove,A=>{A.pointerType!=="touch"&&!v.current&&!l.isPointerInTransitRef.current&&(r.onTriggerEnter(),v.current=!0)}),onPointerLeave:ua(a.onPointerLeave,()=>{r.onTriggerLeave(),v.current=!1}),onPointerDown:ua(a.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:ua(a.onFocus,()=>{p.current||r.onOpen()}),onBlur:ua(a.onBlur,r.onClose),onClick:ua(a.onClick,r.onClose)})})});MA.displayName=gv;var by="TooltipPortal",[CD,TD]=np(by,{forceMount:void 0}),DA=a=>{const{__scopeTooltip:t,forceMount:e,children:n,container:r}=a,l=R0(by,t);return $.jsx(CD,{scope:t,forceMount:e,children:$.jsx(Xh,{present:e||l.open,children:$.jsx(ay,{asChild:!0,container:r,children:n})})})};DA.displayName=by;var Bh="TooltipContent",RA=F.forwardRef((a,t)=>{const e=TD(Bh,a.__scopeTooltip),{forceMount:n=e.forceMount,side:r="top",...l}=a,h=R0(Bh,a.__scopeTooltip);return $.jsx(Xh,{present:n||h.open,children:h.disableHoverableContent?$.jsx(NA,{side:r,...l,ref:t}):$.jsx(ED,{side:r,...l,ref:t})})}),ED=F.forwardRef((a,t)=>{const e=R0(Bh,a.__scopeTooltip),n=yy(Bh,a.__scopeTooltip),r=F.useRef(null),l=Zr(t,r),[h,f]=F.useState(null),{trigger:d,onClose:p}=e,v=r.current,{onPointerInTransitChange:b}=n,A=F.useCallback(()=>{f(null),b(!1)},[b]),S=F.useCallback((x,w)=>{const M=x.currentTarget,D={x:x.clientX,y:x.clientY},T=DD(D,M.getBoundingClientRect()),O=RD(D,T),R=ND(w.getBoundingClientRect()),z=zD([...O,...R]);f(z),b(!0)},[b]);return F.useEffect(()=>()=>A(),[A]),F.useEffect(()=>{if(d&&v){const x=M=>S(M,v),w=M=>S(M,d);return d.addEventListener("pointerleave",x),v.addEventListener("pointerleave",w),()=>{d.removeEventListener("pointerleave",x),v.removeEventListener("pointerleave",w)}}},[d,v,S,A]),F.useEffect(()=>{if(h){const x=w=>{const M=w.target,D={x:w.clientX,y:w.clientY},T=(d==null?void 0:d.contains(M))||(v==null?void 0:v.contains(M)),O=!jD(D,h);T?A():O&&(A(),p())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[d,v,h,p,A]),$.jsx(NA,{...a,ref:l})}),[wD,OD]=np(ap,{isInside:!1}),NA=F.forwardRef((a,t)=>{const{__scopeTooltip:e,children:n,"aria-label":r,onEscapeKeyDown:l,onPointerDownOutside:h,...f}=a,d=R0(Bh,e),p=ip(e),{onClose:v}=d;return F.useEffect(()=>(document.addEventListener(dv,v),()=>document.removeEventListener(dv,v)),[v]),F.useEffect(()=>{if(d.trigger){const b=A=>{const S=A.target;S!=null&&S.contains(d.trigger)&&v()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[d.trigger,v]),$.jsx(iy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:h,onFocusOutside:b=>b.preventDefault(),onDismiss:v,children:$.jsxs(vD,{"data-state":d.stateAttribute,...p,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[$.jsx(c4,{children:n}),$.jsx(wD,{scope:e,isInside:!0,children:$.jsx(_D,{id:d.contentId,role:"tooltip",children:r||n})})]})})});RA.displayName=Bh;var jA="TooltipArrow",MD=F.forwardRef((a,t)=>{const{__scopeTooltip:e,...n}=a,r=ip(e);return OD(jA,e).isInside?null:$.jsx(yD,{...r,...n,ref:t})});MD.displayName=jA;function DD(a,t){const e=Math.abs(t.top-a.y),n=Math.abs(t.bottom-a.y),r=Math.abs(t.right-a.x),l=Math.abs(t.left-a.x);switch(Math.min(e,n,r,l)){case l:return"left";case r:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function RD(a,t,e=5){const n=[];switch(t){case"top":n.push({x:a.x-e,y:a.y+e},{x:a.x+e,y:a.y+e});break;case"bottom":n.push({x:a.x-e,y:a.y-e},{x:a.x+e,y:a.y-e});break;case"left":n.push({x:a.x+e,y:a.y-e},{x:a.x+e,y:a.y+e});break;case"right":n.push({x:a.x-e,y:a.y-e},{x:a.x-e,y:a.y+e});break}return n}function ND(a){const{top:t,right:e,bottom:n,left:r}=a;return[{x:r,y:t},{x:e,y:t},{x:e,y:n},{x:r,y:n}]}function jD(a,t){const{x:e,y:n}=a;let r=!1;for(let l=0,h=t.length-1;l<t.length;h=l++){const f=t[l].x,d=t[l].y,p=t[h].x,v=t[h].y;d>n!=v>n&&e<(p-f)*(n-d)/(v-d)+f&&(r=!r)}return r}function zD(a){const t=a.slice();return t.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),BD(t)}function BD(a){if(a.length<=1)return a.slice();const t=[];for(let n=0;n<a.length;n++){const r=a[n];for(;t.length>=2;){const l=t[t.length-1],h=t[t.length-2];if((l.x-h.x)*(r.y-h.y)>=(l.y-h.y)*(r.x-h.x))t.pop();else break}t.push(r)}t.pop();const e=[];for(let n=a.length-1;n>=0;n--){const r=a[n];for(;e.length>=2;){const l=e[e.length-1],h=e[e.length-2];if((l.x-h.x)*(r.y-h.y)>=(l.y-h.y)*(r.x-h.x))e.pop();else break}e.push(r)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}var LD=wA,UD=OA,GD=MA,HD=DA,zA=RA;const kD=LD,PD=UD,FD=GD,BA=F.forwardRef(({className:a,sideOffset:t=4,...e},n)=>$.jsx(HD,{children:$.jsx(zA,{ref:n,sideOffset:t,className:ge("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...e})}));BA.displayName=zA.displayName;const VD="sidebar:state",YD=60*60*24*7,XD="20vw",qD="18rem",KD="3rem",QD="b",LA=F.createContext(null);function rp(){const a=F.useContext(LA);if(!a)throw new Error("useSidebar must be used within a SidebarProvider.");return a}const UA=F.forwardRef(({defaultOpen:a=!0,open:t,onOpenChange:e,className:n,style:r,children:l,...h},f)=>{const d=ZE(),[p,v]=F.useState(!1),[b,A]=F.useState(a),S=t??b,x=F.useCallback(T=>{const O=typeof T=="function"?T(S):T;e?e(O):A(O),document.cookie=`${VD}=${O}; path=/; max-age=${YD}`},[e,S]),w=F.useCallback(()=>d?v(T=>!T):x(T=>!T),[d,x,v]);F.useEffect(()=>{const T=O=>{O.key===QD&&(O.metaKey||O.ctrlKey)&&(O.preventDefault(),w())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[w]);const M=S?"expanded":"collapsed",D=F.useMemo(()=>({state:M,open:S,setOpen:x,isMobile:d,openMobile:p,setOpenMobile:v,toggleSidebar:w}),[M,S,x,d,p,v,w]);return $.jsx(LA.Provider,{value:D,children:$.jsx(kD,{delayDuration:0,children:$.jsx("div",{style:{"--sidebar-width":XD,"--sidebar-width-icon":KD,...r},className:ge("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:f,...h,children:l})})})});UA.displayName="SidebarProvider";const GA=F.forwardRef(({side:a="left",variant:t="sidebar",collapsible:e="offcanvas",className:n,children:r,...l},h)=>{const{isMobile:f,state:d,openMobile:p,setOpenMobile:v}=rp();return e==="none"?$.jsx("div",{className:ge("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:h,...l,children:r}):f?$.jsx(aM,{open:p,onOpenChange:v,...l,children:$.jsx(aA,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":qD},side:a,children:$.jsx("div",{className:"flex h-full w-full flex-col",children:r})})}):$.jsxs("div",{ref:h,className:"group peer hidden md:block text-sidebar-foreground","data-state":d,"data-collapsible":d==="collapsed"?e:"","data-variant":t,"data-side":a,children:[$.jsx("div",{className:ge("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),$.jsx("div",{className:ge("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",a==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...l,children:$.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:r})})]})});GA.displayName="Sidebar";const WD=F.forwardRef(({className:a,onClick:t,...e},n)=>{const{toggleSidebar:r}=rp();return $.jsxs(b4,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ge("h-7 w-7",a),onClick:l=>{t==null||t(l),r()},...e,children:[$.jsx(QE,{}),$.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});WD.displayName="SidebarTrigger";const ZD=F.forwardRef(({className:a,...t},e)=>{const{toggleSidebar:n}=rp();return $.jsx("button",{ref:e,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:ge("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",a),...t})});ZD.displayName="SidebarRail";const ID=F.forwardRef(({className:a,...t},e)=>$.jsx("main",{ref:e,className:ge("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",a),...t}));ID.displayName="SidebarInset";const JD=F.forwardRef(({className:a,...t},e)=>$.jsx(_4,{ref:e,"data-sidebar":"input",className:ge("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",a),...t}));JD.displayName="SidebarInput";const $D=F.forwardRef(({className:a,...t},e)=>$.jsx("div",{ref:e,"data-sidebar":"header",className:ge("flex flex-col gap-2 p-2",a),...t}));$D.displayName="SidebarHeader";const tR=F.forwardRef(({className:a,...t},e)=>$.jsx("div",{ref:e,"data-sidebar":"footer",className:ge("flex flex-col gap-2 p-2",a),...t}));tR.displayName="SidebarFooter";const eR=F.forwardRef(({className:a,...t},e)=>$.jsx(x4,{ref:e,"data-sidebar":"separator",className:ge("mx-2 w-auto bg-sidebar-border",a),...t}));eR.displayName="SidebarSeparator";const HA=F.forwardRef(({className:a,...t},e)=>$.jsx("div",{ref:e,"data-sidebar":"content",className:ge("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",a),...t}));HA.displayName="SidebarContent";const kA=F.forwardRef(({className:a,...t},e)=>$.jsx("div",{ref:e,"data-sidebar":"group",className:ge("relative flex w-full min-w-0 flex-col p-2",a),...t}));kA.displayName="SidebarGroup";const PA=F.forwardRef(({className:a,asChild:t=!1,...e},n)=>{const r=t?Yo:"div";return $.jsx(r,{ref:n,"data-sidebar":"group-label",className:ge("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",a),...e})});PA.displayName="SidebarGroupLabel";const nR=F.forwardRef(({className:a,asChild:t=!1,...e},n)=>{const r=t?Yo:"button";return $.jsx(r,{ref:n,"data-sidebar":"group-action",className:ge("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",a),...e})});nR.displayName="SidebarGroupAction";const FA=F.forwardRef(({className:a,...t},e)=>$.jsx("div",{ref:e,"data-sidebar":"group-content",className:ge("w-full text-sm",a),...t}));FA.displayName="SidebarGroupContent";const VA=F.forwardRef(({className:a,...t},e)=>$.jsx("ul",{ref:e,"data-sidebar":"menu",className:ge("flex w-full min-w-0 flex-col gap-1",a),...t}));VA.displayName="SidebarMenu";const mv=F.forwardRef(({className:a,...t},e)=>$.jsx("li",{ref:e,"data-sidebar":"menu-item",className:ge("group/menu-item relative",a),...t}));mv.displayName="SidebarMenuItem";const iR=ey("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),pv=F.forwardRef(({asChild:a=!1,isActive:t=!1,variant:e="default",size:n="default",tooltip:r,className:l,...h},f)=>{const d=a?Yo:"button",{isMobile:p,state:v}=rp(),b=$.jsx(d,{ref:f,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:ge(iR({variant:e,size:n}),l),...h});return r?(typeof r=="string"&&(r={children:r}),$.jsxs(PD,{children:[$.jsx(FD,{asChild:!0,children:b}),$.jsx(BA,{side:"right",align:"center",hidden:v!=="collapsed"||p,...r})]})):b});pv.displayName="SidebarMenuButton";const aR=F.forwardRef(({className:a,asChild:t=!1,showOnHover:e=!1,...n},r)=>{const l=t?Yo:"button";return $.jsx(l,{ref:r,"data-sidebar":"menu-action",className:ge("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",a),...n})});aR.displayName="SidebarMenuAction";const rR=F.forwardRef(({className:a,...t},e)=>$.jsx("div",{ref:e,"data-sidebar":"menu-badge",className:ge("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",a),...t}));rR.displayName="SidebarMenuBadge";const sR=F.forwardRef(({className:a,showIcon:t=!1,...e},n)=>{const r=F.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return $.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:ge("rounded-md h-8 flex gap-2 px-2 items-center",a),...e,children:[t&&$.jsx(q3,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),$.jsx(q3,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":r}})]})});sR.displayName="SidebarMenuSkeleton";const oR=F.forwardRef(({className:a,...t},e)=>$.jsx("ul",{ref:e,"data-sidebar":"menu-sub",className:ge("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",a),...t}));oR.displayName="SidebarMenuSub";const lR=F.forwardRef(({...a},t)=>$.jsx("li",{ref:t,...a}));lR.displayName="SidebarMenuSubItem";const cR=F.forwardRef(({asChild:a=!1,size:t="md",isActive:e,className:n,...r},l)=>{const h=a?Yo:"a";return $.jsx(h,{ref:l,"data-sidebar":"menu-sub-button","data-size":t,"data-active":e,className:ge("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...r})});cR.displayName="SidebarMenuSubButton";var _y="Avatar",[uR,GN]=Im(_y),[hR,YA]=uR(_y),XA=F.forwardRef((a,t)=>{const{__scopeAvatar:e,...n}=a,[r,l]=F.useState("idle");return $.jsx(hR,{scope:e,imageLoadingStatus:r,onImageLoadingStatusChange:l,children:$.jsx(ai.span,{...n,ref:t})})});XA.displayName=_y;var qA="AvatarImage",KA=F.forwardRef((a,t)=>{const{__scopeAvatar:e,src:n,onLoadingStatusChange:r=()=>{},...l}=a,h=YA(qA,e),f=fR(n,l.referrerPolicy),d=Go(p=>{r(p),h.onImageLoadingStatusChange(p)});return Uo(()=>{f!=="idle"&&d(f)},[f,d]),f==="loaded"?$.jsx(ai.img,{...l,ref:t,src:n}):null});KA.displayName=qA;var QA="AvatarFallback",WA=F.forwardRef((a,t)=>{const{__scopeAvatar:e,delayMs:n,...r}=a,l=YA(QA,e),[h,f]=F.useState(n===void 0);return F.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>f(!0),n);return()=>window.clearTimeout(d)}},[n]),h&&l.imageLoadingStatus!=="loaded"?$.jsx(ai.span,{...r,ref:t}):null});WA.displayName=QA;function fR(a,t){const[e,n]=F.useState("idle");return Uo(()=>{if(!a){n("error");return}let r=!0;const l=new window.Image,h=f=>()=>{r&&n(f)};return n("loading"),l.onload=h("loaded"),l.onerror=h("error"),l.src=a,t&&(l.referrerPolicy=t),()=>{r=!1}},[a,t]),e}var ZA=XA,IA=KA,JA=WA;const $A=F.forwardRef(({className:a,...t},e)=>$.jsx(ZA,{ref:e,className:ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));$A.displayName=ZA.displayName;const t6=F.forwardRef(({className:a,...t},e)=>$.jsx(IA,{ref:e,className:ge("aspect-square h-full w-full",a),...t}));t6.displayName=IA.displayName;const e6=F.forwardRef(({className:a,...t},e)=>$.jsx(JA,{ref:e,className:ge("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));e6.displayName=JA.displayName;var n6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},e_=dn.createContext&&dn.createContext(n6),dR=["attr","size","title"];function gR(a,t){if(a==null)return{};var e=mR(a,t),n,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(a,n)&&(e[n]=a[n])}return e}function mR(a,t){if(a==null)return{};var e={};for(var n in a)if(Object.prototype.hasOwnProperty.call(a,n)){if(t.indexOf(n)>=0)continue;e[n]=a[n]}return e}function Em(){return Em=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])}return a},Em.apply(this,arguments)}function n_(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),e.push.apply(e,n)}return e}function wm(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(e),!0).forEach(function(n){pR(a,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):n_(Object(e)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(e,n))})}return a}function pR(a,t,e){return t=vR(t),t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function vR(a){var t=yR(a,"string");return typeof t=="symbol"?t:t+""}function yR(a,t){if(typeof a!="object"||!a)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var n=e.call(a,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function i6(a){return a&&a.map((t,e)=>dn.createElement(t.tag,wm({key:e},t.attr),i6(t.child)))}function Sy(a){return t=>dn.createElement(bR,Em({attr:wm({},a.attr)},t),i6(a.child))}function bR(a){var t=e=>{var{attr:n,size:r,title:l}=a,h=gR(a,dR),f=r||e.size||"1em",d;return e.className&&(d=e.className),a.className&&(d=(d?d+" ":"")+a.className),dn.createElement("svg",Em({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,h,{className:d,style:wm(wm({color:a.color||e.color},e.style),a.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&dn.createElement("title",null,l),a.children)};return e_!==void 0?dn.createElement(e_.Consumer,null,e=>t(e)):t(n6)}function _R(a){return Sy({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Dark"},child:[{tag:"path",attr:{d:"M12.741,20.917a9.389,9.389,0,0,1-1.395-.105,9.141,9.141,0,0,1-1.465-17.7,1.177,1.177,0,0,1,1.21.281,1.273,1.273,0,0,1,.325,1.293,8.112,8.112,0,0,0-.353,2.68,8.266,8.266,0,0,0,4.366,6.857,7.628,7.628,0,0,0,3.711.993,1.242,1.242,0,0,1,.994,1.963h0A9.148,9.148,0,0,1,12.741,20.917ZM10.261,4.05a.211.211,0,0,0-.065.011,8.137,8.137,0,1,0,9.131,12.526h0a.224.224,0,0,0,.013-.235.232.232,0,0,0-.206-.136A8.619,8.619,0,0,1,14.946,15.1a9.274,9.274,0,0,1-4.883-7.7,9.123,9.123,0,0,1,.4-3.008.286.286,0,0,0-.069-.285A.184.184,0,0,0,10.261,4.05Z"},child:[]}]}]})(a)}function SR(a){return Sy({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Light"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12,18.09A6.09,6.09,0,1,1,18.09,12,6.1,6.1,0,0,1,12,18.09ZM12,6.91A5.09,5.09,0,1,0,17.09,12,5.1,5.1,0,0,0,12,6.91Z"},child:[]},{tag:"path",attr:{d:"M11.5,2.568v1.6a.5.5,0,1,0,1,0v-1.6a.5.5,0,1,0-1,0Z"},child:[]},{tag:"path",attr:{d:"M12.5,21.432v-1.6a.5.5,0,0,0-1,0v1.6a.5.5,0,1,0,1,0Z"},child:[]},{tag:"path",attr:{d:"M21.432,11.5h-1.6a.5.5,0,0,0,0,1h1.6a.5.5,0,1,0,0-1Z"},child:[]},{tag:"path",attr:{d:"M2.568,12.5h1.6a.5.5,0,1,0,0-1h-1.6a.5.5,0,1,0,0,1Z"},child:[]},{tag:"path",attr:{d:"M18.316,4.977l-.992.992-.141.141a.514.514,0,0,0-.146.353.508.508,0,0,0,.146.354.5.5,0,0,0,.354.146.515.515,0,0,0,.353-.146l.992-.992.141-.141a.515.515,0,0,0,.147-.354.508.508,0,0,0-.147-.353.5.5,0,0,0-.353-.147.522.522,0,0,0-.354.147Z"},child:[]},{tag:"path",attr:{d:"M5.684,19.023l.992-.992.141-.141a.514.514,0,0,0,.146-.353.508.508,0,0,0-.146-.354.5.5,0,0,0-.354-.146.515.515,0,0,0-.353.146l-.992.992-.141.141a.515.515,0,0,0-.147.354.508.508,0,0,0,.147.353.5.5,0,0,0,.353.147.522.522,0,0,0,.354-.147Z"},child:[]},{tag:"path",attr:{d:"M19.023,18.316l-.992-.992-.141-.141a.514.514,0,0,0-.353-.146.508.508,0,0,0-.354.146.5.5,0,0,0-.146.354.515.515,0,0,0,.146.353l.992.992.141.141a.515.515,0,0,0,.354.147.508.508,0,0,0,.353-.147.5.5,0,0,0,.147-.353.522.522,0,0,0-.147-.354Z"},child:[]},{tag:"path",attr:{d:"M4.977,5.684l.992.992.141.141a.514.514,0,0,0,.353.146.508.508,0,0,0,.354-.146.5.5,0,0,0,.146-.354.515.515,0,0,0-.146-.353l-.992-.992-.141-.141A.515.515,0,0,0,5.33,4.83a.508.508,0,0,0-.353.147.5.5,0,0,0-.147.353.522.522,0,0,0,.147.354Z"},child:[]}]}]}]})(a)}const AR="data:image/svg+xml,%3csvg%20width='16'%20height='18'%20viewBox='0%200%2016%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='8.0006'%20cy='5.21739'%20r='5.21739'%20fill='%23FF2626'/%3e%3cellipse%20cx='8'%20cy='15'%20rx='8'%20ry='3'%20fill='%23AF0404'/%3e%3c/svg%3e";function pi(a){return`Minified Redux error #${a}; visit https://redux.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}var xR=typeof Symbol=="function"&&Symbol.observable||"@@observable",i_=xR,H2=()=>Math.random().toString(36).substring(7).split("").join("."),CR={INIT:`@@redux/INIT${H2()}`,REPLACE:`@@redux/REPLACE${H2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${H2()}`},Om=CR;function Ay(a){if(typeof a!="object"||a===null)return!1;let t=a;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(a)===t||Object.getPrototypeOf(a)===null}function a6(a,t,e){if(typeof a!="function")throw new Error(pi(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(pi(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(pi(1));return e(a6)(a,t)}let n=a,r=t,l=new Map,h=l,f=0,d=!1;function p(){h===l&&(h=new Map,l.forEach((M,D)=>{h.set(D,M)}))}function v(){if(d)throw new Error(pi(3));return r}function b(M){if(typeof M!="function")throw new Error(pi(4));if(d)throw new Error(pi(5));let D=!0;p();const T=f++;return h.set(T,M),function(){if(D){if(d)throw new Error(pi(6));D=!1,p(),h.delete(T),l=null}}}function A(M){if(!Ay(M))throw new Error(pi(7));if(typeof M.type>"u")throw new Error(pi(8));if(typeof M.type!="string")throw new Error(pi(17));if(d)throw new Error(pi(9));try{d=!0,r=n(r,M)}finally{d=!1}return(l=h).forEach(T=>{T()}),M}function S(M){if(typeof M!="function")throw new Error(pi(10));n=M,A({type:Om.REPLACE})}function x(){const M=b;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(pi(11));function T(){const R=D;R.next&&R.next(v())}return T(),{unsubscribe:M(T)}},[i_](){return this}}}return A({type:Om.INIT}),{dispatch:A,subscribe:b,getState:v,replaceReducer:S,[i_]:x}}function TR(a){Object.keys(a).forEach(t=>{const e=a[t];if(typeof e(void 0,{type:Om.INIT})>"u")throw new Error(pi(12));if(typeof e(void 0,{type:Om.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pi(13))})}function ER(a){const t=Object.keys(a),e={};for(let l=0;l<t.length;l++){const h=t[l];typeof a[h]=="function"&&(e[h]=a[h])}const n=Object.keys(e);let r;try{TR(e)}catch(l){r=l}return function(h={},f){if(r)throw r;let d=!1;const p={};for(let v=0;v<n.length;v++){const b=n[v],A=e[b],S=h[b],x=A(S,f);if(typeof x>"u")throw f&&f.type,new Error(pi(14));p[b]=x,d=d||x!==S}return d=d||n.length!==Object.keys(h).length,d?p:h}}function Mm(...a){return a.length===0?t=>t:a.length===1?a[0]:a.reduce((t,e)=>(...n)=>t(e(...n)))}function wR(...a){return t=>(e,n)=>{const r=t(e,n);let l=()=>{throw new Error(pi(15))};const h={getState:r.getState,dispatch:(d,...p)=>l(d,...p)},f=a.map(d=>d(h));return l=Mm(...f)(r.dispatch),{...r,dispatch:l}}}function OR(a){return Ay(a)&&"type"in a&&typeof a.type=="string"}var r6=Symbol.for("immer-nothing"),a_=Symbol.for("immer-draftable"),ja=Symbol.for("immer-state");function Yr(a,...t){throw new Error(`[Immer] minified error nr: ${a}. Full error at: https://bit.ly/3cXEKWf`)}var Lh=Object.getPrototypeOf;function uu(a){return!!a&&!!a[ja]}function Po(a){var t;return a?s6(a)||Array.isArray(a)||!!a[a_]||!!((t=a.constructor)!=null&&t[a_])||op(a)||lp(a):!1}var MR=Object.prototype.constructor.toString();function s6(a){if(!a||typeof a!="object")return!1;const t=Lh(a);if(t===null)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return e===Object?!0:typeof e=="function"&&Function.toString.call(e)===MR}function Dm(a,t){sp(a)===0?Reflect.ownKeys(a).forEach(e=>{t(e,a[e],a)}):a.forEach((e,n)=>t(n,e,a))}function sp(a){const t=a[ja];return t?t.type_:Array.isArray(a)?1:op(a)?2:lp(a)?3:0}function vv(a,t){return sp(a)===2?a.has(t):Object.prototype.hasOwnProperty.call(a,t)}function o6(a,t,e){const n=sp(a);n===2?a.set(t,e):n===3?a.add(e):a[t]=e}function DR(a,t){return a===t?a!==0||1/a===1/t:a!==a&&t!==t}function op(a){return a instanceof Map}function lp(a){return a instanceof Set}function Jc(a){return a.copy_||a.base_}function yv(a,t){if(op(a))return new Map(a);if(lp(a))return new Set(a);if(Array.isArray(a))return Array.prototype.slice.call(a);const e=s6(a);if(t===!0||t==="class_only"&&!e){const n=Object.getOwnPropertyDescriptors(a);delete n[ja];let r=Reflect.ownKeys(n);for(let l=0;l<r.length;l++){const h=r[l],f=n[h];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(n[h]={configurable:!0,writable:!0,enumerable:f.enumerable,value:a[h]})}return Object.create(Lh(a),n)}else{const n=Lh(a);if(n!==null&&e)return{...a};const r=Object.create(n);return Object.assign(r,a)}}function xy(a,t=!1){return cp(a)||uu(a)||!Po(a)||(sp(a)>1&&(a.set=a.add=a.clear=a.delete=RR),Object.freeze(a),t&&Object.entries(a).forEach(([e,n])=>xy(n,!0))),a}function RR(){Yr(2)}function cp(a){return Object.isFrozen(a)}var NR={};function hu(a){const t=NR[a];return t||Yr(0,a),t}var A0;function l6(){return A0}function jR(a,t){return{drafts_:[],parent_:a,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function r_(a,t){t&&(hu("Patches"),a.patches_=[],a.inversePatches_=[],a.patchListener_=t)}function bv(a){_v(a),a.drafts_.forEach(zR),a.drafts_=null}function _v(a){a===A0&&(A0=a.parent_)}function s_(a){return A0=jR(A0,a)}function zR(a){const t=a[ja];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function o_(a,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return a!==void 0&&a!==e?(e[ja].modified_&&(bv(t),Yr(4)),Po(a)&&(a=Rm(t,a),t.parent_||Nm(t,a)),t.patches_&&hu("Patches").generateReplacementPatches_(e[ja].base_,a,t.patches_,t.inversePatches_)):a=Rm(t,e,[]),bv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),a!==r6?a:void 0}function Rm(a,t,e){if(cp(t))return t;const n=t[ja];if(!n)return Dm(t,(r,l)=>l_(a,n,t,r,l,e)),t;if(n.scope_!==a)return t;if(!n.modified_)return Nm(a,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const r=n.copy_;let l=r,h=!1;n.type_===3&&(l=new Set(r),r.clear(),h=!0),Dm(l,(f,d)=>l_(a,n,r,f,d,e,h)),Nm(a,r,!1),e&&a.patches_&&hu("Patches").generatePatches_(n,e,a.patches_,a.inversePatches_)}return n.copy_}function l_(a,t,e,n,r,l,h){if(uu(r)){const f=l&&t&&t.type_!==3&&!vv(t.assigned_,n)?l.concat(n):void 0,d=Rm(a,r,f);if(o6(e,n,d),uu(d))a.canAutoFreeze_=!1;else return}else h&&e.add(r);if(Po(r)&&!cp(r)){if(!a.immer_.autoFreeze_&&a.unfinalizedDrafts_<1)return;Rm(a,r),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(e,n)&&Nm(a,r)}}function Nm(a,t,e=!1){!a.parent_&&a.immer_.autoFreeze_&&a.canAutoFreeze_&&xy(t,e)}function BR(a,t){const e=Array.isArray(a),n={type_:e?1:0,scope_:t?t.scope_:l6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:a,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=n,l=Cy;e&&(r=[n],l=x0);const{revoke:h,proxy:f}=Proxy.revocable(r,l);return n.draft_=f,n.revoke_=h,f}var Cy={get(a,t){if(t===ja)return a;const e=Jc(a);if(!vv(e,t))return LR(a,e,t);const n=e[t];return a.finalized_||!Po(n)?n:n===k2(a.base_,t)?(P2(a),a.copy_[t]=Av(n,a)):n},has(a,t){return t in Jc(a)},ownKeys(a){return Reflect.ownKeys(Jc(a))},set(a,t,e){const n=c6(Jc(a),t);if(n!=null&&n.set)return n.set.call(a.draft_,e),!0;if(!a.modified_){const r=k2(Jc(a),t),l=r==null?void 0:r[ja];if(l&&l.base_===e)return a.copy_[t]=e,a.assigned_[t]=!1,!0;if(DR(e,r)&&(e!==void 0||vv(a.base_,t)))return!0;P2(a),Sv(a)}return a.copy_[t]===e&&(e!==void 0||t in a.copy_)||Number.isNaN(e)&&Number.isNaN(a.copy_[t])||(a.copy_[t]=e,a.assigned_[t]=!0),!0},deleteProperty(a,t){return k2(a.base_,t)!==void 0||t in a.base_?(a.assigned_[t]=!1,P2(a),Sv(a)):delete a.assigned_[t],a.copy_&&delete a.copy_[t],!0},getOwnPropertyDescriptor(a,t){const e=Jc(a),n=Reflect.getOwnPropertyDescriptor(e,t);return n&&{writable:!0,configurable:a.type_!==1||t!=="length",enumerable:n.enumerable,value:e[t]}},defineProperty(){Yr(11)},getPrototypeOf(a){return Lh(a.base_)},setPrototypeOf(){Yr(12)}},x0={};Dm(Cy,(a,t)=>{x0[a]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});x0.deleteProperty=function(a,t){return x0.set.call(this,a,t,void 0)};x0.set=function(a,t,e){return Cy.set.call(this,a[0],t,e,a[0])};function k2(a,t){const e=a[ja];return(e?Jc(e):a)[t]}function LR(a,t,e){var r;const n=c6(t,e);return n?"value"in n?n.value:(r=n.get)==null?void 0:r.call(a.draft_):void 0}function c6(a,t){if(!(t in a))return;let e=Lh(a);for(;e;){const n=Object.getOwnPropertyDescriptor(e,t);if(n)return n;e=Lh(e)}}function Sv(a){a.modified_||(a.modified_=!0,a.parent_&&Sv(a.parent_))}function P2(a){a.copy_||(a.copy_=yv(a.base_,a.scope_.immer_.useStrictShallowCopy_))}var UR=class{constructor(a){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,n)=>{if(typeof t=="function"&&typeof e!="function"){const l=e;e=t;const h=this;return function(d=l,...p){return h.produce(d,v=>e.call(this,v,...p))}}typeof e!="function"&&Yr(6),n!==void 0&&typeof n!="function"&&Yr(7);let r;if(Po(t)){const l=s_(this),h=Av(t,void 0);let f=!0;try{r=e(h),f=!1}finally{f?bv(l):_v(l)}return r_(l,n),o_(r,l)}else if(!t||typeof t!="object"){if(r=e(t),r===void 0&&(r=t),r===r6&&(r=void 0),this.autoFreeze_&&xy(r,!0),n){const l=[],h=[];hu("Patches").generateReplacementPatches_(t,r,l,h),n(l,h)}return r}else Yr(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(h,...f)=>this.produceWithPatches(h,d=>t(d,...f));let n,r;return[this.produce(t,e,(h,f)=>{n=h,r=f}),n,r]},typeof(a==null?void 0:a.autoFreeze)=="boolean"&&this.setAutoFreeze(a.autoFreeze),typeof(a==null?void 0:a.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(a.useStrictShallowCopy)}createDraft(a){Po(a)||Yr(8),uu(a)&&(a=GR(a));const t=s_(this),e=Av(a,void 0);return e[ja].isManual_=!0,_v(t),e}finishDraft(a,t){const e=a&&a[ja];(!e||!e.isManual_)&&Yr(9);const{scope_:n}=e;return r_(n,t),o_(void 0,n)}setAutoFreeze(a){this.autoFreeze_=a}setUseStrictShallowCopy(a){this.useStrictShallowCopy_=a}applyPatches(a,t){let e;for(e=t.length-1;e>=0;e--){const r=t[e];if(r.path.length===0&&r.op==="replace"){a=r.value;break}}e>-1&&(t=t.slice(e+1));const n=hu("Patches").applyPatches_;return uu(a)?n(a,t):this.produce(a,r=>n(r,t))}};function Av(a,t){const e=op(a)?hu("MapSet").proxyMap_(a,t):lp(a)?hu("MapSet").proxySet_(a,t):BR(a,t);return(t?t.scope_:l6()).drafts_.push(e),e}function GR(a){return uu(a)||Yr(10,a),u6(a)}function u6(a){if(!Po(a)||cp(a))return a;const t=a[ja];let e;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=yv(a,t.scope_.immer_.useStrictShallowCopy_)}else e=yv(a,!0);return Dm(e,(n,r)=>{o6(e,n,u6(r))}),t&&(t.finalized_=!1),e}var za=new UR,h6=za.produce;za.produceWithPatches.bind(za);za.setAutoFreeze.bind(za);za.setUseStrictShallowCopy.bind(za);za.applyPatches.bind(za);za.createDraft.bind(za);za.finishDraft.bind(za);function f6(a){return({dispatch:e,getState:n})=>r=>l=>typeof l=="function"?l(e,n,a):r(l)}var HR=f6(),kR=f6,PR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mm:Mm.apply(null,arguments)};function c_(a,t){function e(...n){if(t){let r=t(...n);if(!r)throw new Error(zo(0));return{type:a,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:a,payload:n[0]}}return e.toString=()=>`${a}`,e.type=a,e.match=n=>OR(n)&&n.type===a,e}var d6=class o0 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,o0.prototype)}static get[Symbol.species](){return o0}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new o0(...t[0].concat(this)):new o0(...t.concat(this))}};function u_(a){return Po(a)?h6(a,()=>{}):a}function h_(a,t,e){return a.has(t)?a.get(t):a.set(t,e(t)).get(t)}function FR(a){return typeof a=="boolean"}var VR=()=>function(t){const{thunk:e=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:l=!0}=t??{};let h=new d6;return e&&(FR(e)?h.push(HR):h.push(kR(e.extraArgument))),h},YR="RTK_autoBatch",f_=a=>t=>{setTimeout(t,a)},XR=(a={type:"raf"})=>t=>(...e)=>{const n=t(...e);let r=!0,l=!1,h=!1;const f=new Set,d=a.type==="tick"?queueMicrotask:a.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:f_(10):a.type==="callback"?a.queueNotification:f_(a.timeout),p=()=>{h=!1,l&&(l=!1,f.forEach(v=>v()))};return Object.assign({},n,{subscribe(v){const b=()=>r&&v(),A=n.subscribe(b);return f.add(v),()=>{A(),f.delete(v)}},dispatch(v){var b;try{return r=!((b=v==null?void 0:v.meta)!=null&&b[YR]),l=!r,l&&(h||(h=!0,d(p))),n.dispatch(v)}finally{r=!0}}})},qR=a=>function(e){const{autoBatch:n=!0}=e??{};let r=new d6(a);return n&&r.push(XR(typeof n=="object"?n:void 0)),r};function KR(a){const t=VR(),{reducer:e=void 0,middleware:n,devTools:r=!0,preloadedState:l=void 0,enhancers:h=void 0}=a||{};let f;if(typeof e=="function")f=e;else if(Ay(e))f=ER(e);else throw new Error(zo(1));let d;typeof n=="function"?d=n(t):d=t();let p=Mm;r&&(p=PR({trace:!1,...typeof r=="object"&&r}));const v=wR(...d),b=qR(v);let A=typeof h=="function"?h(b):b();const S=p(...A);return a6(f,l,S)}function g6(a){const t={},e=[];let n;const r={addCase(l,h){const f=typeof l=="string"?l:l.type;if(!f)throw new Error(zo(28));if(f in t)throw new Error(zo(29));return t[f]=h,r},addMatcher(l,h){return e.push({matcher:l,reducer:h}),r},addDefaultCase(l){return n=l,r}};return a(r),[t,e,n]}function QR(a){return typeof a=="function"}function WR(a,t){let[e,n,r]=g6(t),l;if(QR(a))l=()=>u_(a());else{const f=u_(a);l=()=>f}function h(f=l(),d){let p=[e[d.type],...n.filter(({matcher:v})=>v(d)).map(({reducer:v})=>v)];return p.filter(v=>!!v).length===0&&(p=[r]),p.reduce((v,b)=>{if(b)if(uu(v)){const S=b(v,d);return S===void 0?v:S}else{if(Po(v))return h6(v,A=>b(A,d));{const A=b(v,d);if(A===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return A}}return v},f)}return h.getInitialState=l,h}var ZR=Symbol.for("rtk-slice-createasyncthunk");function IR(a,t){return`${a}/${t}`}function JR({creators:a}={}){var e;const t=(e=a==null?void 0:a.asyncThunk)==null?void 0:e[ZR];return function(r){const{name:l,reducerPath:h=l}=r;if(!l)throw new Error(zo(11));typeof process<"u";const f=(typeof r.reducers=="function"?r.reducers(eN()):r.reducers)||{},d=Object.keys(f),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},v={addCase(O,R){const z=typeof O=="string"?O:O.type;if(!z)throw new Error(zo(12));if(z in p.sliceCaseReducersByType)throw new Error(zo(13));return p.sliceCaseReducersByType[z]=R,v},addMatcher(O,R){return p.sliceMatchers.push({matcher:O,reducer:R}),v},exposeAction(O,R){return p.actionCreators[O]=R,v},exposeCaseReducer(O,R){return p.sliceCaseReducersByName[O]=R,v}};d.forEach(O=>{const R=f[O],z={reducerName:O,type:IR(l,O),createNotation:typeof r.reducers=="function"};iN(R)?rN(z,R,v,t):nN(z,R,v)});function b(){const[O={},R=[],z=void 0]=typeof r.extraReducers=="function"?g6(r.extraReducers):[r.extraReducers],H={...O,...p.sliceCaseReducersByType};return WR(r.initialState,V=>{for(let P in H)V.addCase(P,H[P]);for(let P of p.sliceMatchers)V.addMatcher(P.matcher,P.reducer);for(let P of R)V.addMatcher(P.matcher,P.reducer);z&&V.addDefaultCase(z)})}const A=O=>O,S=new Map;let x;function w(O,R){return x||(x=b()),x(O,R)}function M(){return x||(x=b()),x.getInitialState()}function D(O,R=!1){function z(V){let P=V[O];return typeof P>"u"&&R&&(P=M()),P}function H(V=A){const P=h_(S,R,()=>new WeakMap);return h_(P,V,()=>{const K={};for(const[B,Y]of Object.entries(r.selectors??{}))K[B]=$R(Y,V,M,R);return K})}return{reducerPath:O,getSelectors:H,get selectors(){return H(z)},selectSlice:z}}const T={name:l,reducer:w,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:M,...D(h),injectInto(O,{reducerPath:R,...z}={}){const H=R??h;return O.inject({reducerPath:H,reducer:w},z),{...T,...D(H,!0)}}};return T}}function $R(a,t,e,n){function r(l,...h){let f=t(l);return typeof f>"u"&&n&&(f=e()),a(f,...h)}return r.unwrapped=a,r}var tN=JR();function eN(){function a(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return a.withTypes=()=>a,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:a}}function nN({type:a,reducerName:t,createNotation:e},n,r){let l,h;if("reducer"in n){if(e&&!aN(n))throw new Error(zo(17));l=n.reducer,h=n.prepare}else l=n;r.addCase(a,l).exposeCaseReducer(t,l).exposeAction(t,h?c_(a,h):c_(a))}function iN(a){return a._reducerDefinitionType==="asyncThunk"}function aN(a){return a._reducerDefinitionType==="reducerWithPrepare"}function rN({type:a,reducerName:t},e,n,r){if(!r)throw new Error(zo(18));const{payloadCreator:l,fulfilled:h,pending:f,rejected:d,settled:p,options:v}=e,b=r(a,l,v);n.exposeAction(t,b),h&&n.addCase(b.fulfilled,h),f&&n.addCase(b.pending,f),d&&n.addCase(b.rejected,d),p&&n.addMatcher(b.settled,p),n.exposeCaseReducer(t,{fulfilled:h||Z1,pending:f||Z1,rejected:d||Z1,settled:p||Z1})}function Z1(){}function zo(a){return`Minified Redux Toolkit error #${a}; visit https://redux-toolkit.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}const sN={theme:"light"},m6=tN({name:"theme",initialState:sN,reducers:{toggleTheme(a){a.theme=a.theme==="light"?"dark":"light"},setTheme(a,t){a.theme=t.payload}}}),{toggleTheme:oN,setTheme:HN}=m6.actions,lN=m6.reducer,cN=()=>{const a=R8(),t=Lm(e=>e.theme.theme);return $.jsxs($.Fragment,{children:[$.jsxs("div",{className:"flex justify-center items-center",children:[$.jsxs($A,{children:[$.jsx(t6,{src:AR,alt:"@shadcn",className:"w-[20px]"}),$.jsx(e6,{children:"CN"})]}),$.jsx("p",{className:"text-lg text-red-600 uppercase font-bold",children:"Digital Twin Dashboard"})]}),$.jsxs("div",{className:"flex justify-center gap-3",children:[$.jsx(SR,{className:`text-2xl ${t!=="light"?"text-white":"text-black"}`}),$.jsx("div",{className:`w-12 h-6 flex items-center p-1 rounded-full cursor-pointer border border-black ${t!=="light"?"bg-red-600":"bg-[#D9D9D9]"}`,onClick:()=>a(oN()),children:$.jsx("div",{className:`w-4 h-4 rounded-full shadow-md transform transition-transform ${t!=="light"?"translate-x-6 bg-white":"translate-x-0  bg-red-600"}`})}),$.jsx(_R,{className:`text-2xl ${t!=="light"?"text-white":"text-black"}`})]})]})};function d_(a){return Sy({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.25 2A2.25 2.25 0 0 0 2 4.25v2.5A2.25 2.25 0 0 0 4.25 9h2.5A2.25 2.25 0 0 0 9 6.75v-2.5A2.25 2.25 0 0 0 6.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 2 13.25v2.5A2.25 2.25 0 0 0 4.25 18h2.5A2.25 2.25 0 0 0 9 15.75v-2.5A2.25 2.25 0 0 0 6.75 11h-2.5Zm9-9A2.25 2.25 0 0 0 11 4.25v2.5A2.25 2.25 0 0 0 13.25 9h2.5A2.25 2.25 0 0 0 18 6.75v-2.5A2.25 2.25 0 0 0 15.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 11 13.25v2.5A2.25 2.25 0 0 0 13.25 18h2.5A2.25 2.25 0 0 0 18 15.75v-2.5A2.25 2.25 0 0 0 15.75 11h-2.5Z",clipRule:"evenodd"},child:[]}]})(a)}const uN=[{title:"Caliper",url:"/caliper"},{title:"Clutch Disk",url:"/clutch-disk"},{title:"VCT",url:"/vct"}],hN=[{title:"JIT Dashboard",url:"/jit-dashboard"},{title:"Stagnation Problem Analysis",url:"/stagnation-problem-analysis"},{title:"Profile",url:"/profile"},{title:"Setting",url:"/setting"}];function fN(){const a=Lm(n=>n.theme.theme),[t,e]=F.useState("Caliper");return $.jsx(GA,{children:$.jsx(HA,{className:`${a!=="light"?"bg-[#2C2C2C]":"bg-[#D9D9D9]"}`,children:$.jsxs(kA,{children:[$.jsx(PA,{className:"ml-2 mt-4 mb-10 flex justify-between",children:$.jsx(cN,{})}),$.jsx(FA,{className:"px-5",children:$.jsxs(VA,{children:[$.jsx("p",{className:"font-bold text-lg mb-2",children:"MIFC"}),uN.map(n=>$.jsx(mv,{children:$.jsx(pv,{asChild:!0,children:$.jsxs(f8,{to:n.url,onClick:()=>e(n.title),className:`flex items-center gap-2 px-4 py-2 rounded-md ${t===n.title?"bg-red-600 text-white":a!=="light"?"text-white hover:bg-gray-700":"text-black hover:bg-gray-300"}`,children:[$.jsx(d_,{}),$.jsx("span",{children:n.title})]})})},n.title)),$.jsx("p",{className:"font-bold text-lg mb-2 mt-8",children:"Menu"}),hN.map(n=>$.jsx(mv,{children:$.jsx(pv,{asChild:!0,children:$.jsxs("a",{href:n.url,onClick:()=>e(n.title),className:`flex items-center gap-2 px-4 py-2 rounded-md ${t===n.title?"bg-red-600 text-white":a!=="light"?"text-white hover:bg-gray-700":"text-black hover:bg-gray-300"}`,children:[$.jsx(d_,{}),$.jsx("span",{children:n.title})]})})},n.title))]})})]})})})}function dN(){const a=Lm(t=>t.theme.theme);return $.jsxs(UA,{children:[$.jsx(fN,{}),$.jsx("main",{className:`w-full ${a!=="light"?"bg-[#252525] text-white":"bg-[#F1F1F1] text-black"}`,children:$.jsx(t8,{})})]})}const gN=()=>$.jsxs("div",{className:"w-full h-[100vh] flex flex-col justify-center items-center",children:[$.jsx("p",{className:"font-bold text-9xl",children:"404"}),$.jsx("p",{className:"text-3xl",children:"Page Not Found!"})]});function mN(){return $.jsx(c8,{children:$.jsxs(n8,{children:[$.jsxs(Sh,{path:"/",element:$.jsx(dN,{}),children:[$.jsx(Sh,{path:"/caliper",element:$.jsx(Z9,{})}),$.jsx(Sh,{path:"/clutch-disk",element:$.jsx(kE,{})}),$.jsx(Sh,{path:"/vct",element:$.jsx(PE,{})})]}),$.jsx(Sh,{path:"*",element:$.jsx(gN,{})})]})})}const pN=KR({reducer:{theme:lN}});ox.createRoot(document.getElementById("root")).render($.jsx(F.StrictMode,{children:$.jsx(O8,{store:pN,children:$.jsx(mN,{})})}));
